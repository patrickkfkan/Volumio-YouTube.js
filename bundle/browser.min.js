/* eslint-disable */
var tb=Object.defineProperty;var n=(t,e)=>tb(t,"name",{value:e,configurable:!0});var dI=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j=(t,e)=>{for(var i in e)tb(t,i,{get:e[i],enumerable:!0})};var ub=dI(()=>{var kn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis;function lb(t){try{new t}catch(e){return!1}return!0}n(lb,"isConstructor");(typeof kn.Event!="function"||!lb(kn.Event))&&(kn.Event=function(){function t(e,i){this.bubbles=!!i&&!!i.bubbles,this.cancelable=!!i&&!!i.cancelable,this.composed=!!i&&!!i.composed,this.type=e}return n(t,"Event"),t}());(typeof kn.EventTarget>"u"||!lb(kn.Event))&&(kn.EventTarget=function(){function t(){this.__listeners=new Map}return n(t,"EventTarget"),t.prototype=Object.create(Object.prototype),t.prototype.addEventListener=function(e,i,o){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();s.has(r)||s.set(r,new Map);let l=s.get(r);l.has(i)||l.set(i,o)},t.prototype.removeEventListener=function(e,i,o){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();if(s.has(r)){let l=s.get(r);l.has(i)&&l.delete(i)}},t.prototype.dispatchEvent=function(e){if(!(e instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");let i=e.type,s=this.__listeners.get(i);if(s)for(let[r,l]of s.entries()){try{typeof r=="function"?r.call(this,e):r&&typeof r.handleEvent=="function"&&r.handleEvent(e)}catch(p){setTimeout(()=>{throw p})}l&&l.once&&s.delete(r)}return!0},t}())});function ob(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(ob,"__setFunctionName");function b(t,e,i,o){function s(r){return r instanceof i?r:new i(function(l){l(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,l){function p(_){try{h(o.next(_))}catch(x){l(x)}}n(p,"fulfilled");function f(_){try{h(o.throw(_))}catch(x){l(x)}}n(f,"rejected");function h(_){_.done?r(_.value):s(_.value).then(p,f)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(b,"__awaiter");function ib(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(ib,"__values");function po(t){return this instanceof po?(this.v=t,this):new po(t)}n(po,"__await");function nb(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(w){o[w]&&(s[w]=function(I){return new Promise(function(S,N){r.push([w,I,S,N])>1||p(w,I)})})}function p(w,I){try{f(o[w](I))}catch(S){x(r[0][3],S)}}function f(w){w.value instanceof po?Promise.resolve(w.value.v).then(h,_):x(r[0][2],w)}function h(w){p("next",w)}function _(w){p("throw",w)}function x(w,I){w(I),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(nb,"__asyncGenerator");function sb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof ib=="function"?ib(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(l){return new Promise(function(p,f){l=t[r](l),s(p,f,l.done,l.value)})}}function s(r,l,p,f){Promise.resolve(f).then(function(h){r({value:h,done:p})},l)}}n(sb,"__asyncValues");function u(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(u,"__classPrivateFieldGet");function T(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(T,"__classPrivateFieldSet");var Qg={};j(Qg,{ChannelError:()=>us,InnertubeError:()=>g,MissingParamError:()=>en,OAuthError:()=>ai,ParsingError:()=>at,Platform:()=>O,PlayerError:()=>Mt,SessionError:()=>Rs,base64ToU8:()=>ax,concatMemos:()=>mx,debugFetch:()=>UI,deepCompare:()=>Vh,escapeStringRegexp:()=>Ix,generateRandomString:()=>gt,generateSidAuth:()=>Xg,getRandomUserAgent:()=>_o,getStringBetweenStrings:()=>Ke,hasKeys:()=>jI,isTextRun:()=>$e,streamToIterable:()=>Kg,throwIfMissing:()=>oe,timeToSeconds:()=>We,u8ToBase64:()=>_t});var Jg={};j(Jg,{Maybe:()=>ho,Memo:()=>Ri,SuperParsedResult:()=>Xt,YTNode:()=>a,observe:()=>le});var Hg,rb,Ae,pe,qt,pi,fo,ab=Symbol("ObservedArray.isObserved"),a=class{constructor(){Hg.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,Hg,"m",rb).call(this,i))}as(...e){if(!this.is(...e))throw new at(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new at(`Missing key ${e}`);return new ho(this[e])}};n(a,"YTNode");Hg=new WeakSet,rb=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var ho=class{constructor(e){Ae.add(this),pe.set(this,void 0),T(this,pe,e,"f")}get typeof(){return typeof u(this,pe,"f")}string(){return u(this,Ae,"m",pi).call(this,"string")}isString(){return u(this,Ae,"m",qt).call(this,"string")}number(){return u(this,Ae,"m",pi).call(this,"number")}isNumber(){return u(this,Ae,"m",qt).call(this,"number")}bigint(){return u(this,Ae,"m",pi).call(this,"bigint")}isBigint(){return u(this,Ae,"m",qt).call(this,"bigint")}boolean(){return u(this,Ae,"m",pi).call(this,"boolean")}isBoolean(){return u(this,Ae,"m",qt).call(this,"boolean")}symbol(){return u(this,Ae,"m",pi).call(this,"symbol")}isSymbol(){return u(this,Ae,"m",qt).call(this,"symbol")}undefined(){return u(this,Ae,"m",pi).call(this,"undefined")}isUndefined(){return u(this,Ae,"m",qt).call(this,"undefined")}null(){if(u(this,pe,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isNull(){return u(this,pe,"f")===null}object(){return u(this,Ae,"m",pi).call(this,"object")}isObject(){return u(this,Ae,"m",qt).call(this,"object")}function(){return u(this,Ae,"m",pi).call(this,"function")}isFunction(){return u(this,Ae,"m",qt).call(this,"function")}array(){if(!Array.isArray(u(this,pe,"f")))throw new TypeError(`Expected array, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new ho(Reflect.get(i,o))}})}isArray(){return Array.isArray(u(this,pe,"f"))}node(){if(!(u(this,pe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${u(this,pe,"f").constructor.name}`);return u(this,pe,"f")}isNode(){return u(this,pe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isObserved(){var e;return(e=u(this,pe,"f"))===null||e===void 0?void 0:e[ab]}parsed(){if(!(u(this,pe,"f")instanceof Xt))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isParsed(){return u(this,pe,"f")instanceof Xt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,pe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,pe,"f").constructor.name}`);return u(this,pe,"f")}isInstanceof(e){return u(this,pe,"f")instanceof e}};n(ho,"Maybe");pe=new WeakMap,Ae=new WeakSet,qt=n(function(e){return typeof u(this,pe,"f")===e},"_Maybe_checkPrimative"),pi=n(function(e){if(!u(this,Ae,"m",qt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,pe,"f")},"_Maybe_assertPrimative");var Xt=class{constructor(e){fo.set(this,void 0),T(this,fo,e,"f")}get is_null(){return u(this,fo,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,fo,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,fo,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,fo,"f")}};n(Xt,"SuperParsedResult");fo=new WeakMap;function le(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,l)=>{let p=Vh(o,r);return p&&s&&e.splice(l,1),p}):i==ab?!0:i=="getAll"?(o,s)=>e.filter((r,l)=>{let p=Vh(o,r);return p&&s&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>le(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>le(e.map(s=>{if(s.is(...o))return s;throw new at(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(le,"observe");var Ri=class extends Map{getType(...e){return e=e.flat(),le(e.flatMap(i=>this.get(i.type)||[]))}};n(Ri,"Memo");var Tx={};j(Tx,{Author:()=>B,ChildElement:()=>g_,EmojiRun:()=>Bi,Format:()=>Di,Text:()=>c,TextRun:()=>Li,Thumbnail:()=>y,VideoDetails:()=>Fi});var Se={};j(Se,{CLIENTS:()=>se,INNERTUBE_HEADERS_BASE:()=>pI,OAUTH:()=>Mi,STREAM_HEADERS:()=>yr,URLS:()=>Te});var Te=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Mi=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),se=Object.freeze({WEB:{NAME:"WEB",VERSION:"2.20230104.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"7.07.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),yr=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),pI=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var wr=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(wr,"AudioOnlyPlayability");wr.type="AudioOnlyPlayability";var Oh=wr;var mo,Bh=class{constructor(e,i){mo.set(this,void 0),T(this,mo,new O.shim.Cache(e,i),"f")}get cache_dir(){return u(this,mo,"f").cache_dir}get(e){return u(this,mo,"f").get(e)}set(e,i){return u(this,mo,"f").set(e,i)}remove(e){return u(this,mo,"f").remove(e)}};n(Bh,"UniversalCache");mo=new WeakMap;var fI=Bh;var Cn;ub();var Lh=class extends EventTarget{constructor(){super(),Cn.set(this,new Map)}emit(e,...i){let o=new O.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof O.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");u(this,Cn,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof O.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");u(this,Cn,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=u(this,Cn,"f").get(i);o&&(this.removeEventListener(e,o),u(this,Cn,"f").delete(i))}};n(Lh,"EventEmitterLike");Cn=new WeakMap;var Tr=Lh;var ke,ze,pb,cb,Gg,zg,db,Ir=class{static download(e,i,o,s,r,l){return b(this,void 0,void 0,function*(){if((o==null?void 0:o.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((o==null?void 0:o.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),f=this.chooseFormat(p,s),h=f.decipher(r);if(p.type==="video+audio"&&!e.range){let P=yield i.session.http.fetch_function(`${h}&cpn=${l}`,{method:"GET",headers:yr,redirect:"follow"});if(!P.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:P});let V=P.body;if(!V)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:P});return V}let _=1048576*10,x=e.range?e.range.start:0,w=e.range?e.range.end:_,I=!1,S;return new O.shim.ReadableStream({start(){},pull:P=>b(this,void 0,void 0,function*(){if(I){P.close();return}return(w>=(f.content_length?f.content_length:0)||e.range)&&(I=!0),new Promise((V,H)=>b(this,void 0,void 0,function*(){var Y,ue,xe,Be;try{S=new AbortController;let K=yield i.session.http.fetch_function(`${h}&cpn=${l}&range=${x}-${w||""}`,{method:"GET",headers:Object.assign({},yr),signal:S.signal}),te=K.body;if(!te)throw new g("Could not get ReadableStream from fetch Response.",{video:this,error_type:"FETCH_FAILED",response:K});try{for(var Le=!0,Qe=sb(Kg(te)),X;X=yield Qe.next(),Y=X.done,!Y;Le=!0){Be=X.value,Le=!1;let ee=Be;P.enqueue(ee)}}catch(ee){ue={error:ee}}finally{try{!Le&&!Y&&(xe=Qe.return)&&(yield xe.call(Qe))}finally{if(ue)throw ue.error}}x=w+1,w+=_,V();return}catch(K){H(K)}}))}),cancel(P){return b(this,void 0,void 0,function*(){S.abort(P)})}},{highWaterMark:1,size(P){return P.byteLength}})})}static chooseFormat(e,i){if(!i)throw new g("Streaming data not available");let o=[...i.formats||[],...i.adaptive_formats||[]],s=e.type?e.type.includes("audio"):!0,r=e.type?e.type.includes("video"):!0,l=e.language||"original",p=e.quality||"best",f=-1,h=["best","bestefficiency"].includes(p),_=p!=="best",x=o.filter(w=>s&&!w.has_audio||r&&!w.has_video||e.format!=="any"&&!w.mime_type.includes(e.format||"mp4")||!h&&w.quality_label!==p?!1:(f<w.width&&(f=w.width),!0));if(!x.length)throw new g("No matching formats found",{options:e});if(h&&r&&(x=x.filter(w=>w.width===f)),s&&!r){let w=x.filter(I=>l!=="original"?!I.has_video&&I.language===l:!I.has_video&&I.is_original);w.length>0&&(x=w)}return _?x.sort((w,I)=>w.bitrate-I.bitrate):x.sort((w,I)=>I.bitrate-w.bitrate),x[0]}static toDash(e,i=p=>p,o,s,r,l){return b(this,void 0,void 0,function*(){if(!e)throw new g("Streaming data not available");let p;if(o?p=e.adaptive_formats.filter(w=>!o(w)):p=e.adaptive_formats,!p.length)throw new g("No adaptive formats found");let f=p[0].approx_duration_ms/1e3,h=new O.shim.DOMParser().parseFromString('<?xml version="1.0" encoding="utf-8"?><MPD />',"application/xml"),_=h.querySelector("MPD"),x=h.createElement("Period");return _.replaceWith(u(this,ke,"m",ze).call(this,h,"MPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${f}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},[x])),yield u(this,ke,"m",pb).call(this,h,x,p,i,s,r,l),O.shim.serializeDOM(h)})}};n(Ir,"FormatUtils");ke=Ir,ze=n(function(e,i,o,s=[]){let r=e.createElement(i);for(let[l,p]of Object.entries(o))p&&r.setAttribute(l,p);for(let l of s)typeof l>"u"||r.appendChild(l);return r},"_FormatUtils_el"),pb=n(function(e,i,o,s,r,l,p){var f,h,_;return b(this,void 0,void 0,function*(){let x=[],w=[[]];o.forEach(S=>{if((!S.index_range||!S.init_range)&&!S.is_type_otf)return;let N=S.mime_type,P=x.indexOf(N);P>-1?w[P].push(S):(x.push(N),w.push([]),w[x.length-1].push(S))});let I=0;for(let S=0;S<x.length;S++)if(w[S][0].has_audio&&w[S][0].audio_track){let N=[],P=[[]];w[S].forEach(V=>{var H,Y;let ue=N.indexOf((H=V.audio_track)===null||H===void 0?void 0:H.id);ue>-1?P[ue].push(V):(N.push((Y=V.audio_track)===null||Y===void 0?void 0:Y.id),P.push([]),P[N.length-1].push(V))});for(let V=0;V<N.length;V++){let H=P[V][0],Y=[],ue;!((f=H.audio_track)===null||f===void 0)&&f.audio_is_default?ue="main":H.is_dubbed?ue="dub":H.is_descriptive?ue="description":ue="alternate",Y.push(u(this,ke,"m",ze).call(this,e,"Role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:ue}),u(this,ke,"m",ze).call(this,e,"Label",{id:I.toString()},[e.createTextNode((h=H.audio_track)===null||h===void 0?void 0:h.display_name)]));let xe=u(this,ke,"m",ze).call(this,e,"AdaptationSet",{id:`${I++}`,mimeType:x[S].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true",lang:H.language,label:(_=H.audio_track)===null||_===void 0?void 0:_.display_name},Y);i.appendChild(xe);for(let Be of P[V])yield u(this,ke,"m",Gg).call(this,e,xe,Be,s,r,l,p)}}else{let N=u(this,ke,"m",ze).call(this,e,"AdaptationSet",{id:`${I++}`,mimeType:x[S].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true"});i.appendChild(N);for(let P of w[S])P.has_video?yield u(this,ke,"m",cb).call(this,e,N,P,s,r,l,p):yield u(this,ke,"m",Gg).call(this,e,N,P,s,r,l,p)}})},"_FormatUtils_generateAdaptationSet"),cb=n(function(e,i,o,s,r,l,p){var f,h,_,x,w,I;return b(this,void 0,void 0,function*(){let S=Ke(o.mime_type,'codecs="','"'),N=new URL(o.decipher(l));N.searchParams.set("cpn",r||"");let P=u(this,ke,"m",ze).call(this,e,"Representation",{id:(f=o.itag)===null||f===void 0?void 0:f.toString(),codecs:S,bandwidth:(h=o.bitrate)===null||h===void 0?void 0:h.toString(),width:(_=o.width)===null||_===void 0?void 0:_.toString(),height:(x=o.height)===null||x===void 0?void 0:x.toString(),maxPlayoutRate:"1",frameRate:(w=o.fps)===null||w===void 0?void 0:w.toString()});i.appendChild(P),yield u(this,ke,"m",zg).call(this,e,P,o,(I=s(N))===null||I===void 0?void 0:I.toString(),p)})},"_FormatUtils_generateRepresentationVideo"),Gg=n(function(e,i,o,s,r,l,p){var f,h,_,x,w,I;return b(this,void 0,void 0,function*(){let S=Ke(o.mime_type,'codecs="','"'),N=new URL(o.decipher(l));N.searchParams.set("cpn",r||"");let P;o.audio_track?P=`${(f=o.itag)===null||f===void 0?void 0:f.toString()}-${o.audio_track.id}`:P=(h=o.itag)===null||h===void 0?void 0:h.toString();let V=u(this,ke,"m",ze).call(this,e,"Representation",{id:P,codecs:S,bandwidth:(_=o.bitrate)===null||_===void 0?void 0:_.toString(),audioSamplingRate:(x=o.audio_sample_rate)===null||x===void 0?void 0:x.toString()},[u(this,ke,"m",ze).call(this,e,"AudioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:((w=o.audio_channels)===null||w===void 0?void 0:w.toString())||"2"})]);i.appendChild(V),yield u(this,ke,"m",zg).call(this,e,V,o,(I=s(N))===null||I===void 0?void 0:I.toString(),p)})},"_FormatUtils_generateRepresentationAudio"),zg=n(function(e,i,o,s,r){return b(this,void 0,void 0,function*(){if(o.is_type_otf){if(!r)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:o});let{resolved_url:l,segment_durations:p}=yield u(this,ke,"m",db).call(this,s,r),f=[];for(let h of p){let _;typeof h.repeat_count>"u"?_={d:h.duration.toString()}:_={d:h.duration.toString(),r:h.repeat_count.toString()},f.push(u(this,ke,"m",ze).call(this,e,"S",_))}i.appendChild(u(this,ke,"m",ze).call(this,e,"SegmentTemplate",{startNumber:"1",timescale:"1000",initialization:`${l}&sq=0`,media:`${l}&sq=$Number$`},[u(this,ke,"m",ze).call(this,e,"SegmentTimeline",{},f)]))}else{if(!o.index_range||!o.init_range)throw new g("Index and init ranges not available",{format:o});i.appendChild(u(this,ke,"m",ze).call(this,e,"BaseURL",{},[e.createTextNode(s)])),i.appendChild(u(this,ke,"m",ze).call(this,e,"SegmentBase",{indexRange:`${o.index_range.start}-${o.index_range.end}`},[u(this,ke,"m",ze).call(this,e,"Initialization",{range:`${o.init_range.start}-${o.init_range.end}`})]))}})},"_FormatUtils_generateSegmentInformation"),db=n(function(e,i){var o;return b(this,void 0,void 0,function*(){let s=yield i.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:yr,redirect:"follow"}),r=s.url.replace("&rn=0","").replace("&sq=0",""),l=yield s.text(),p=(o=Ke(l,"Segment-Durations-Ms:",`\r
`))===null||o===void 0?void 0:o.split(",");if(!p)throw new g("Failed to extract the segment durations from this OTF stream",{url:e});let f=[];for(let h of p){let _=h.trim();if(_.length===0)continue;let x,w=Ke(_,"(r=",")");w&&(x=parseInt(w)),f.push({duration:parseInt(_),repeat_count:x})}return{resolved_url:r,segment_durations:f}})},"_FormatUtils_getOTFSegmentInformation");var Sr=Ir;var $g,Tt,En,kr,fb,Dh=class{constructor(e,i,o){$g.add(this),Tt.set(this,void 0),En.set(this,void 0),kr.set(this,void 0),T(this,Tt,e,"f"),T(this,En,i,"f"),T(this,kr,o||O.shim.fetch,"f")}get fetch_function(){return u(this,kr,"f")}fetch(e,i){return b(this,void 0,void 0,function*(){let o=Te.API.PRODUCTION_1+u(this,Tt,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),l=(i==null?void 0:i.headers)||(e instanceof O.shim.Request?e.headers:new O.shim.Headers)||new O.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof O.shim.Request?e.body:void 0),f=new O.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",u(this,Tt,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",u(this,Tt,"f").context.client.clientVersion||""),O.shim.server&&(f.set("User-Agent",_o("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",u(this,Tt,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let h=f.get("Content-Type"),_=p,x=!1,w=s===o||s===Te.YT_UPLOAD;if(h==="application/json"&&w&&typeof p=="string"){let N=JSON.parse(p),P=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(u(this,Tt,"f").context))});u(this,$g,"m",fb).call(this,P.context,P.client),f.set("x-youtube-client-version",P.context.client.clientVersion),delete P.client,O.shim.server&&(P.context.client.clientName==="ANDROID"||P.context.client.clientName==="ANDROID_MUSIC")&&f.set("User-Agent",se.ANDROID.USER_AGENT),x=P.context.client.clientName==="WEB_KIDS",_=JSON.stringify(P)}if(u(this,Tt,"f").logged_in&&w&&!x){let N=u(this,Tt,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),r.searchParams.delete("key")),u(this,En,"f")){let P=Ke(u(this,En,"f"),"PAPISID=",";");P&&(f.set("authorization",yield Xg(P)),f.set("x-goog-authuser",u(this,Tt,"f").account_index.toString())),f.set("cookie",u(this,En,"f"))}}let I=new O.shim.Request(r,e instanceof O.shim.Request?e:i),S=yield u(this,kr,"f").call(this,I,{body:_,headers:f,credentials:"include",redirect:e instanceof O.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(S.ok)return S;throw new g(`Request to ${S.url} failed with status ${S.status}`,yield S.text())})}};n(Dh,"HTTPClient");Tt=new WeakMap,En=new WeakMap,kr=new WeakMap,$g=new WeakSet,fb=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=se.ANDROID.SDK_VERSION,e.client.userAgent=se.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"YTMUSIC":e.client.clientVersion=se.YTMUSIC.VERSION,e.client.clientName=se.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=se.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=se.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=se.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=se.TV_EMBEDDED.NAME,e.client.clientVersion=se.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Te.YT_BASE};break;case"YTKIDS":e.client.clientVersion=se.WEB_KIDS.VERSION,e.client.clientName=se.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var qg=Dh;var Vi,he=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let s=[`[${this.YTJS_TAG}]`];i&&s.push(`[${i}]`),this.log_map_[e](`${s.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(he,"Log");Vi=he;he.YTJS_TAG="YOUTUBEJS";he.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};he.log_map_={[he.Level.ERROR]:(...t)=>console.error(...t),[he.Level.WARNING]:(...t)=>console.warn(...t),[he.Level.INFO]:(...t)=>console.info(...t),[he.Level.DEBUG]:(...t)=>console.debug(...t)};he.log_level_=[he.Level.WARNING];he.one_time_warnings_issued_=new Set;he.warnOnce=(t,...e)=>{Vi.one_time_warnings_issued_.has(t)||(Vi.doLog(he.Level.WARNING,t,e),Vi.one_time_warnings_issued_.add(t))};he.warn=(t,...e)=>Vi.doLog(he.Level.WARNING,t,e);he.error=(t,...e)=>Vi.doLog(he.Level.ERROR,t,e);he.info=(t,...e)=>Vi.doLog(he.Level.INFO,t,e);he.debug=(t,...e)=>Vi.doLog(he.Level.DEBUG,t,e);var Ee=he;var Oi={};j(Oi,{compress:()=>hI,decompress:()=>mI});function hI(t){let e=[],i={};for(let r=0;r<256;r++)i[String.fromCharCode(r)]=r;let o="",s=256;for(let r=0;r<t.length;r++){let l=t[r],p=o+l;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=s++,o=l)}return o!==""&&e.push(i[o]),e.map(r=>String.fromCharCode(r)).join("")}n(hI,"compress");function mI(t){let e={},i=t.split(""),o=[i.shift()],s=i.length>>>0,r=256,l=o[0],p=l;for(let f=0;f<s;++f){let h=i[f].charCodeAt(0),_=h<256?i[f]:e[h]?e[h]:p+l;o.push(_),l=_.charAt(0),e[r++]=p+l,p=_}return o.join("")}n(mI,"decompress");var Cr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Cr,"Button");Cr.type="Button";var k=Cr;var Er=class extends a{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};n(Er,"DropdownItem");Er.type="DropdownItem";var Fh=Er;var Nr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=d.parseArray(e.entries,Fh)}};n(Nr,"Dropdown");Nr.type="Dropdown";var Nn=Nr;var Pr=class extends a{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=d.parseItem(e.privacyOption,Nn),this.create_button=d.parseItem(e.cancelButton,k),this.cancel_button=d.parseItem(e.cancelButton,k)}};n(Pr,"CreatePlaylistDialog");Pr.type="CreatePlaylistDialog";var Yh=Pr;var Ar=class extends a{constructor(e){var i,o,s,r,l,p,f,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand);let _=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=d.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=d.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Yh))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Ar,"NavigationEndpoint");Ar.type="NavigationEndpoint";var v=Ar;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails&&!e.sources?[]:(e.thumbnails||e.sources).map(i=>new y(i)).sort((i,o)=>o.width-i.width)}};n(y,"Thumbnail");var Bi=class{constructor(e){var i,o,s,r,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=jh(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Bi,"EmojiRun");var Li=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=jh(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Li,"TextRun");function jh(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(jh,"escape");var Rr="Text",c=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Bi(l):new Li(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}static fromAttributed(e){var i,o,s;let{content:r,styleRuns:l,commandRuns:p,attachmentRuns:f}=e,h=[{text:r,startIndex:0}];if(l||p||f){if(l)for(let _ of l)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let x=Zg(h,_);if(!x){Ee.warn(Rr,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Uh(h,x,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else Ee.debug(Rr,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(p)for(let _ of p)if(_.onTap){let x=Zg(h,_);if(!x){Ee.warn(Rr,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Uh(h,x,_,{navigationEndpoint:_.onTap})}else Ee.debug(Rr,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(f)for(let _ of f){let x=Zg(h,_);if(!x){Ee.warn(Rr,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}if(_.length===0)x.attachment=_;else{let w=_.startIndex-x.startIndex,I=x.text.substring(w,w+_.length),S=/^:[^:]+:$/.test(I);if(((s=(o=(i=_.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||s===void 0?void 0:s.image)&&(S||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(I))){let N={image:_.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[I]:void 0};Uh(h,x,_,{emoji:N})}else Uh(h,x,_,{attachment:_})}}}return new c({runs:h})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(c,"Text");function Zg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(Zg,"findMatchingRun");function Uh(t,e,i,o){let s=t.indexOf(e),r=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&r.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,l)})),r.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(l,l+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&r.push(Object.assign(Object.assign({},e),{text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length})),t.splice(s,1,...r)}n(Uh,"insertSubRun");var Mr=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Mr,"CardCollection");Mr.type="CardCollection";var Wh=Mr;var Vr=class extends a{constructor(e){super(),this.elements=d.parseArray(e.elements),this.start_ms=e.startMs}};n(Vr,"Endscreen");Vr.type="Endscreen";var Hh=Vr;var Or=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:d.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Or,"PlayerAnnotationsExpanded");Or.type="PlayerAnnotationsExpanded";var Jh=Or;var Br=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};n(Br,"PlayerCaptionsTracklist");Br.type="PlayerCaptionsTracklist";var Gh=Br;var Lr=class extends a{constructor(){super()}};n(Lr,"PlayerLiveStoryboardSpec");Lr.type="PlayerLiveStoryboardSpec";var zh=Lr;var Dr=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[l,p,f,h,_,x,w,I]=s.split("#");o.searchParams.set("sigh",I);let S=Math.ceil(parseInt(f,10)/(parseInt(h,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(x,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:S}})}};n(Dr,"PlayerStoryboardSpec");Dr.type="PlayerStoryboardSpec";var Kh=Dr;var Fr=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(Fr,"Message");Fr.type="Message";var je=Fr;var Yr=class extends a{constructor(e){super(),this.name=new c(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=d.parseArray(e.authorBadges)}};n(Yr,"LiveChatParticipant");Yr.type="LiveChatParticipant";var $h=Yr;var jr=class extends a{constructor(e){super(),this.title=new c(e.title),this.participants=d.parseArray(e.participants,$h)}};n(jr,"LiveChatParticipantsList");jr.type="LiveChatParticipantsList";var qh=jr;var Ur=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Ur,"SortFilterSubMenu");Ur.type="SortFilterSubMenu";var fi=Ur;var Wr=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.top_level_buttons=d.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Wr,"Menu");Wr.type="Menu";var U=Wr;var Hr=class extends a{constructor(e){super(),this.overflow_menu=d.parseItem(e.overflowMenu,U),this.collapse_button=d.parseItem(e.collapseButton,k),this.view_selector=d.parseItem(e.viewSelector,fi)}};n(Hr,"LiveChatHeader");Hr.type="LiveChatHeader";var Xh=Hr;var Jr=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=d.parseItem(e.moreCommentsBelowButton,k)}};n(Jr,"LiveChatItemList");Jr.type="LiveChatItemList";var Qh=Jr;var Gr=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};n(Gr,"Alert");Gr.type="Alert";var Zh=Gr;var zr=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(zr,"MusicMultiSelectMenuItem");zr.type="MusicMultiSelectMenuItem";var It=zr;var Di=class{constructor(e){var i,o,s,r,l,p,f,h;if(this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),x=new URLSearchParams(_.get("url")||this.url);this.language=((o=(i=x.get("xtags"))===null||i===void 0?void 0:i.split(":").find(w=>w.startsWith("lang=")))===null||o===void 0?void 0:o.split("=")[1])||null,this.is_dubbed=((r=(s=x.get("xtags"))===null||s===void 0?void 0:s.split(":").find(w=>w.startsWith("acont=")))===null||r===void 0?void 0:r.split("=")[1])==="dubbed",this.is_descriptive=((p=(l=x.get("xtags"))===null||l===void 0?void 0:l.split(":").find(w=>w.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1])==="descriptive",this.is_original=((h=(f=x.get("xtags"))===null||f===void 0?void 0:f.split(":").find(w=>w.startsWith("acont=")))===null||h===void 0?void 0:h.split("=")[1])==="original"||!this.is_dubbed,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new g("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(Di,"Format");var Fi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Fi,"VideoDetails");var Zf={};j(Zf,{AboutChannelView:()=>hb,AccountChannel:()=>tm,AccountItemSection:()=>om,AccountItemSectionHeader:()=>im,AccountSectionList:()=>nm,AddBannerToLiveChatCommand:()=>Qy,AddChatItemAction:()=>U_,AddLiveChatTickerItemAction:()=>Zy,Alert:()=>Zh,AnalyticsMainAppKeyMetrics:()=>_b,AnalyticsRoot:()=>vb,AnalyticsShortsCarouselCard:()=>gb,AnalyticsVideo:()=>am,AnalyticsVodCarouselCard:()=>xb,AnchoredSection:()=>$v,AppendContinuationItemsAction:()=>sm,AttributionView:()=>lm,AudioOnlyPlayability:()=>Oh,AuthorCommentBadge:()=>Nm,AutomixPreviewVideo:()=>Yi,AvatarView:()=>um,BackstageImage:()=>cm,BackstagePost:()=>ji,BackstagePostThread:()=>wb,BrowseFeedActions:()=>pm,BrowserMediaSession:()=>Tb,Button:()=>k,ButtonView:()=>go,C4TabbedHeader:()=>An,CallToActionButton:()=>Ib,Card:()=>Sb,CardCollection:()=>Wh,CarouselHeader:()=>mm,CarouselItem:()=>kb,CarouselLockup:()=>vm,Channel:()=>gm,ChannelAboutFullMetadata:()=>xm,ChannelAgeGate:()=>Cb,ChannelExternalLinkView:()=>em,ChannelFeaturedContent:()=>Eb,ChannelHeaderLinks:()=>fm,ChannelMetadata:()=>bm,ChannelMobileHeader:()=>Nb,ChannelOptions:()=>ym,ChannelSubMenu:()=>Wa,ChannelThumbnailWithLink:()=>Pb,ChannelVideoPlayer:()=>Ab,Chapter:()=>wm,ChildVideo:()=>Rb,ChipCloud:()=>St,ChipCloudChip:()=>me,ClipAdState:()=>Tm,ClipCreation:()=>km,ClipCreationScrubber:()=>Sm,ClipCreationTextInput:()=>Im,ClipSection:()=>Cm,CollaboratorInfoCardContent:()=>Mb,CollageHeroImage:()=>Vb,Comment:()=>Bn,CommentActionButtons:()=>vo,CommentDialog:()=>Iy,CommentReplies:()=>Dm,CommentReplyDialog:()=>Pm,CommentSimplebox:()=>jm,CommentThread:()=>Um,CommentsEntryPointHeader:()=>Ym,CommentsEntryPointTeaser:()=>Fm,CommentsHeader:()=>Ln,CompactChannel:()=>Sy,CompactLink:()=>Dn,CompactMix:()=>ky,CompactPlaylist:()=>Cy,CompactStation:()=>Ey,CompactVideo:()=>Rn,ConfirmDialog:()=>Ny,ContentMetadataView:()=>Wm,ContentPreviewImageView:()=>Fn,ContinuationItem:()=>Me,ConversationBar:()=>Py,CopyLink:()=>Hm,CreatePlaylistDialog:()=>Yh,CreatorHeart:()=>dm,CtaGoToCreatorStudio:()=>bb,DataModelSection:()=>rm,DecoratedAvatarView:()=>Jm,DecoratedPlayerBar:()=>$m,DefaultPromoPanel:()=>Ay,DescriptionPreviewView:()=>h_,DidYouMean:()=>m_,DimChatItemAction:()=>ew,DownloadButton:()=>__,Dropdown:()=>Nn,DropdownItem:()=>Fh,DynamicTextView:()=>v_,Element:()=>Wn,EmergencyOnebox:()=>Ry,EmojiPicker:()=>Lm,EmojiPickerCategory:()=>My,EmojiPickerCategoryButton:()=>Vy,EmojiPickerUpsellCategory:()=>Oy,EndScreenPlaylist:()=>x_,EndScreenVideo:()=>b_,Endscreen:()=>Hh,EndscreenElement:()=>By,EngagementPanelSectionList:()=>f_,EngagementPanelTitleHeader:()=>qm,ExpandableMetadata:()=>i_,ExpandableTab:()=>Hn,ExpandableVideoDescriptionBody:()=>e_,ExpandedShelfContents:()=>Ly,Factoid:()=>Wi,FeedFilterChipBar:()=>mi,FeedTabbedHeader:()=>y_,FlexibleActionsView:()=>T_,GameCard:()=>t_,GameDetails:()=>Dy,Grid:()=>Io,GridChannel:()=>I_,GridHeader:()=>Fy,GridMix:()=>Yy,GridMovie:()=>jy,GridPlaylist:()=>S_,GridShow:()=>Uy,GridVideo:()=>E_,GuideCollapsibleEntry:()=>Wy,GuideCollapsibleSectionEntry:()=>Hy,GuideDownloadsEntry:()=>Jy,GuideEntry:()=>So,GuideSection:()=>Jn,GuideSubscriptionsSection:()=>N_,HashtagHeader:()=>P_,HeatMarker:()=>Gm,Heatmap:()=>zm,HeroPlaylistThumbnail:()=>Gy,HighlightsCarousel:()=>zu,HistorySuggestion:()=>zy,HorizontalCardList:()=>Ui,HorizontalList:()=>Ky,HorizontalMovieList:()=>$y,IconLink:()=>R_,ImageBannerView:()=>M_,InfoPanelContainer:()=>qy,InfoPanelContent:()=>V_,InfoRow:()=>_m,InteractiveTabbedHeader:()=>O_,ItemSection:()=>_e,ItemSectionHeader:()=>B_,ItemSectionTab:()=>L_,ItemSectionTabbedHeader:()=>D_,KidsCategoriesHeader:()=>qv,KidsCategoryTab:()=>os,KidsHomeScreen:()=>Xv,LikeButton:()=>Xy,LiveChat:()=>F_,LiveChatActionPanel:()=>H_,LiveChatAuthorBadge:()=>Sw,LiveChatAutoModMessage:()=>tw,LiveChatBanner:()=>j_,LiveChatBannerHeader:()=>Y_,LiveChatBannerPoll:()=>iw,LiveChatDialog:()=>kw,LiveChatHeader:()=>Xh,LiveChatItemList:()=>Qh,LiveChatMembershipItem:()=>ow,LiveChatMessageInput:()=>Cw,LiveChatPaidMessage:()=>nw,LiveChatPaidSticker:()=>sw,LiveChatParticipant:()=>$h,LiveChatParticipantsList:()=>qh,LiveChatPlaceholderItem:()=>rw,LiveChatProductItem:()=>aw,LiveChatRestrictedParticipation:()=>lw,LiveChatTextMessage:()=>uw,LiveChatTickerPaidMessageItem:()=>W_,LiveChatTickerPaidStickerItem:()=>cw,LiveChatTickerSponsorItem:()=>dw,LiveChatViewerEngagementMessage:()=>pw,MacroMarkersInfoItem:()=>Xm,MacroMarkersList:()=>Qm,MacroMarkersListItem:()=>Yn,MarkChatItemAsDeletedAction:()=>hw,MarkChatItemsByAuthorAsDeletedAction:()=>mw,Menu:()=>U,MenuNavigationItem:()=>Ew,MenuServiceItem:()=>Gn,MenuServiceItemDownload:()=>Nw,MerchandiseItem:()=>Rw,MerchandiseShelf:()=>Z_,Message:()=>je,MetadataBadge:()=>tt,MetadataRow:()=>Mw,MetadataRowContainer:()=>ev,MetadataRowHeader:()=>Vw,MetadataScreen:()=>Ow,MicroformatData:()=>Zt,Mix:()=>Bw,Movie:()=>Lw,MovingThumbnail:()=>Dw,MultiMarkersPlayerBar:()=>Km,MultiPageMenu:()=>Pw,MultiPageMenuNotificationSection:()=>Aw,MusicCardShelf:()=>iv,MusicCardShelfHeaderBasic:()=>tv,MusicCarouselShelf:()=>Ne,MusicCarouselShelfBasicHeader:()=>ov,MusicDescriptionShelf:()=>_i,MusicDetailHeader:()=>Co,MusicDownloadStateBadge:()=>zw,MusicEditablePlaylistDetailHeader:()=>rv,MusicElementHeader:()=>Rd,MusicHeader:()=>Gi,MusicImmersiveHeader:()=>av,MusicInlineBadge:()=>zn,MusicItemThumbnailOverlay:()=>Hi,MusicLargeCardItemCarousel:()=>Kw,MusicMenuItemDivider:()=>q_,MusicMultiSelectMenu:()=>X_,MusicMultiSelectMenuItem:()=>It,MusicNavigationButton:()=>$n,MusicPlayButton:()=>Kn,MusicPlaylistShelf:()=>Eo,MusicQueue:()=>Xn,MusicResponsiveHeader:()=>$w,MusicResponsiveListItem:()=>Ji,MusicResponsiveListItemFixedColumn:()=>nv,MusicResponsiveListItemFlexColumn:()=>sv,MusicShelf:()=>ye,MusicSideAlignedItem:()=>uv,MusicSortFilterButton:()=>zd,MusicTastebuilderShelf:()=>dv,MusicTastebuilderShelfThumbnail:()=>cv,MusicThumbnail:()=>lt,MusicTwoRowItem:()=>qn,MusicVisualHeader:()=>pv,NavigationEndpoint:()=>v,Notification:()=>fv,OpenPopupAction:()=>mb,PageHeader:()=>qw,PageHeaderView:()=>hv,PageIntroduction:()=>mv,PdgCommentChip:()=>Am,PlayerAnnotationsExpanded:()=>Jh,PlayerCaptionsTracklist:()=>Gh,PlayerErrorMessage:()=>Xw,PlayerLegacyDesktopYpcOffer:()=>Qw,PlayerLegacyDesktopYpcTrailer:()=>sp,PlayerLiveStoryboardSpec:()=>zh,PlayerMicroformat:()=>Ct,PlayerOverlay:()=>zi,PlayerOverlayAutoplay:()=>vv,PlayerStoryboardSpec:()=>Kh,Playlist:()=>Qt,PlaylistCustomThumbnail:()=>xv,PlaylistHeader:()=>bv,PlaylistInfoCardContent:()=>Zw,PlaylistMetadata:()=>yv,PlaylistPanel:()=>ti,PlaylistPanelVideo:()=>vi,PlaylistPanelVideoWrapper:()=>lv,PlaylistSidebar:()=>eT,PlaylistSidebarPrimaryInfo:()=>wv,PlaylistSidebarSecondaryInfo:()=>Tv,PlaylistVideo:()=>Iv,PlaylistVideoList:()=>tT,PlaylistVideoThumbnail:()=>Sv,Poll:()=>iT,PollHeader:()=>fw,Post:()=>kv,PostMultiImage:()=>oT,ProductList:()=>Zm,ProfileColumn:()=>nT,ProfileColumnStats:()=>Cv,ProfileColumnStatsEntry:()=>sT,ProfileColumnUserInfo:()=>Ev,RecognitionShelf:()=>rT,ReelItem:()=>Nv,ReelShelf:()=>Un,RelatedChipCloud:()=>Pv,RemoveBannerForLiveChatCommand:()=>_w,RemoveChatItemAction:()=>vw,RemoveChatItemByAuthorAction:()=>gw,ReplaceChatItemAction:()=>xw,ReplayChatItemAction:()=>bw,RichGrid:()=>Ki,RichItem:()=>aT,RichListHeader:()=>lT,RichMetadata:()=>Vp,RichMetadataRow:()=>Bp,RichSection:()=>uT,RichShelf:()=>Av,SearchBox:()=>cT,SearchFilter:()=>Rv,SearchFilterGroup:()=>Mv,SearchRefinementCard:()=>bo,SearchSubMenu:()=>Vv,SearchSuggestion:()=>A_,SearchSuggestionsSection:()=>Ov,SecondarySearchContainer:()=>dT,SectionList:()=>q,SegmentedLikeDislikeButton:()=>No,SettingBoolean:()=>pT,SettingsCheckbox:()=>Bv,SettingsOptions:()=>Zn,SettingsSidebar:()=>Lv,SettingsSwitch:()=>Qn,SharedPost:()=>Dv,Shelf:()=>es,ShowCustomThumbnail:()=>k_,ShowLiveChatActionPanelAction:()=>yw,ShowLiveChatDialogAction:()=>ww,ShowLiveChatTooltipCommand:()=>Tw,ShowingResultsFor:()=>Fv,SimpleCardContent:()=>fT,SimpleCardTeaser:()=>hT,SimpleMenuHeader:()=>Q_,SimpleTextSection:()=>mT,SingleActionEmergencySupport:()=>_T,SingleColumnBrowseResults:()=>ii,SingleColumnMusicWatchNextResults:()=>vT,SingleHeroImage:()=>gT,SlimOwner:()=>xT,SlimVideoMetadata:()=>Yv,SortFilterSubMenu:()=>fi,SponsorCommentBadge:()=>Rm,StatRow:()=>yb,StructuredDescriptionContent:()=>d_,StructuredDescriptionPlaylistLockup:()=>u_,SubFeedOption:()=>jv,SubFeedSelector:()=>bT,SubscribeButton:()=>Ue,SubscriptionNotificationToggleButton:()=>hm,Tab:()=>ve,Tabbed:()=>yT,TabbedSearchResults:()=>Uv,TextHeader:()=>wT,ThumbnailLandscapePortrait:()=>TT,ThumbnailOverlayBottomPanel:()=>C_,ThumbnailOverlayEndorsement:()=>IT,ThumbnailOverlayHoverText:()=>ST,ThumbnailOverlayInlineUnplayable:()=>kT,ThumbnailOverlayLoadingPreview:()=>CT,ThumbnailOverlayNowPlaying:()=>ET,ThumbnailOverlayPinking:()=>NT,ThumbnailOverlayPlaybackStatus:()=>PT,ThumbnailOverlayResumePlayback:()=>AT,ThumbnailOverlaySidePanel:()=>RT,ThumbnailOverlayTimeStatus:()=>yo,ThumbnailOverlayToggleButton:()=>MT,TimedMarkerDecoration:()=>VT,TitleAndButtonListHeader:()=>OT,ToggleButton:()=>Re,ToggleButtonView:()=>w_,ToggleMenuServiceItem:()=>BT,Tooltip:()=>LT,TopicChannelDetails:()=>DT,TwoColumnBrowseResults:()=>$i,TwoColumnSearchResults:()=>Wv,TwoColumnWatchNextResults:()=>ts,UniversalWatchCard:()=>Jv,UpdateDateTextAction:()=>J_,UpdateDescriptionAction:()=>G_,UpdateLiveChatPollAction:()=>Iw,UpdateTitleAction:()=>z_,UpdateToggleButtonTextAction:()=>K_,UpdateViewershipAction:()=>$_,UploadTimeFactoid:()=>n_,UpsellDialog:()=>FT,VerticalList:()=>YT,VerticalWatchCardList:()=>jT,Video:()=>jn,VideoAttributeView:()=>p_,VideoCard:()=>o_,VideoDescriptionCourseSection:()=>c_,VideoDescriptionHeader:()=>r_,VideoDescriptionInfocardsSection:()=>a_,VideoDescriptionMusicSection:()=>l_,VideoDescriptionTranscriptSection:()=>iu,VideoInfoCardContent:()=>UT,VideoOwner:()=>is,VideoPrimaryInfo:()=>Gv,VideoSecondaryInfo:()=>Wf,ViewCountFactoid:()=>s_,WatchCardCompactVideo:()=>zv,WatchCardHeroVideo:()=>HT,WatchCardRichHeader:()=>JT,WatchCardSectionSequence:()=>GT,WatchNextEndScreen:()=>gv,WatchNextTabbedResults:()=>Kv,YpcTrailer:()=>_v});var Kr=class extends a{constructor(e){super(),this.title=c.fromAttributed(e.title),this.link=c.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};n(Kr,"ChannelExternalLinkView");Kr.type="ChannelExternalLinkView";var em=Kr;var $r=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=c.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=c.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=c.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=c.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=c.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=E.parseArray(e.links,em):this.links=[]}};n($r,"AboutChannelView");$r.type="AboutChannelView";var hb=$r;var qr=class extends a{constructor(e){super(),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(qr,"AccountChannel");qr.type="AccountChannel";var tm=qr;var Xr=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Xr,"AccountItemSectionHeader");Xr.type="AccountItemSectionHeader";var im=Xr;var Qr=class extends a{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};n(Qr,"AccountItem");Qr.type="AccountItem";var Zr=class extends a{constructor(e){super(),this.contents=le(e.contents.map(i=>new Qr(i.accountItem))),this.header=d.parseItem(e.header,im)}};n(Zr,"AccountItemSection");Zr.type="AccountItemSection";var om=Zr;var ea=class extends a{constructor(e){super(),this.contents=d.parseItem(e.contents[0],om),this.footers=d.parseItem(e.footers[0],tm)}};n(ea,"AccountSectionList");ea.type="AccountSectionList";var nm=ea;var ta=class extends a{constructor(e){super(),this.items=d.parse(e.continuationItems),this.target=e.target}};n(ta,"AppendContinuationItemsAction");ta.type="AppendContinuationItemsAction";var sm=ta;var ia=class extends a{constructor(e){super(),this.popup=d.parseItem(e.popup),this.popup_type=e.popupType}};n(ia,"OpenPopupAction");ia.type="OpenPopupAction";var mb=ia;var oa=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(oa,"DataModelSection");oa.type="DataModelSection";var rm=oa;var na=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new rm(o))}};n(na,"AnalyticsMainAppKeyMetrics");na.type="AnalyticsMainAppKeyMetrics";var _b=na;var sa=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(sa,"AnalyticsRoot");sa.type="AnalyticsRoot";var vb=sa;var ra=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(ra,"AnalyticsShortsCarouselCard");ra.type="AnalyticsShortsCarouselCard";var gb=ra;var aa=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(aa,"AnalyticsVideo");aa.type="AnalyticsVideo";var am=aa;var la=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new am(i)))}};n(la,"AnalyticsVodCarouselCard");la.type="AnalyticsVodCarouselCard";var xb=la;var ua=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(ua,"CtaGoToCreatorStudio");ua.type="CtaGoToCreatorStudio";var bb=ua;var ca=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};n(ca,"StatRow");ca.type="StatRow";var yb=ca;var da=class extends a{constructor(e){super(),this.text=c.fromAttributed(e.text),this.suffix=c.fromAttributed(e.suffix)}};n(da,"AttributionView");da.type="AttributionView";var lm=da;var pa=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(pa,"AutomixPreviewVideo");pa.type="AutomixPreviewVideo";var Yi=pa;var fa=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(fa,"AvatarView");fa.type="AvatarView";var um=fa;var ha=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new v(e.command)}};n(ha,"BackstageImage");ha.type="BackstageImage";var cm=ha;var ma=class extends a{constructor(e){var i,o,s,r,l,p,f,h;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let _=((s=(o=(i=e==null?void 0:e.defaultText)===null||i===void 0?void 0:i.accessibility)===null||o===void 0?void 0:o.accessibilityData)===null||s===void 0?void 0:s.label)||((l=(r=e==null?void 0:e.accessibilityData)===null||r===void 0?void 0:r.accessibilityData)===null||l===void 0?void 0:l.label)||((p=e==null?void 0:e.accessibility)===null||p===void 0?void 0:p.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(_.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=!((h=(f=e.defaultServiceEndpoint)===null||f===void 0?void 0:f.commandExecutorCommand)===null||h===void 0)&&h.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(ma,"ToggleButton");ma.type="ToggleButton";var Re=ma;var _a=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(_a,"CreatorHeart");_a.type="CreatorHeart";var dm=_a;var va=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,Re),this.dislike_button=d.parseItem(e.dislikeButton,Re),this.reply_button=d.parseItem(e.replyButton,k),this.creator_heart=d.parseItem(e.creatorHeart,dm)}};n(va,"CommentActionButtons");va.type="CommentActionButtons";var vo=va;var ga=class extends a{constructor(e){super(),this.id=e.postId,this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=d.parseItem(e.actionMenu,U)),Reflect.has(e,"actionButtons")&&(this.action_buttons=d.parseItem(e.actionButtons,vo)),Reflect.has(e,"voteButton")&&(this.vote_button=d.parseItem(e.voteButton,vo)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=d.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(ga,"BackstagePost");ga.type="BackstagePost";var ji=ga;var xa=class extends a{constructor(e){super(),this.post=d.parseItem(e.post)}};n(xa,"BackstagePostThread");xa.type="BackstagePostThread";var wb=xa;var ba=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(ba,"BrowseFeedActions");ba.type="BrowseFeedActions";var pm=ba;var ya=class extends a{constructor(e){super(),this.album=new c(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};n(ya,"BrowserMediaSession");ya.type="BrowserMediaSession";var Tb=ya;var wa=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(wa,"ButtonView");wa.type="ButtonView";var go=wa;var Pn=class extends a{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new c(e.title)}};n(Pn,"HeaderLink");Pn.type="HeaderLink";var Ta=class extends a{constructor(e){var i,o;super(),this.primary=le(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new Pn(s)))||[]),this.secondary=le(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new Pn(s)))||[])}};n(Ta,"ChannelHeaderLinks");Ta.type="ChannelHeaderLinks";var fm=Ta;var Ia=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:d.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Ia,"SubscriptionNotificationToggleButton");Ia.type="SubscriptionNotificationToggleButton";var hm=Ia;var Sa=class extends a{constructor(e){var i,o;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=d.parseItem(e.notificationPreferenceButton,hm),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(Sa,"SubscribeButton");Sa.type="SubscribeButton";var Ue=Sa;var ka=class extends a{constructor(e){super(),this.author=new B({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=d.parseItem(e.sponsorButton,k)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=d.parseItem(e.subscribeButton,[Ue,k])),Reflect.has(e,"headerLinks")&&(this.header_links=d.parseItem(e.headerLinks,fm)),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};n(ka,"C4TabbedHeader");ka.type="C4TabbedHeader";var An=ka;var Ca=class extends a{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Ca,"CallToActionButton");Ca.type="CallToActionButton";var Ib=Ca;var Ea=class extends a{constructor(e){super(),this.teaser=d.parseItem(e.teaser),this.content=d.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Ea,"Card");Ea.type="Card";var Sb=Ea;var Na=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Na,"CarouselHeader");Na.type="CarouselHeader";var mm=Na;var Pa=class extends a{constructor(e){super(),this.items=d.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Pa,"CarouselItem");Pa.type="CarouselItem";var kb=Pa;var Aa=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new c(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new c(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Aa,"InfoRow");Aa.type="InfoRow";var _m=Aa;var Ra=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Ra,"MetadataBadge");Ra.type="MetadataBadge";var tt=Ra;var Ma=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parse(e.richThumbnail)),this.title=new c(e.title),this.author=new B(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=d.parseArray(e.badges,tt),this.duration={text:new c(e.lengthText).toString(),seconds:We(new c(e.lengthText).toString())},this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Ma,"CompactVideo");Ma.type="CompactVideo";var Rn=Ma;var Va=class extends a{constructor(e){super(),this.info_rows=E.parseArray(e.infoRows,_m),this.video_lockup=E.parseItem(e.videoLockup,Rn)}};n(Va,"CarouselLockup");Va.type="CarouselLockup";var vm=Va;var Oa=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,[Ue,k]),this.description_snippet=new c(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(Oa,"Channel");Oa.type="Channel";var gm=Oa;var Ba=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new v(s.navigationEndpoint),icon:y.fromResponse(s.icon),title:new c(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=d.parseArray(e.actionButtons,k)}get views(){return this.view_count}get joined(){return this.joined_date}};n(Ba,"ChannelAboutFullMetadata");Ba.type="ChannelAboutFullMetadata";var xm=Ba;var La=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=E.parseItem(e.signInButton,k),this.secondary_text=new c(e.secondaryText)}};n(La,"ChannelAgeGate");La.type="ChannelAgeGate";var Cb=La;var Da=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items)}};n(Da,"ChannelFeaturedContent");Da.type="ChannelFeaturedContent";var Eb=Da;var Fa=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Fa,"ChannelMetadata");Fa.type="ChannelMetadata";var bm=Fa;var Ya=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Ya,"ChannelMobileHeader");Ya.type="ChannelMobileHeader";var Nb=Ya;var ja=class extends a{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};n(ja,"ChannelOptions");ja.type="ChannelOptions";var ym=ja;var Ua=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=d.parseItem(e.sortSetting)}};n(Ua,"ChannelSubMenu");Ua.type="ChannelSubMenu";var Wa=Ua;var Ha=class extends a{constructor(e){var i,o;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Ha,"ChannelThumbnailWithLink");Ha.type="ChannelThumbnailWithLink";var Pb=Ha;var Ja=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(Ja,"ChannelVideoPlayer");Ja.type="ChannelVideoPlayer";var Ab=Ja;var Ga=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};n(Ga,"Chapter");Ga.type="Chapter";var wm=Ga;var za=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:We(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(za,"ChildVideo");za.type="ChildVideo";var Rb=za;var Ka=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"onDeselectedCommand")&&(this.deselect_endpoint=new v(e.onDeselectedCommand)),this.text=new c(e.text).toString()}};n(Ka,"ChipCloudChip");Ka.type="ChipCloudChip";var me=Ka;var $a=class extends a{constructor(e){super(),this.chips=d.parseArray(e.chips,me),this.next_button=d.parseItem(e.nextButton,k),this.previous_button=d.parseItem(e.previousButton,k),this.horizontal_scrollable=e.horizontalScrollable}};n($a,"ChipCloud");$a.type="ChipCloud";var St=$a;var qa=class extends a{constructor(e){super(),this.title=new c(e.title),this.body=new c(e.body)}};n(qa,"ClipAdState");qa.type="ClipAdState";var Tm=qa;var Xa=class extends a{constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(Xa,"ClipCreationTextInput");Xa.type="ClipCreationTextInput";var Im=Xa;var Qa=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(r=(s=e.endAccessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(Qa,"ClipCreationScrubber");Qa.type="ClipCreationScrubber";var Sm=Qa;var Za=class extends a{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=E.parseItem(e.titleInput,[Im]),this.scrubber=E.parseItem(e.scrubber,[Sm]),this.save_button=E.parseItem(e.saveButton,[k]),this.display_name=new c(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=E.parseItem(e.cancelButton,[k]),this.ad_state_overlay=E.parseItem(e.adStateOverlay,[Tm]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(Za,"ClipCreation");Za.type="ClipCreation";var km=Za;var el=class extends a{constructor(e){super(),this.contents=E.parse(e.contents,!0,[km])}};n(el,"ClipSection");el.type="ClipSection";var Cm=el;var tl=class extends a{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(tl,"CollaboratorInfoCardContent");tl.type="CollaboratorInfoCardContent";var Mb=tl;var il=class extends a{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(il,"CollageHeroImage");il.type="CollageHeroImage";var Vb=il;var Em,ol=class extends a{constructor(e){super(),Em.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,Em,e,"f")}get orig_badge(){return u(this,Em,"f")}};n(ol,"AuthorCommentBadge");Em=new WeakMap;ol.type="AuthorCommentBadge";var Nm=ol;var nl=class extends a{constructor(e){super(),this.reply_button=d.parseItem(e.replyButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};n(nl,"CommentReplyDialog");nl.type="CommentReplyDialog";var Pm=nl;var sl=class extends a{constructor(e){var i,o;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(sl,"PdgCommentChip");sl.type="PdgCommentChip";var Am=sl;var rl=class extends a{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(rl,"SponsorCommentBadge");rl.type="SponsorCommentBadge";var Rm=rl;var A;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(A||(A={}));var L=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Vm(ex(this),Mm).toString(!1);let s=[],r=new L(i,o);for(;gI(r,_I);){let[l,p]=vI(r);s.push(p),r=l}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new L(0);if(e.length<10)return i<0?Vm(ex(new L(-i)),Mm):new L(i);let s=new L,r=Mm;for(let l of e.split("").reverse())parseInt(l)&&(s=Vm(s,Ob(new L(parseInt(l)),r))),r=Ob(r,new L(10));return o?Vm(ex(s),Mm):s}};n(L,"Long");var _I=new L(0),Mm=new L(1);function Om(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Om,"makeChunk");function Vm(t,e){let[i,o,s,r]=Om(t),[l,p,f,h]=Om(e),_=0,x=0,w=0,I=0;return I+=i+l,w+=I>>>16,I&=65535,w+=o+p,x+=w>>>16,w&=65535,x+=s+f,_+=x>>>16,x&=65535,_+=r+h,_&=65535,new L(w<<16|I,_<<16|x)}n(Vm,"add");function Ob(t,e){let[i,o,s,r]=Om(t),[l,p,f,h]=Om(e),_=0,x=0,w=0,I=0;return I+=i*l,w+=I>>>16,I&=65535,w+=i*p+o*l,x+=w>>>16,w&=65535,x+=i*f+s*l+o*p,_+=x>>>16,x&=65535,_+=i*h+o*f+s*p+r*l,_&=65535,new L(w<<16|I,_<<16|x)}n(Ob,"mul");function vI(t){let[e,i]=t;return[new L((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(vI,"divByTen");function gI(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(gI,"compare");function ex(t){let[e,i]=t;return new L(~e,~i)}n(ex,"negate");function Mn(t){let e=[],s=typeof t=="number"?new L(t):t;for(;s[0]||s[1];){let[r,l]=s,p=r&127,f=l>>>7,h=r>>>7|(l&127)<<32-7;s=new L(h,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Mn,"encode");function Vn(t){let e=new L(0),i=0;for(;;){let o=t.getUint8(i);if(e=xI(e,bI(new L(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Vn,"decode");function xI(t,e){return new L(t[0]|e[0],t[1]|e[1])}n(xI,"or");function bI(t,e){return e===0?t:e>=32?new L(0,t[0]<<e-32):new L(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(bI,"leftshift");function R(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Mn(i<<3|o.type)),o.type){case A.Varint:e.push(Mn(o.value));break;case A.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case A.LengthDelimited:e.push(Mn(o.value.byteLength)),e.push(o.value);break;case A.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),tx(e)}n(R,"serialize");function tx(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(tx,"concat");function ix(t){if(t instanceof L){let e=new L(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(ix,"encode");function ox(t){if(t instanceof L){let e=new L(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(ox,"decode");var nx={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>ox(t[0]),sint64:t=>ox(t).toString(!0),bool:t=>t[0]!==0},sx={int32:t=>new L(t),int64:t=>L.parse(t),uint32:t=>new L(t),uint64:t=>L.parse(t),sint32:t=>ix(new L(t)),sint64:t=>ix(L.parse(t)),bool:t=>new L(+t)},yI=Object.fromEntries(Object.entries(nx).map(([t,e])=>[t,i=>{if(i.type===A.Varint)return e(i.value)}])),wI=Object.fromEntries(Object.entries(sx).map(([t,e])=>[t,i=>({type:A.Varint,value:e(i)})])),G=Object.assign(Object.assign({},yI),{double:t=>t.type!==A.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==A.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===A.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===A.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===A.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===A.Fixed64)return t.value.toString(!0)},string:t=>t.type!==A.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===A.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},wI),{double:t=>{let e=new L;return new DataView(e.buffer).setFloat64(0,t,!0),{type:A.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:A.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:A.Fixed32,value:t>>>0}),fixed64:t=>({type:A.Fixed64,value:L.parse(t)}),sfixed32:t=>({type:A.Fixed32,value:t|0}),sfixed64:t=>({type:A.Fixed64,value:L.parse(t)}),string:t=>{let e=new TextEncoder;return{type:A.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:A.LengthDelimited,value:t})}),TI=Object.fromEntries(Object.keys(nx).map(t=>[t,function*(e){for(let i of e){let o=G[t](i);if(o!=null)yield o;else for(let s of CI(i))yield nx[t](s)}}])),KM=Object.assign(Object.assign({},TI),{*double(t){for(let e of t){let i=G.double(e);i!=null?yield i:yield*SI(e)}},*float(t){for(let e of t){let i=G.float(e);i!=null?yield i:yield*kI(e)}},*fixed32(t){for(let e of t){let i=G.fixed32(e);if(i!=null)yield i;else for(let o of Bb(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=G.fixed64(e);if(i!=null)yield i;else for(let o of Lb(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=G.sfixed32(e);if(i!=null)yield i;else for(let o of Bb(e))yield o|0}},*sfixed64(t){for(let e of t){let i=G.sfixed64(e);if(i!=null)yield i;else for(let o of Lb(e))yield o.toString(!0)}}}),II=Object.fromEntries(Object.keys(sx).map(t=>[t,function(e){return{type:A.LengthDelimited,value:tx(e.map(i=>{let o=sx[t](i);return Mn(o)}))}}]));function On(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let l=0;l<o.length;++l)e(r,l*t,o[l]);return{type:A.LengthDelimited,value:s}},"pack")}n(On,"getFixedPackFn");var $M=Object.assign(Object.assign({},II),{double:On(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:On(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:On(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:On(8,(t,e,i)=>{let o=L.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:On(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:On(8,(t,e,i)=>{let o=L.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*SI(t){if(t.type!==A.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n(SI,"unpackDouble");function*kI(t){if(t.type!==A.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(kI,"unpackFloat");function*CI(t){if(t.type!==A.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=Vn(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(CI,"unpackVarint");function*Bb(t){if(t.type!==A.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(Bb,"unpackFixed32");function*Lb(t){if(t.type!==A.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new L(s,r)}}n(Lb,"unpackFixed64");function z(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=Vn(new DataView(t.buffer,i+e)),l=r[1][0];e+=r[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case A.Varint:{let[x,w]=Vn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:w}]),e+=x;break}case A.Fixed64:let h=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new L(h,_)}]);break;case A.LengthDelimited:{let[x,w]=Vn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=x,e+=w[0])}]);break}case A.StartGroup:case A.EndGroup:o.push([f,{type:p}]);break;case A.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(z,"deserialize");function EI(){return{id:"",timestamp:0}}n(EI,"getDefaultValue");function Db(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}n(Db,"encodeBinary");function Fb(t){let e=EI(),i=z(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=G.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=G.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(Fb,"decodeBinary");function Yb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}n(Yb,"encodeBinary");function jb(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:A.LengthDelimited,value:Yb(i)}])}return R(e)}n(jb,"encodeBinary");function Ub(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}n(Ub,"encodeBinary");function Wb(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:A.LengthDelimited,value:Ub(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}n(Wb,"encodeBinary");function Hb(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}n(Hb,"encodeBinary");function Jb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:A.LengthDelimited,value:Hb(i)}])}return R(e)}n(Jb,"encodeBinary");function Gb(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:A.LengthDelimited,value:Jb(i)}])}return R(e)}n(Gb,"encodeBinary");function zb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(zb,"encodeBinary");function Kb(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:A.LengthDelimited,value:zb(i)}])}return R(e)}n(Kb,"encodeBinary");function $b(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:A.LengthDelimited,value:Kb(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}n($b,"encodeBinary");function qb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(qb,"encodeBinary");function Xb(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}n(Xb,"encodeBinary");function Qb(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:A.LengthDelimited,value:Xb(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}n(Qb,"encodeBinary");function Zb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return R(e)}n(Zb,"encodeBinary");function ey(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:A.LengthDelimited,value:Qb(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:A.LengthDelimited,value:Zb(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}n(ey,"encodeBinary");function ty(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:A.LengthDelimited,value:qb(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:A.LengthDelimited,value:ey(i)}])}return R(e)}n(ty,"encodeBinary");function iy(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(iy,"encodeBinary");function oy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:A.LengthDelimited,value:iy(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}n(oy,"encodeBinary");function ny(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(ny,"encodeBinary");function sy(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:A.LengthDelimited,value:ny(i)}])}return R(e)}n(sy,"encodeBinary");function ry(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:A.LengthDelimited,value:sy(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}n(ry,"encodeBinary");function ay(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:A.LengthDelimited,value:ry(i)}])}return R(e)}n(ay,"encodeBinary");function ly(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(ly,"encodeBinary");function uy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:A.LengthDelimited,value:ly(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}n(uy,"encodeBinary");function cy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return R(e)}n(cy,"encodeBinary");function dy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:A.LengthDelimited,value:cy(i)}])}return R(e)}n(dy,"encodeBinary");function py(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(py,"encodeBinary");function fy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(fy,"encodeBinary");function hy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}n(hy,"encodeBinary");function my(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}n(my,"encodeBinary");function _y(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}n(_y,"encodeBinary");function vy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}n(vy,"encodeBinary");function gy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:A.LengthDelimited,value:vy(i)}])}return R(e)}n(gy,"encodeBinary");function xy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}n(xy,"encodeBinary");function by(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(by,"encodeBinary");function yy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(yy,"encodeBinary");function rx(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:A.LengthDelimited,value:dy(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:A.LengthDelimited,value:py(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:A.LengthDelimited,value:fy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:A.LengthDelimited,value:hy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:A.LengthDelimited,value:my(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:A.LengthDelimited,value:_y(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:A.LengthDelimited,value:gy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:A.LengthDelimited,value:xy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:A.LengthDelimited,value:by(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:A.LengthDelimited,value:yy(i)}])}return R(e)}n(rx,"encodeBinary");function wy(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}n(wy,"encodeBinary");function Ty(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:A.LengthDelimited,value:wy(i)}])}return R(e)}n(Ty,"encodeBinary");var Bm=class{static encodeVisitorData(e,i){let o=Db({id:e,timestamp:i});return encodeURIComponent(_t(o).replace(/\+/g,"-").replace(/\//g,"_"))}static decodeVisitorData(e){return Fb(ax(decodeURIComponent(e)))}static encodeChannelAnalyticsParams(e){let i=jb({params:{channelId:e}});return encodeURIComponent(_t(i))}static encodeSearchFilters(e){let i={all:void 0,hour:1,today:2,week:3,month:4,year:5},o={all:void 0,video:1,channel:2,playlist:3,movie:4},s={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},l={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},p={};if(e?p.filters={}:p.noFilter=0,p.filters&&(e.upload_date&&(p.filters.uploadDate=i[e.upload_date]),e.type&&(p.filters.type=o[e.type]),e.duration&&(p.filters.duration=s[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(p.sortBy=r[e.sort_by]),e.features))for(let h of e.features)p.filters[l[h]]=1;let f=Wb(p);return encodeURIComponent(_t(f))}static encodeMusicSearchFilters(e){var i;let o={filters:{type:{}}};e.type&&e.type!=="all"&&((i=o.filters)===null||i===void 0?void 0:i.type)&&(o.filters.type[e.type]=1);let s=Gb(o);return encodeURIComponent(_t(s))}static encodeMessageParams(e,i){let o=$b({params:{ids:{channelId:e,videoId:i}},number0:1,number1:4});return btoa(encodeURIComponent(_t(o)))}static encodeCommentsSectionParams(e,i={}){let s=ty({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i.sort_by||"TOP_COMMENTS"],type:i.type||2},target:"comments-section"}});return encodeURIComponent(_t(s))}static encodeCommentParams(e){let i=oy({videoId:e,params:{index:0},number:7});return encodeURIComponent(_t(i))}static encodeCommentActionParams(e,i={}){let o={type:e,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete o.unkNum,o.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let s=ay(o);return encodeURIComponent(_t(s))}static encodeNotificationPref(e,i){let o=uy({channelId:e,prefId:{index:i},number0:0,number1:4});return encodeURIComponent(_t(o))}static encodeVideoMetadataPayload(e,i){let o={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(i,"title")&&(o.title={text:i.title||""}),Reflect.has(i,"description")&&(o.description={text:i.description||""}),Reflect.has(i,"license")&&(o.license={type:i.license||""}),Reflect.has(i,"tags")&&(o.tags={list:i.tags||[]}),Reflect.has(i,"category")&&(o.category={id:i.category||0}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":o.privacy={type:1};break;case"UNLISTED":o.privacy={type:2};break;case"PRIVATE":o.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(i,"made_for_kids")&&(o.madeForKids={unkparam:1,choice:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(o.ageRestricted={unkparam:1,choice:i.age_restricted?1:2}),rx(o)}static encodeCustomThumbnailPayload(e,i){let o={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:i}}};return rx(o)}static encodeHashtag(e){let i=Ty({params:{hashtag:e,type:1}});return encodeURIComponent(_t(i))}};n(Bm,"Proto");var be=Bm;var kt,al=class extends a{constructor(e){var i,o,s,r,l,p,f;super(),kt.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=d.parseItem(e.sponsorCommentBadge,Rm),this.paid_comment_chip=d.parseItem(e.paidCommentChipRenderer,Am),this.author_badge=d.parseItem(e.authorCommentBadge,Nm),this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=d.parseItem(e.actionMenu,U),this.action_buttons=d.parseItem(e.actionButtons,vo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((l=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return b(this,void 0,void 0,function*(){if(!u(this,kt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new g("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,kt,"f"),{parse:!1})})}dislike(){var e;return b(this,void 0,void 0,function*(){if(!u(this,kt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new g("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,kt,"f"),{parse:!1})})}reply(e){var i,o,s;return b(this,void 0,void 0,function*(){if(!u(this,kt,"f"))throw new g("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new g("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new g("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(Pm).reply_button;if(!p)throw new g("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new g("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(u(this,kt,"f"),{commentText:e})})}translate(e){var i,o,s,r,l,p;return b(this,void 0,void 0,function*(){if(!u(this,kt,"f"))throw new g("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=be.encodeCommentActionParams(22,h),x=yield u(this,kt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),w=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,I=(p=(l=(r=(s=w==null?void 0:w[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:I})})}setActions(e){T(this,kt,e,"f")}};n(al,"Comment");kt=new WeakMap;al.type="Comment";var Bn=al;var ll=class extends a{constructor(e){super(),this.id=e.id,this.categories=d.parseArray(e.categories),this.category_buttons=d.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(ll,"EmojiPicker");ll.type="EmojiPicker";var Lm=ll;var ul=class extends a{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=d.parseItem(e.submitButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.placeholder=new c(e.placeholderText),this.emoji_button=d.parseItem(e.emojiButton,k),this.emoji_picker=d.parseItem(e.emojiPicker,Lm)}};n(ul,"CommentDialog");ul.type="CommentDialog";var Iy=ul;var cl=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),this.view_replies=d.parseItem(e.viewReplies,k),this.hide_replies=d.parseItem(e.hideReplies,k),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(cl,"CommentReplies");cl.type="CommentReplies";var Dm=cl;var dl=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};n(dl,"CommentsEntryPointTeaser");dl.type="CommentsEntryPointTeaser";var Fm=dl;var pl=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=E.parseItem(e.contentRenderer,Fm)),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};n(pl,"CommentsEntryPointHeader");pl.type="CommentsEntryPointHeader";var Ym=pl;var fl=class extends a{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=d.parseItem(e.createRenderer),this.sort_menu=d.parseItem(e.sortMenu,fi),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(fl,"CommentsHeader");fl.type="CommentsHeader";var Ln=fl;var hl=class extends a{constructor(e){super(),this.submit_button=d.parseItem(e.submitButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};n(hl,"CommentSimplebox");hl.type="CommentSimplebox";var jm=hl;var ml=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,k)),this.endpoint=new v(e.continuationEndpoint)}};n(ml,"ContinuationItem");ml.type="ContinuationItem";var Me=ml;var hi,xo,_l=class extends a{constructor(e){super(),hi.set(this,void 0),xo.set(this,void 0),this.comment=d.parseItem(e.comment,Bn),this.comment_replies_data=d.parseItem(e.replies,Dm),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return b(this,void 0,void 0,function*(){if(!u(this,hi,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(Me);if(!i)throw new g("Replies continuation not found.");let o=yield i.endpoint.call(u(this,hi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=le(o.on_response_received_endpoints_memo.getType(Bn).map(s=>(s.setActions(u(this,hi,"f")),s))),T(this,xo,o==null?void 0:o.on_response_received_endpoints_memo.getType(Me).first(),"f"),this})}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,xo,"f"))throw new g("Continuation not found.");if(!u(this,hi,"f"))throw new g("Actions instance not set for this thread.");let i=(e=u(this,xo,"f").button)===null||e===void 0?void 0:e.as(k);if(!i)throw new g('"Load more" button not found.');let o=yield i.endpoint.call(u(this,hi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=le(o.on_response_received_endpoints_memo.getType(Bn).map(s=>(s.setActions(u(this,hi,"f")),s))),T(this,xo,o.on_response_received_endpoints_memo.getType(Me).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,xo,"f")}setActions(e){T(this,hi,e,"f")}};n(_l,"CommentThread");hi=new WeakMap,xo=new WeakMap;_l.type="CommentThread";var Um=_l;var vl=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=d.parseItem(e.menu,U)}};n(vl,"CompactChannel");vl.type="CompactChannel";var Sy=vl;var gl=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(gl,"CompactLink");gl.type="CompactLink";var Dn=gl;var xl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):new B(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=d.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=d.parseItem(e.menu),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};n(xl,"Playlist");xl.type="Playlist";var Qt=xl;var bl=class extends Qt{constructor(e){super(e)}};n(bl,"CompactMix");bl.type="CompactMix";var ky=bl;var yl=class extends Qt{constructor(e){super(e)}};n(yl,"CompactPlaylist");yl.type="CompactPlaylist";var Cy=yl;var wl=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};n(wl,"CompactStation");wl.type="CompactStation";var Ey=wl;var Tl=class extends a{constructor(e){super(),this.title=new c(e.title),this.confirm_button=d.parseItem(e.confirmButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(Tl,"ConfirmDialog");Tl.type="ConfirmDialog";var Ny=Tl;var Il=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(s=>({text:c.fromAttributed(s.text)}))}}),this.delimiter=e.delimiter}};n(Il,"ContentMetadataView");Il.type="ContentMetadataView";var Wm=Il;var Sl=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};n(Sl,"ContentPreviewImageView");Sl.type="ContentPreviewImageView";var Fn=Sl;var kl=class extends a{constructor(e){super(),this.availability_message=d.parseItem(e.availabilityMessage,je)}};n(kl,"ConversationBar");kl.type="ConversationBar";var Py=kl;var Cl=class extends a{constructor(e){super(),this.copy_button=d.parseItem(e.copyButton,k),this.short_url=e.shortUrl,this.style=e.style}};n(Cl,"CopyLink");Cl.type="CopyLink";var Hm=Cl;var El=class extends a{constructor(e){var i,o;super(),this.avatar=E.parseItem(e.avatar,um),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};n(El,"DecoratedAvatarView");El.type="DecoratedAvatarView";var Jm=El;var Nl=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Nl,"HeatMarker");Nl.type="HeatMarker";var Gm=Nl;var Pl=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=d.parseArray(e.heatMarkers,Gm),this.heat_markers_decorations=d.parseArray(e.heatMarkersDecorations)}};n(Pl,"Heatmap");Pl.type="Heatmap";var zm=Pl;var Al=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=d.parseItem(e.value.heatmap,zm)),Reflect.has(e.value,"chapters")&&(this.value.chapters=d.parseArray(e.value.chapters,wm)))}};n(Al,"Marker");Al.type="Marker";var Rl=class extends a{constructor(e){var i;super(),this.markers_map=le(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Al(o)))||[])}};n(Rl,"MultiMarkersPlayerBar");Rl.type="MultiMarkersPlayerBar";var Km=Rl;var Ml=class extends a{constructor(e){super(),this.player_bar=d.parseItem(e.playerBar,Km),this.player_bar_action_button=d.parseItem(e.playerBarActionButton,k)}};n(Ml,"DecoratedPlayerBar");Ml.type="DecoratedPlayerBar";var $m=Ml;var Vl=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=d.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=d.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Vl,"DefaultPromoPanel");Vl.type="DefaultPromoPanel";var Ay=Vl;var Ol=class extends a{constructor(e){super(),this.title=new c(e.title),this.visibility_button=E.parseItem(e.visibilityButton,k)}};n(Ol,"EngagementPanelTitleHeader");Ol.type="EngagementPanelTitleHeader";var qm=Ol;var Bl=class extends a{constructor(e){super(),this.info_text=new c(e.infoText),this.menu=E.parseItem(e.menu,U)}};n(Bl,"MacroMarkersInfoItem");Bl.type="MacroMarkersInfoItem";var Xm=Bl;var Ll=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(Ll,"MacroMarkersListItem");Ll.type="MacroMarkersListItem";var Yn=Ll;var Dl=class extends a{constructor(e){super(),this.contents=E.parseArray(e.contents,[Xm,Yn]),this.sync_button_label=new c(e.syncButtonLabel)}};n(Dl,"MacroMarkersList");Dl.type="MacroMarkersList";var Qm=Dl;var Fl=class extends a{constructor(e){super(),this.contents=E.parseArray(e.contents)}};n(Fl,"ProductList");Fl.type="ProductList";var Zm=Fl;var Yl=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?(this.continuation=e.continuations[0].nextContinuationData.continuation,this.continuation_type="next"):Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation,this.continuation_type="reload")),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=d.parseItem(e.subMenu))}};n(Yl,"SectionList");Yl.type="SectionList";var q=Yl;var jl=class extends a{constructor(e){var i;super(),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(jl,"ExpandableVideoDescriptionBody");jl.type="ExpandableVideoDescriptionBody";var e_=jl;var Ul=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new c(e.query).toString()}};n(Ul,"SearchRefinementCard");Ul.type="SearchRefinementCard";var bo=Ul;var Wl=class extends a{constructor(e){super(),this.game=d.parseItem(e.game)}};n(Wl,"GameCard");Wl.type="GameCard";var t_=Wl;var Hl=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=d.parseItem(e.expandedContent,Ui),this.expand_button=d.parseItem(e.expandButton,k),this.collapse_button=d.parseItem(e.collapseButton,k)}};n(Hl,"ExpandableMetadata");Hl.type="ExpandableMetadata";var i_=Hl;var Jl=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};n(Jl,"ThumbnailOverlayTimeStatus");Jl.type="ThumbnailOverlayTimeStatus";var yo=Jl;var Gl=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new c(l.snippetText),hover_text:new c(l.snippetHoverText)}))),this.expandable_metadata=d.parseItem(e.expandableMetadata,i_),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parseItem(e.richThumbnail)),this.author=new B(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=d.parseArray(e.badges,tt),this.endpoint=new v(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:We(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=d.parseItem(e.menu,U),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(yo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Gl,"Video");Gl.type="Video";var jn=Gl;var zl=class extends jn{constructor(e){super(e)}};n(zl,"VideoCard");zl.type="VideoCard";var o_=zl;var Kl=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards,[bo,Yn,t_,o_]),this.header=d.parseItem(e.header),this.previous_button=d.parseItem(e.previousButton,k),this.next_button=d.parseItem(e.nextButton,k)}};n(Kl,"HorizontalCardList");Kl.type="HorizontalCardList";var Ui=Kl;var $l=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value),this.accessibility_text=e.accessibilityText}};n($l,"Factoid");$l.type="Factoid";var Wi=$l;var ql=class extends a{constructor(e){super(),this.factoid=E.parseItem(e.factoid,Wi)}};n(ql,"UploadTimeFactoid");ql.type="UploadTimeFactoid";var n_=ql;var Xl=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=E.parseItem(e.factoid,[Wi]),this.view_count_type=e.viewCountType}};n(Xl,"ViewCountFactoid");Xl.type="ViewCountFactoid";var s_=Xl;var Ql=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel=new c(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new c(e.publishDate),this.views=new c(e.views),this.factoids=E.parseArray(e.factoid,[Wi,s_,n_])}};n(Ql,"VideoDescriptionHeader");Ql.type="VideoDescriptionHeader";var r_=Ql;var Zl=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.creator_videos_button=E.parseItem(e.creatorVideosButton,k),this.creator_about_button=E.parseItem(e.creatorAboutButton,k),this.section_subtitle=new c(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(Zl,"VideoDescriptionInfocardsSection");Zl.type="VideoDescriptionInfocardsSection";var a_=Zl;var eu=class extends a{constructor(e){super(),this.carousel_lockups=E.parseArray(e.carouselLockups,vm),this.section_title=new c(e.sectionTitle)}};n(eu,"VideoDescriptionMusicSection");eu.type="VideoDescriptionMusicSection";var l_=eu;var tu=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.sub_header_text=new c(e.subHeaderText),this.primary_button=E.parseItem(e.primaryButton,k)}};n(tu,"VideoDescriptionTranscriptSection");tu.type="VideoDescriptionTranscriptSection";var iu=tu;var ou=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.short_byline_text=new c(e.shortBylineText),this.video_count_short_text=new c(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(ou,"StructuredDescriptionPlaylistLockup");ou.type="StructuredDescriptionPlaylistLockup";var u_=ou;var nu=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.media_lockups=E.parseArray(e.mediaLockups,[u_])}};n(nu,"VideoDescriptionCourseSection");nu.type="VideoDescriptionCourseSection";var c_=nu;var su=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(su,"ReelShelf");su.type="ReelShelf";var Un=su;var ru=class extends a{constructor(e){super(),this.items=E.parseArray(e.items,[r_,e_,l_,a_,c_,iu,iu,Ui,Un])}};n(ru,"StructuredDescriptionContent");ru.type="StructuredDescriptionContent";var d_=ru;var au=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=y.fromResponse(e.image):this.image=E.parseItem(e.image,Fn),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(au,"VideoAttributeView");au.type="VideoAttributeView";var p_=au;var lu=class extends a{constructor(e){super(),this.header=E.parseItem(e.header,qm),this.content=E.parseItem(e.content,[p_,q,Me,Cm,d_,Qm,Zm]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(lu,"EngagementPanelSectionList");lu.type="EngagementPanelSectionList";var f_=lu;var uu=class extends a{constructor(e){var i,o,s,r,l,p;if(super(),this.description=c.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=c.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((s=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||s===void 0)&&s.showEngagementPanelEndpoint){let f=(p=(l=(r=e.rendererContext.commandContext)===null||r===void 0?void 0:r.onTap)===null||l===void 0?void 0:l.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:E.parseItem(f.engagementPanel,f_),engagement_panel_popup_type:f.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:f.identifier.surface,tag:f.identifier.tag}}}}}};n(uu,"DescriptionPreviewView");uu.type="DescriptionPreviewView";var h_=uu;var cu=class extends a{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(cu,"DidYouMean");cu.type="DidYouMean";var m_=cu;var du=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(du,"DownloadButton");du.type="DownloadButton";var __=du;var pu=class extends a{constructor(e){super(),this.text=c.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(pu,"DynamicTextView");pu.type="DynamicTextView";var v_=pu;var wo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new wo(o)))}};n(wo,"ChildElement");wo.type="ChildElement";var g_=wo;var To=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return d.parseItem(e,To);let o=e.newElement.type.componentType;this.model=d.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=le(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new g_(s)))||[]))}};n(To,"Element");To.type="Element";var Wn=To;var fu=class extends a{constructor(e){super(),this.title=new c(e.title),this.first_option=d.parseItem(e.firstOption),this.menu=d.parseItem(e.menu,U)}};n(fu,"EmergencyOnebox");fu.type="EmergencyOnebox";var Ry=fu;var hu=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(hu,"EmojiPickerCategory");hu.type="EmojiPickerCategory";var My=hu;var mu=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(mu,"EmojiPickerCategoryButton");mu.type="EmojiPickerCategoryButton";var Vy=mu;var _u=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(_u,"EmojiPickerUpsellCategory");_u.type="EmojiPickerUpsellCategory";var Oy=_u;var vu=class extends a{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=d.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(vu,"EndscreenElement");vu.type="EndscreenElement";var By=vu;var gu=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};n(gu,"EndScreenPlaylist");gu.type="EndScreenPlaylist";var x_=gu;var xu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new B(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=d.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(xu,"EndScreenVideo");xu.type="EndScreenVideo";var b_=xu;var bu=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=d.parseItem(e.content)}};n(bu,"ExpandableTab");bu.type="ExpandableTab";var Hn=bu;var yu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(yu,"ExpandedShelfContents");yu.type="ExpandedShelfContents";var Ly=yu;var wu=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents,me)}};n(wu,"FeedFilterChipBar");wu.type="FeedFilterChipBar";var mi=wu;var Tu=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Tu,"FeedTabbedHeader");Tu.type="FeedTabbedHeader";var y_=Tu;var Iu=class extends a{constructor(e){super(),this.default_button=E.parseItem(e.defaultButtonViewModel,go),this.toggled_button=E.parseItem(e.toggledButtonViewModel,go),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Iu,"ToggleButtonView");Iu.type="ToggleButtonView";var w_=Iu;var Su=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:E.parseArray(i.actions,[go,w_])})),this.style=e.style}};n(Su,"FlexibleActionsView");Su.type="FlexibleActionsView";var T_=Su;var ku=class extends a{constructor(e){super(),this.title=new c(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(ku,"GameDetails");ku.type="GameDetails";var Dy=ku;var Cu=class extends a{constructor(e){var i,o,s;super(),this.items=d.parseArray(e.items),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n(Cu,"Grid");Cu.type="Grid";var Io=Cu;var Eu=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton)}};n(Eu,"GridChannel");Eu.type="GridChannel";var I_=Eu;var Nu=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Nu,"GridHeader");Nu.type="GridHeader";var Fy=Nu;var Pu=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new c(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Pu,"GridMix");Pu.type="GridMix";var Yy=Pu;var Au=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):o!=null&&o.text?new c(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=d.parseArray(e.badges,tt),this.metadata=new c(e.metadata),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Au,"GridMovie");Au.type="GridMovie";var jy=Au;var Ru=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new B(e.shortBylineText,e.ownerBadges)),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>y.fromResponse(o)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};n(Ru,"GridPlaylist");Ru.type="GridPlaylist";var S_=Ru;var Mu=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(Mu,"ShowCustomThumbnail");Mu.type="ShowCustomThumbnail";var k_=Mu;var Vu=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Vu,"ThumbnailOverlayBottomPanel");Vu.type="ThumbnailOverlayBottomPanel";var C_=Vu;var Ou=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=E.parseItem(e.thumbnailRenderer,k_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=E.parseArray(e.thumbnailOverlays,C_),this.author=new B(e.shortBylineText,void 0)}};n(Ou,"GridShow");Ou.type="GridShow";var Uy=Ou;var Bu=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.rich_thumbnail=d.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):s!=null&&s.text?new c(s.text):null,this.author=e.shortBylineText&&new B(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U),Reflect.has(e,"buttons")&&(this.buttons=d.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Bu,"GridVideo");Bu.type="GridVideo";var E_=Bu;var Lu=class extends a{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Lu,"GuideEntry");Lu.type="GuideEntry";var So=Lu;var Du=class extends a{constructor(e){super(),this.expander_item=E.parseItem(e.expanderItem,So),this.collapser_item=E.parseItem(e.collapserItem,So),this.expandable_items=E.parseArray(e.expandableItems)}};n(Du,"GuideCollapsibleEntry");Du.type="GuideCollapsibleEntry";var Wy=Du;var Fu=class extends a{constructor(e){super(),this.header_entry=E.parseItem(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=E.parseArray(e.sectionItems)}};n(Fu,"GuideCollapsibleSectionEntry");Fu.type="GuideCollapsibleSectionEntry";var Hy=Fu;var Yu=class extends So{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Yu,"GuideDownloadsEntry");Yu.type="GuideDownloadsEntry";var Jy=Yu;var ju=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=E.parseArray(e.items)}};n(ju,"GuideSection");ju.type="GuideSection";var Jn=ju;var Uu=class extends Jn{};n(Uu,"GuideSubscriptionsSection");Uu.type="GuideSubscriptionsSection";var N_=Uu;var Wu=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};n(Wu,"HashtagHeader");Wu.type="HashtagHeader";var P_=Wu;var Hu=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(Hu,"HeroPlaylistThumbnail");Hu.type="HeroPlaylistThumbnail";var Gy=Hu;var Ju=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(Ju,"Panel");Ju.type="Panel";var Gu=class extends a{constructor(e){super(),this.panels=le(e.highlightsCarousel.panels.map(i=>new Ju(i)))}};n(Gu,"HighlightsCarousel");Gu.type="HighlightsCarousel";var zu=Gu;var Ku=class extends a{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(Ku,"SearchSuggestion");Ku.type="SearchSuggestion";var A_=Ku;var $u=class extends A_{constructor(e){super(e)}};n($u,"HistorySuggestion");$u.type="HistorySuggestion";var zy=$u;var qu=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=d.parseArray(e.items)}get contents(){return this.items}};n(qu,"HorizontalList");qu.type="HorizontalList";var Ky=qu;var Xu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.previous_button=d.parseItem(e.previousButton,k),this.next_button=d.parseItem(e.nextButton,k)}get contents(){return this.items}};n(Xu,"HorizontalMovieList");Xu.type="HorizontalMovieList";var $y=Xu;var Qu=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(Qu,"IconLink");Qu.type="IconLink";var R_=Qu;var Zu=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};n(Zu,"ImageBannerView");Zu.type="ImageBannerView";var M_=Zu;var ec=class extends a{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),this.paragraphs=e.paragraphs.map(i=>new c(i)),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(ec,"InfoPanelContent");ec.type="InfoPanelContent";var V_=ec;var tc=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.menu=d.parseItem(e.menu,U),this.content=d.parseItem(e.content,V_),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(tc,"InfoPanelContainer");tc.type="InfoPanelContainer";var qy=tc;var ic=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=d.parseArray(e.badges,tt),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=d.parseArray(e.buttons,[Ue,k]),this.auto_generated=new c(e.autoGenerated)}};n(ic,"InteractiveTabbedHeader");ic.type="InteractiveTabbedHeader";var O_=ic;var oc=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(oc,"ItemSectionHeader");oc.type="ItemSectionHeader";var B_=oc;var nc=class extends a{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(nc,"ItemSectionTab");nc.type="Tab";var L_=nc;var sc=class extends a{constructor(e){super(),this.title=new c(e.title),this.tabs=d.parseArray(e.tabs,L_),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(sc,"ItemSectionTabbedHeader");sc.type="ItemSectionTabbedHeader";var D_=sc;var rc=class extends a{constructor(e){var i,o,s;super(),this.header=d.parseItem(e.header,[Ln,B_,D_]),this.contents=d.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(rc,"ItemSection");rc.type="ItemSection";var _e=rc;var ac=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(ac,"LikeButton");ac.type="LikeButton";var Xy=ac;var lc=class extends a{constructor(e){var i,o;super(),this.header=d.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(lc,"LiveChat");lc.type="LiveChat";var F_=lc;var uc=class extends a{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(uc,"LiveChatBannerHeader");uc.type="LiveChatBannerHeader";var Y_=uc;var cc=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Y_),this.contents=d.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(cc,"LiveChatBanner");cc.type="LiveChatBanner";var j_=cc;var dc=class extends a{constructor(e){super(),this.banner=d.parseItem(e.bannerRenderer,j_)}};n(dc,"AddBannerToLiveChatCommand");dc.type="AddBannerToLiveChatCommand";var Qy=dc;var pc=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(pc,"AddChatItemAction");pc.type="AddChatItemAction";var U_=pc;var fc=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),this.duration_sec=e.durationSec}};n(fc,"AddLiveChatTickerItemAction");fc.type="AddLiveChatTickerItemAction";var Zy=fc;var hc=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(hc,"DimChatItemAction");hc.type="DimChatItemAction";var ew=hc;var mc=class extends a{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=d.parseArray(e.moderationButtons,k),this.auto_moderated_item=d.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(mc,"LiveChatAutoModMessage");mc.type="LiveChatAutoModMessage";var tw=mc;var _c=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(_c,"LiveChatBannerPoll");_c.type="LiveChatBannerPoll";var iw=_c;var vc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(vc,"LiveChatMembershipItem");vc.type="LiveChatMembershipItem";var ow=vc;var gc=class extends a{constructor(e){super(),this.message=new c(e.message),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};n(gc,"LiveChatPaidMessage");gc.type="LiveChatPaidMessage";var nw=gc;var xc=class extends a{constructor(e){super(),this.id=e.id,this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(xc,"LiveChatPaidSticker");xc.type="LiveChatPaidSticker";var sw=xc;var bc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(bc,"LiveChatPlaceholderItem");bc.type="LiveChatPlaceholderItem";var rw=bc;var yc=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=d.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=d.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};n(yc,"LiveChatProductItem");yc.type="LiveChatProductItem";var aw=yc;var wc=class extends a{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(wc,"LiveChatRestrictedParticipation");wc.type="LiveChatRestrictedParticipation";var lw=wc;var ko=class extends a{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=d.parseArray(e.inlineActionButtons,k),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(ko,"LiveChatMessageBase");ko.type="LiveChatMessageBase";var Tc=class extends ko{constructor(e){super(e),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Tc,"LiveChatTextMessage");Tc.type="LiveChatTextMessage";var uw=Tc;var Ic=class extends a{constructor(e){var i,o;super(),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=d.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(Ic,"LiveChatTickerPaidMessageItem");Ic.type="LiveChatTickerPaidMessageItem";var W_=Ic;var Sc=class extends W_{};n(Sc,"LiveChatTickerPaidStickerItem");Sc.type="LiveChatTickerPaidStickerItem";var cw=Sc;var kc=class extends a{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new B(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(kc,"LiveChatTickerSponsorItem");kc.type="LiveChatTickerSponsorItem";var dw=kc;var Cc=class extends ko{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=d.parseItem(e.actionButton)}};n(Cc,"LiveChatViewerEngagementMessage");Cc.type="LiveChatViewerEngagementMessage";var pw=Cc;var Ec=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(Ec,"PollHeader");Ec.type="PollHeader";var fw=Ec;var Nc=class extends a{constructor(e){super(),this.id=e.id,this.contents=d.parse(e.contents),this.target_id=e.targetId}};n(Nc,"LiveChatActionPanel");Nc.type="LiveChatActionPanel";var H_=Nc;var Pc=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Pc,"MarkChatItemAsDeletedAction");Pc.type="MarkChatItemAsDeletedAction";var hw=Pc;var Ac=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Ac,"MarkChatItemsByAuthorAsDeletedAction");Ac.type="MarkChatItemsByAuthorAsDeletedAction";var mw=Ac;var Rc=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Rc,"RemoveBannerForLiveChatCommand");Rc.type="RemoveBannerForLiveChatCommand";var _w=Rc;var Mc=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Mc,"RemoveChatItemAction");Mc.type="RemoveChatItemAction";var vw=Mc;var Vc=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Vc,"RemoveChatItemByAuthorAction");Vc.type="RemoveChatItemByAuthorAction";var gw=Vc;var Oc=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=d.parseItem(e.replacementItem)}};n(Oc,"ReplaceChatItemAction");Oc.type="ReplaceChatItemAction";var xw=Oc;var Bc=class extends a{constructor(e){var i;super(),this.actions=d.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Bc,"ReplayChatItemAction");Bc.type="ReplayChatItemAction";var bw=Bc;var Lc=class extends a{constructor(e){super(),this.panel_to_show=d.parseItem(e.panelToShow,H_)}};n(Lc,"ShowLiveChatActionPanelAction");Lc.type="ShowLiveChatActionPanelAction";var yw=Lc;var Dc=class extends a{constructor(e){super(),this.dialog=d.parseItem(e.dialog)}};n(Dc,"ShowLiveChatDialogAction");Dc.type="ShowLiveChatDialogAction";var ww=Dc;var Fc=class extends a{constructor(e){super(),this.tooltip=d.parseItem(e.tooltip)}};n(Fc,"ShowLiveChatTooltipCommand");Fc.type="ShowLiveChatTooltipCommand";var Tw=Fc;var Yc=class extends a{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};n(Yc,"UpdateDateTextAction");Yc.type="UpdateDateTextAction";var J_=Yc;var jc=class extends a{constructor(e){super(),this.description=new c(e.description)}};n(jc,"UpdateDescriptionAction");jc.type="UpdateDescriptionAction";var G_=jc;var Uc=class extends a{constructor(e){super(),this.poll_to_update=d.parseItem(e.pollToUpdate)}};n(Uc,"UpdateLiveChatPollAction");Uc.type="UpdateLiveChatPollAction";var Iw=Uc;var Wc=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Wc,"UpdateTitleAction");Wc.type="UpdateTitleAction";var z_=Wc;var Hc=class extends a{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};n(Hc,"UpdateToggleButtonTextAction");Hc.type="UpdateToggleButtonTextAction";var K_=Hc;var Jc=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.is_live=i.isLive}};n(Jc,"UpdateViewershipAction");Jc.type="UpdateViewershipAction";var $_=Jc;var Gc=class extends tt{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};n(Gc,"LiveChatAuthorBadge");Gc.type="LiveChatAuthorBadge";var Sw=Gc;var zc=class extends a{constructor(e){super(),this.confirm_button=d.parseItem(e.confirmButton,k),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(zc,"LiveChatDialog");zc.type="LiveChatDialog";var kw=zc;var Kc=class extends a{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=d.parseItem(e.sendButton,k),this.target_id=e.targetId}};n(Kc,"LiveChatMessageInput");Kc.type="LiveChatMessageInput";var Cw=Kc;var $c=class extends k{constructor(e){super(e)}};n($c,"MenuNavigationItem");$c.type="MenuNavigationItem";var Ew=$c;var qc=class extends k{constructor(e){super(e)}};n(qc,"MenuServiceItem");qc.type="MenuServiceItem";var Gn=qc;var Xc=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Xc,"MenuServiceItemDownload");Xc.type="MenuServiceItemDownload";var Nw=Xc;var Qc=class extends a{constructor(e){super(),this.header=d.parse(e.header),this.sections=d.parse(e.sections),this.style=e.style}};n(Qc,"MultiPageMenu");Qc.type="MultiPageMenu";var Pw=Qc;var Zc=class extends a{constructor(e){super(),this.items=d.parse(e.items)}get contents(){return this.items}};n(Zc,"MultiPageMenuNotificationSection");Zc.type="MultiPageMenuNotificationSection";var Aw=Zc;var ed=class extends a{constructor(e){super()}};n(ed,"MusicMenuItemDivider");ed.type="MusicMenuItemDivider";var q_=ed;var td=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=d.parseArray(e.options,[It,q_])}};n(td,"MusicMultiSelectMenu");td.type="MusicMultiSelectMenu";var X_=td;var id=class extends a{constructor(e){super(),this.title=new c(e.title),this.buttons=d.parse(e.buttons)}};n(id,"SimpleMenuHeader");id.type="SimpleMenuHeader";var Q_=id;var od=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(od,"MerchandiseItem");od.type="MerchandiseItem";var Rw=od;var nd=class extends a{constructor(e){super(),this.title=e.title,this.menu=d.parseItem(e.actionButton),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(nd,"MerchandiseShelf");nd.type="MerchandiseShelf";var Z_=nd;var sd=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};n(sd,"MetadataRow");sd.type="MetadataRow";var Mw=sd;var rd=class extends a{constructor(e){super(),this.rows=d.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(rd,"MetadataRowContainer");rd.type="MetadataRowContainer";var ev=rd;var ad=class extends a{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};n(ad,"MetadataRowHeader");ad.type="MetadataRowHeader";var Vw=ad;var ld=class extends a{constructor(e){super(),this.section_list=d.parseItem(e)}};n(ld,"MetadataScreen");ld.type="MetadataScreen";var Ow=ld;var ud=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(ud,"MicroformatData");ud.type="MicroformatData";var Zt=ud;var cd=class extends Qt{constructor(e){super(e)}};n(cd,"Mix");cd.type="Mix";var Bw=cd;var dd=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new B(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:We(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=d.parseItem(e.menu,U)}};n(dd,"Movie");dd.type="Movie";var Lw=dd;var pd=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new y(o)).sort((o,s)=>s.width-o.width)}};n(pd,"MovingThumbnail");pd.type="MovingThumbnail";var Dw=pd;var fd=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(fd,"MusicCardShelfHeaderBasic");fd.type="MusicCardShelfHeaderBasic";var tv=fd;var hd=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(hd,"MusicInlineBadge");hd.type="MusicInlineBadge";var zn=hd;var md=class extends a{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(md,"MusicPlayButton");md.type="MusicPlayButton";var Kn=md;var _d=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,Kn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(_d,"MusicItemThumbnailOverlay");_d.type="MusicItemThumbnailOverlay";var Hi=_d;var vd=class extends a{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};n(vd,"MusicThumbnail");vd.type="MusicThumbnail";var lt=vd;var gd=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,lt),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=d.parseArray(e.buttons,k),this.menu=d.parseItem(e.menu,U),this.on_tap=new v(e.onTap),this.header=d.parseItem(e.header,tv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=d.parseArray(e.subtitleBadges,zn),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Hi),Reflect.has(e,"contents")&&(this.contents=d.parseArray(e.contents))}};n(gd,"MusicCardShelf");gd.type="MusicCardShelf";var iv=gd;var xd=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,lt)),Reflect.has(e,"moreContentButton")&&(this.more_content=d.parseItem(e.moreContentButton,k)),Reflect.has(e,"endIcons")&&(this.end_icons=d.parseArray(e.endIcons,R_))}};n(xd,"MusicCarouselShelfBasicHeader");xd.type="MusicCarouselShelfBasicHeader";var ov=xd;var bd=class extends a{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new v(e.clickCommand),Reflect.has(e,"iconStyle")&&Reflect.has(e.iconStyle,"icon")&&Reflect.has(e.iconStyle.icon,"iconType")&&(this.icon_type=e.iconStyle.icon.iconType)}};n(bd,"MusicNavigationButton");bd.type="MusicNavigationButton";var $n=bd;var yd=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(yd,"MusicResponsiveListItemFixedColumn");yd.type="musicResponsiveListItemFlexColumnRenderer";var nv=yd;var wd=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(wd,"MusicResponsiveListItemFlexColumn");wd.type="MusicResponsiveListItemFlexColumn";var sv=wd;var ei,Td,jw,Uw,Fw,Yw,Ww,Hw,Jw,Gw,Id=class extends a{constructor(e){var i,o,s,r,l,p;switch(super(),ei.add(this),Td.set(this,void 0),this.flex_columns=d.parseArray(e.flexColumns,sv),this.fixed_columns=d.parseArray(e.fixedColumns,nv),T(this,Td,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),this.endpoint=e.navigationEndpoint?new v(e.navigationEndpoint):null,(p=(l=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,ei,"m",Jw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,ei,"m",Gw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,ei,"m",Ww).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,ei,"m",Hw).call(this);break;default:this.flex_columns[1]?u(this,ei,"m",Uw).call(this):u(this,ei,"m",jw).call(this);break}e.index&&(this.index=new c(e.index)),this.thumbnail=d.parseItem(e.thumbnail,lt),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu,U),this.overlay=d.parseItem(e.overlay,Hi)}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Id,"MusicResponsiveListItem");Td=new WeakMap,ei=new WeakSet,jw=n(function(){this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Uw=n(function(){var e,i;((i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",u(this,ei,"m",Yw).call(this)):(this.item_type="song",u(this,ei,"m",Fw).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),Fw=n(function(){var e,i,o,s,r,l,p,f,h,_,x,w,I,S,N;this.id=u(this,Td,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let P=((r=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(Y=>/^\d+$/.test(Y.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.key("title").instanceof(c))===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:We(P)});let V=((h=(f=this.flex_columns[1])===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||h===void 0?void 0:h.find(Y=>$e(Y)&&Y.endpoint&&(Y.endpoint.payload.browseId.startsWith("MPR")||Y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))))||((x=(_=this.flex_columns[2])===null||_===void 0?void 0:_.key("title").instanceof(c).runs)===null||x===void 0?void 0:x.find(Y=>$e(Y)&&Y.endpoint&&(Y.endpoint.payload.browseId.startsWith("MPR")||Y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))));V&&$e(V)&&(this.album={id:(I=(w=V.endpoint)===null||w===void 0?void 0:w.payload)===null||I===void 0?void 0:I.browseId,name:V.text,endpoint:V.endpoint});let H=(N=(S=this.flex_columns[1])===null||S===void 0?void 0:S.key("title").instanceof(c).runs)===null||N===void 0?void 0:N.filter(Y=>$e(Y)&&Y.endpoint&&(Y.endpoint.payload.browseId.startsWith("UC")||Y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));H&&(this.artists=H.map(Y=>{var ue,xe;return{name:Y.text,channel_id:$e(Y)?(xe=(ue=Y.endpoint)===null||ue===void 0?void 0:ue.payload)===null||xe===void 0?void 0:xe.browseId:void 0,endpoint:$e(Y)?Y.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Yw=n(function(){var e,i,o,s,r,l,p,f,h,_;this.id=u(this,Td,"f").video_id,this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c),this.views=(o=(i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.find(I=>I.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(r=(s=this.flex_columns[1])===null||s===void 0?void 0:s.key("title").instanceof(c).runs)===null||r===void 0?void 0:r.filter(I=>$e(I)&&I.endpoint&&(I.endpoint.payload.browseId.startsWith("UC")||I.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));x&&(this.authors=x.map(I=>{var S,N;return{name:I.text,channel_id:$e(I)?(N=(S=I.endpoint)===null||S===void 0?void 0:S.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:$e(I)?I.endpoint:void 0}}));let w=((p=(l=this.flex_columns[1].key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(h=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||h===void 0?void 0:h.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);w&&(this.duration={text:w,seconds:We(w)})},"_MusicResponsiveListItem_parseVideo"),Ww=n(function(){var e,i,o,s,r,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c),this.subscribers=((l=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),Hw=n(function(){var e,i,o,s;this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c),this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Jw=n(function(){var e,i,o,s,r,l,p,f,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let _=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(x=>$e(x)&&x.endpoint&&(x.endpoint.payload.browseId.startsWith("UC")||x.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&$e(_)&&(this.author={name:_.text,channel_id:(l=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(h=(f=(p=this.flex_columns[1])===null||p===void 0?void 0:p.key("title").instanceof(c).runs)===null||f===void 0?void 0:f.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),Gw=n(function(){var e,i,o,s,r,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let h=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(l=(r=this.flex_columns[1])===null||r===void 0?void 0:r.key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(x=>$e(x)&&x.endpoint&&(x.endpoint.payload.browseId.startsWith("UC")||x.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&$e(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Id.type="MusicResponsiveListItem";var Ji=Id;var Sd=class extends a{constructor(e){var i,o,s,r,l,p,f,h,_,x,w,I,S,N,P,V,H,Y,ue,xe,Be,Le;switch(super(),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new c(e.subtitle),this.badges=d.parse(e.subtitleBadges),(h=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((w=this.subtitle.runs)===null||w===void 0)&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((S=(I=this.subtitle.runs)===null||I===void 0?void 0:I.find(X=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(X.text)))===null||S===void 0?void 0:S.text)||"";else if(this.item_type=="playlist"){let X=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(K=>K.text.match(/\d+ songs|song/));this.item_count=X?X.text:null}else if(this.item_type=="album"){let X=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(K=>{var te,ee;return(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId.startsWith("UC")});X&&(this.artists=X.map(K=>{var te,ee;return{name:K.text,channel_id:(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId,endpoint:K.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((Y=(H=this===null||this===void 0?void 0:this.subtitle.runs)===null||H===void 0?void 0:H.find(K=>K==null?void 0:K.text.match(/(.*?) views/)))===null||Y===void 0?void 0:Y.text)||"N/A";let X=(ue=this.subtitle.runs)===null||ue===void 0?void 0:ue.find(K=>{var te,ee,Ze;return(Ze=(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId)===null||Ze===void 0?void 0:Ze.startsWith("UC")});X&&(this.author={name:X==null?void 0:X.text,channel_id:(Be=(xe=X==null?void 0:X.endpoint)===null||xe===void 0?void 0:xe.payload)===null||Be===void 0?void 0:Be.browseId,endpoint:X==null?void 0:X.endpoint})}else if(this.item_type=="song"){let X=(Le=this.subtitle.runs)===null||Le===void 0?void 0:Le.filter(K=>{var te,ee;return(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId.startsWith("UC")});X&&(this.artists=X.map(K=>{var te,ee;return{name:K==null?void 0:K.text,channel_id:(ee=(te=K==null?void 0:K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId,endpoint:K==null?void 0:K.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Hi),this.menu=d.parseItem(e.menu,U)}};n(Sd,"MusicTwoRowItem");Sd.type="MusicTwoRowItem";var qn=Sd;var kd=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,ov),this.contents=d.parseArray(e.contents,[qn,Ji,$n]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(kd,"MusicCarouselShelf");kd.type="MusicCarouselShelf";var Ne=kd;var Cd=class extends a{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};n(Cd,"MusicDescriptionShelf");Cd.type="MusicDescriptionShelf";var _i=Cd;var Ed=class extends a{constructor(e){var i,o,s,r,l,p,f,h,_;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(w=>/^[12][0-9]{3}$/.test(w.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=d.parseArray(e.subtitleBadges);let x=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(w=>{var I,S,N,P;return((S=(I=w==null?void 0:w.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId.startsWith("UC"))||((P=(N=w==null?void 0:w.endpoint)===null||N===void 0?void 0:N.payload)===null||P===void 0?void 0:P.browseId.startsWith("FEmusic_library_privately_owned_artist"))});x&&(this.author={name:x.text,channel_id:(_=(h=x.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:x.endpoint}),this.menu=d.parseItem(e.menu)}};n(Ed,"MusicDetailHeader");Ed.type="MusicDetailHeader";var Co=Ed;var Nd=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Nd,"MusicDownloadStateBadge");Nd.type="MusicDownloadStateBadge";var zw=Nd;var Pd=class extends a{constructor(e){super(),this.header=d.parseItem(e.header)}};n(Pd,"MusicEditablePlaylistDetailHeader");Pd.type="MusicEditablePlaylistDetailHeader";var rv=Pd;var Ad=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?d.parseItem(e,Wn):null}};n(Ad,"MusicElementHeader");Ad.type="MusicElementHeader";var Rd=Ad;var Md=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};n(Md,"MusicHeader");Md.type="MusicHeader";var Gi=Md;var Vd=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=d.parseItem(e.thumbnail,lt),this.play_button=d.parseItem(e.playButton,k),this.start_radio_button=d.parseItem(e.startRadioButton,k)}};n(Vd,"MusicImmersiveHeader");Vd.type="MusicImmersiveHeader";var av=Vd;var Od=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Od,"ActionButton");Od.type="ActionButton";var Bd=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Od(i))}};n(Bd,"Panel");Bd.type="Panel";var Ld=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Bd(i))}};n(Ld,"MusicLargeCardItemCarousel");Ld.type="MusicLargeCardItemCarousel";var Kw=Ld;var Dd=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=d.parseArray(e.contents,Ji),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(Dd,"MusicPlaylistShelf");Dd.type="MusicPlaylistShelf";var Eo=Dd;var Fd=class extends a{constructor(e){var i,o,s,r,l;super(),this.title=new c(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:We(new c(e.lengthText).toString())};let p=(i=new c(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,x,w,I,S,N;return((w=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||w===void 0?void 0:w.startsWith("MPR"))||((N=(S=(I=h.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId)===null||N===void 0?void 0:N.startsWith("FEmusic_library_privately_owned_release"))}),f=(o=new c(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,x,w,I,S,N;return((w=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||w===void 0?void 0:w.startsWith("UC"))||((N=(S=(I=h.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId)===null||N===void 0?void 0:N.startsWith("FEmusic_library_privately_owned_artist"))});this.author=new c(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(l=new c(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(h=>{var _,x;return{name:h.text,channel_id:(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:h.endpoint}})),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId,this.long_by_line_text=new c(e.longBylineText)}};n(Fd,"PlaylistPanelVideo");Fd.type="PlaylistPanelVideo";var vi=Fd;var Yd=class extends a{constructor(e){super(),this.primary=d.parseItem(e.primaryRenderer,vi),Reflect.has(e,"counterpart")&&(this.counterpart=le(e.counterpart.map(i=>d.parseItem(i.counterpartRenderer,vi))||[]))}};n(Yd,"PlaylistPanelVideoWrapper");Yd.type="PlaylistPanelVideoWrapper";var lv=Yd;var jd=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=d.parseArray(e.contents,[lv,vi,Yi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(jd,"PlaylistPanel");jd.type="PlaylistPanel";var ti=jd;var Ud=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,ti)}};n(Ud,"MusicQueue");Ud.type="MusicQueue";var Xn=Ud;var Wd=class extends a{constructor(e){super(),this.thumbnail=E.parseItem(e.thumbnail,lt),this.buttons=E.parseArray(e.buttons,[__,Re,Kn,k,U]),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.strapline_text_one=new c(e.straplineTextOne),this.strapline_thumbnail=E.parseItem(e.straplineThumbnail,lt),this.second_subtitle=new c(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=E.parseArray(e.subtitleBadge,zn)),Reflect.has(e,"description")&&(this.description=E.parseItem(e.description,_i))}};n(Wd,"MusicResponsiveHeader");Wd.type="MusicResponsiveHeader";var $w=Wd;var Hd=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents,Ji),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=d.parseItem(e.bottomButton,k)),Reflect.has(e,"subheaders")&&(this.subheaders=d.parseArray(e.subheaders))}};n(Hd,"MusicShelf");Hd.type="MusicShelf";var ye=Hd;var Jd=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=d.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(Jd,"MusicSideAlignedItem");Jd.type="MusicSideAlignedItem";var uv=Jd;var Gd=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=d.parseItem(e.menu,X_)}};n(Gd,"MusicSortFilterButton");Gd.type="MusicSortFilterButton";var zd=Gd;var Kd=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(Kd,"MusicTastebuilderShelfThumbnail");Kd.type="MusicTastebuilderShelfThumbnail";var cv=Kd;var $d=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,cv),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=d.parseItem(e.actionButton,k),this.is_visible=e.isVisible}};n($d,"MusicTasteBuilderShelf");$d.type="MusicTasteBuilderShelf";var dv=$d;var qd=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=d.parseItem(e.menu,U),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(qd,"MusicVisualHeader");qd.type="MusicVisualHeader";var pv=qd;var Xd=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=d.parseItem(e.contextualMenu),this.read=e.read}};n(Xd,"Notification");Xd.type="Notification";var fv=Xd;var Qd=class extends a{constructor(e){super(),this.title=E.parseItem(e.title,v_),this.image=E.parseItem(e.image,[Fn,Jm]),this.metadata=E.parseItem(e.metadata,Wm),this.actions=E.parseItem(e.actions,T_),this.description=E.parseItem(e.description,h_),this.attributation=E.parseItem(e.attributation,lm),this.banner=E.parseItem(e.banner,M_)}};n(Qd,"PageHeaderView");Qd.type="PageHeaderView";var hv=Qd;var Zd=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=E.parseItem(e.content,hv)}};n(Zd,"PageHeader");Zd.type="PageHeader";var qw=Zd;var ep=class extends a{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(ep,"PageIntroduction");ep.type="PageIntroduction";var mv=ep;var tp=class extends a{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=d.parseItem(e.proceedButton,k),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(tp,"PlayerErrorMessage");tp.type="PlayerErrorMessage";var Xw=tp;var ip=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(ip,"PlayerLegacyDesktopYpcOffer");ip.type="PlayerLegacyDesktopYpcOffer";var Qw=ip;var op=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(op,"YpcTrailer");op.type="YpcTrailer";var _v=op;var np=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=E.parseItem(e.ypcTrailer,_v)}};n(np,"PlayerLegacyDesktopYpcTrailer");np.type="PlayerLegacyDesktopYpcTrailer";var sp=np;var rp=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(rp,"PlayerMicroformat");rp.type="PlayerMicroformat";var Ct=rp;var ap=class extends a{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new B(e.byline),this.cancel_button=d.parseItem(e.cancelButton,k),this.next_button=d.parseItem(e.nextButton,k),this.close_button=d.parseItem(e.closeButton,k)}};n(ap,"PlayerOverlayAutoplay");ap.type="PlayerOverlayAutoplay";var vv=ap;var lp=class extends a{constructor(e){super(),this.results=d.parseArray(e.results,[b_,x_]),this.title=new c(e.title).toString()}};n(lp,"WatchNextEndScreen");lp.type="WatchNextEndScreen";var gv=lp;var up=class extends a{constructor(e){super(),this.end_screen=d.parseItem(e.endScreen,gv),this.autoplay=d.parseItem(e.autoplay,vv),this.share_button=d.parseItem(e.shareButton,k),this.add_to_menu=d.parseItem(e.addToMenu,U),this.fullscreen_engagement=d.parseItem(e.fullscreenEngagement),this.actions=d.parseArray(e.actions),this.browser_media_session=d.parseItem(e.browserMediaSession),this.decorated_player_bar=d.parseItem(e.decoratedPlayerBarRenderer,$m)}};n(up,"PlayerOverlay");up.type="PlayerOverlay";var zi=up;var cp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(cp,"PlaylistCustomThumbnail");cp.type="PlaylistCustomThumbnail";var xv=cp;var dp=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=new B(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null),this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=d.parseItem(e.saveButton),this.shuffle_play_button=d.parseItem(e.shufflePlayButton),this.menu=d.parseItem(e.moreActionsMenu),this.banner=d.parseItem(e.playlistHeaderBanner)}};n(dp,"PlaylistHeader");dp.type="PlaylistHeader";var bv=dp;var pp=class extends a{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new v(e.action)}};n(pp,"PlaylistInfoCardContent");pp.type="PlaylistInfoCardContent";var Zw=pp;var fp=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(fp,"PlaylistMetadata");fp.type="PlaylistMetadata";var yv=fp;var hp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(hp,"PlaylistSidebar");hp.type="PlaylistSidebar";var eT=hp;var mp=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=d.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new c(e.description)}};n(mp,"PlaylistSidebarPrimaryInfo");mp.type="PlaylistSidebarPrimaryInfo";var wv=mp;var _p=class extends a{constructor(e){super(),this.owner=d.parseItem(e.videoOwner),this.button=d.parseItem(e.button)}};n(_p,"PlaylistSidebarSecondaryInfo");_p.type="PlaylistSidebarSecondaryInfo";var Tv=_p;var vp=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new B(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=d.parseItem(e.menu,U),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(yo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(yo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(vp,"PlaylistVideo");vp.type="PlaylistVideo";var Iv=vp;var gp=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=d.parseArray(e.contents)}};n(gp,"PlaylistVideoList");gp.type="PlaylistVideoList";var tT=gp;var xp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(xp,"PlaylistVideoThumbnail");xp.type="PlaylistVideoThumbnail";var Sv=xp;var bp=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(bp,"Poll");bp.type="Poll";var iT=bp;var yp=class extends ji{constructor(e){super(e)}};n(yp,"Post");yp.type="Post";var kv=yp;var wp=class extends a{constructor(e){super(),this.images=d.parseArray(e.images,cm)}};n(wp,"PostMultiImage");wp.type="PostMultiImage";var oT=wp;var Tp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Tp,"ProfileColumn");Tp.type="ProfileColumn";var nT=Tp;var Ip=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Ip,"ProfileColumnStats");Ip.type="ProfileColumnStats";var Cv=Ip;var Sp=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};n(Sp,"ProfileColumnStatsEntry");Sp.type="ProfileColumnStatsEntry";var sT=Sp;var kp=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};n(kp,"ProfileColumnUserInfo");kp.type="ProfileColumnUserInfo";var Ev=kp;var Cp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=d.parseItem(e.button,k),this.surface=e.surface}};n(Cp,"RecognitionShelf");Cp.type="RecognitionShelf";var rT=Cp;var Ep=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Ep,"ReelItem");Ep.type="ReelItem";var Nv=Ep;var Np=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Np,"RelatedChipCloud");Np.type="RelatedChipCloud";var Pv=Np;var Pp=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.contents=d.parseArray(e.contents)}};n(Pp,"RichGrid");Pp.type="RichGrid";var Ki=Pp;var Ap=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Ap,"RichItem");Ap.type="RichItem";var aT=Ap;var Rp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Rp,"RichListHeader");Rp.type="RichListHeader";var lT=Rp;var Mp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(Mp,"RichMetadata");Mp.type="RichMetadata";var Vp=Mp;var Op=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Op,"RichMetadataRow");Op.type="RichMetadataRow";var Bp=Op;var Lp=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Lp,"RichSection");Lp.type="RichSection";var uT=Lp;var Dp=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(Dp,"RichShelf");Dp.type="RichShelf";var Av=Dp;var Fp=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=d.parseItem(e.searchButton,k),this.clear_button=d.parseItem(e.clearButton,k),this.placeholder_text=new c(e.placeholderText)}};n(Fp,"SearchBox");Fp.type="SearchBox";var cT=Fp;var Yp=class extends a{constructor(e){super(),this.label=new c(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Yp,"SearchFilter");Yp.type="SearchFilter";var Rv=Yp;var jp=class extends a{constructor(e){super(),this.title=new c(e.title),this.filters=E.parseArray(e.filters,Rv)}};n(jp,"SearchFilterGroup");jp.type="SearchFilterGroup";var Mv=jp;var Up=class extends a{constructor(e){super(),this.title=new c(e.title),this.groups=d.parseArray(e.groups,Mv),this.button=d.parseItem(e.button,Re)}};n(Up,"SearchSubMenu");Up.type="SearchSubMenu";var Vv=Up;var Wp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Wp,"SearchSuggestionsSection");Wp.type="SearchSuggestionsSection";var Ov=Wp;var Hp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Hp,"SecondarySearchContainer");Hp.type="SecondarySearchContainer";var dT=Hp;var Jp=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,[Re,k]),this.dislike_button=d.parseItem(e.dislikeButton,[Re,k])}};n(Jp,"SegmentedLikeDislikeButton");Jp.type="SegmentedLikeDislikeButton";var No=Jp;var Gp=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Gp,"SettingBoolean");Gp.type="SettingBoolean";var pT=Gp;var zp=class extends a{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(zp,"SettingsCheckbox");zp.type="SettingsCheckbox";var Bv=zp;var Kp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(Kp,"SettingsSwitch");Kp.type="SettingsSwitch";var Qn=Kp;var $p=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=d.parseArray(e.options,[Qn,Nn,Hm,Bv,ym]))}};n($p,"SettingsOptions");$p.type="SettingsOptions";var Zn=$p;var qp=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items,Dn)}get contents(){return this.items}};n(qp,"SettingsSidebar");qp.type="SettingsSidebar";var Lv=qp;var Xp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=E.parseItem(e.actionMenu,U),this.original_post=E.parseItem(e.originalPost,ji),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=E.parseItem(e.expandButton,k),this.author=new B(e.displayName,void 0)}};n(Xp,"SharedPost");Xp.type="SharedPost";var Dv=Xp;var Qp=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=d.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=d.parseItem(e.playAllButton,k))}};n(Qp,"Shelf");Qp.type="Shelf";var es=Qp;var Zp=class extends a{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};n(Zp,"ShowingResultsFor");Zp.type="ShowingResultsFor";var Fv=Zp;var ef=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new v(e.command)}};n(ef,"SimpleCardContent");ef.type="SimpleCardContent";var fT=ef;var tf=class extends a{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};n(tf,"SimpleCardTeaser");tf.type="SimpleCardTeaser";var hT=tf;var of=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};n(of,"SimpleTextSection");of.type="SimpleTextSection";var mT=of;var nf=class extends a{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(nf,"SingleActionEmergencySupport");nf.type="SingleActionEmergencySupport";var _T=nf;var sf=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=d.parseItem(e.content,[q,Xn,Ki])}};n(sf,"Tab");sf.type="Tab";var ve=sf;var rf=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,ve)}};n(rf,"SingleColumnBrowseResults");rf.type="SingleColumnBrowseResults";var ii=rf;var af=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(af,"SingleColumnMusicWatchNextResults");af.type="SingleColumnMusicWatchNextResults";var vT=af;var lf=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};n(lf,"SingleHeroImage");lf.type="SingleHeroImage";var gT=lf;var uf=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,Ue)}};n(uf,"SlimOwner");uf.type="SlimOwner";var xT=uf;var cf=class extends a{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=d.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};n(cf,"SlimVideoMetadata");cf.type="SlimVideoMetadata";var Yv=cf;var df=class extends a{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(df,"SubFeedOption");df.type="SubFeedOption";var jv=df;var pf=class extends a{constructor(e){super(),this.title=new c(e.title),this.options=d.parseArray(e.options,jv)}};n(pf,"SubFeedSelector");pf.type="SubFeedSelector";var bT=pf;var ff=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(ff,"Tabbed");ff.type="Tabbed";var yT=ff;var hf=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,ve)}};n(hf,"TabbedSearchResults");hf.type="TabbedSearchResults";var Uv=hf;var mf=class extends a{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};n(mf,"TextHeader");mf.type="TextHeader";var wT=mf;var _f=class extends a{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};n(_f,"ThumbnailLandscapePortrait");_f.type="ThumbnailLandscapePortrait";var TT=_f;var vf=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(vf,"ThumbnailOverlayEndorsement");vf.type="ThumbnailOverlayEndorsement";var IT=vf;var gf=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(gf,"ThumbnailOverlayHoverText");gf.type="ThumbnailOverlayHoverText";var ST=gf;var xf=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};n(xf,"ThumbnailOverlayInlineUnplayable");xf.type="ThumbnailOverlayInlineUnplayable";var kT=xf;var bf=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(bf,"ThumbnailOverlayLoadingPreview");bf.type="ThumbnailOverlayLoadingPreview";var CT=bf;var yf=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(yf,"ThumbnailOverlayNowPlaying");yf.type="ThumbnailOverlayNowPlaying";var ET=yf;var wf=class extends a{constructor(e){super(),this.hack=e.hack}};n(wf,"ThumbnailOverlayPinking");wf.type="ThumbnailOverlayPinking";var NT=wf;var Tf=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};n(Tf,"ThumbnailOverlayPlaybackStatus");Tf.type="ThumbnailOverlayPlaybackStatus";var PT=Tf;var If=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(If,"ThumbnailOverlayResumePlayback");If.type="ThumbnailOverlayResumePlayback";var AT=If;var Sf=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(Sf,"ThumbnailOverlaySidePanel");Sf.type="ThumbnailOverlaySidePanel";var RT=Sf;var kf=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(kf,"ThumbnailOverlayToggleButton");kf.type="ThumbnailOverlayToggleButton";var MT=kf;var Cf=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};n(Cf,"TimedMarkerDecoration");Cf.type="TimedMarkerDecoration";var VT=Cf;var Ef=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Ef,"TitleAndButtonListHeader");Ef.type="TitleAndButtonListHeader";var OT=Ef;var Nf=class extends a{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(Nf,"ToggleMenuServiceItem");Nf.type="ToggleMenuServiceItem";var BT=Nf;var Pf=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Pf,"Tooltip");Pf.type="Tooltip";var LT=Pf;var Af=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=d.parseItem(e.subscribeButton,Ue),this.endpoint=new v(e.navigationEndpoint)}};n(Af,"TopicChannelDetails");Af.type="TopicChannelDetails";var DT=Af;var Rf=class extends a{constructor(e){super(),this.tabs=d.parse(e.tabs),this.secondary_contents=d.parse(e.secondaryContents)}};n(Rf,"TwoColumnBrowseResults");Rf.type="TwoColumnBrowseResults";var $i=Rf;var Mf=class extends a{constructor(e){super(),this.primary_contents=d.parse(e.primaryContents),this.secondary_contents=d.parse(e.secondaryContents)}};n(Mf,"TwoColumnSearchResults");Mf.type="TwoColumnSearchResults";var Wv=Mf;var Hv,lx,Vf=class extends a{constructor(e){var i,o,s,r,l;super(),Hv.add(this),this.results=d.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=d.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=d.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new c(p.shortBylineText):new B(p.longBylineText),contents:d.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:d.parseItem(p.menu,U)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(h=>u(this,Hv,"m",lx).call(this,h))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(h=>u(this,Hv,"m",lx).call(this,h))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(Vf,"TwoColumnWatchNextResults");Hv=new WeakSet,lx=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Vf.type="TwoColumnWatchNextResults";var ts=Vf;var Of=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.call_to_action=d.parseItem(e.callToAction),this.sections=d.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};n(Of,"UniversalWatchCard");Of.type="UniversalWatchCard";var Jv=Of;var Bf=class extends a{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=d.parseItem(e.actionButton,k),this.dismiss_button=d.parseItem(e.dismissButton,k),this.is_visible=e.isVisible}};n(Bf,"UpsellDialog");Bf.type="UpsellDialog";var FT=Bf;var Lf=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};n(Lf,"VerticalList");Lf.type="VerticalList";var YT=Lf;var Df=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(Df,"VerticalWatchCardList");Df.type="VerticalWatchCardList";var jT=Df;var Ff=class extends a{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new v(e.action)}};n(Ff,"VideoInfoCardContent");Ff.type="VideoInfoCardContent";var UT=Ff;var Yf=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new c(e.subscriberCountText),this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Yf,"VideoOwner");Yf.type="VideoOwner";var is=Yf;var jf=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new c(e.superTitleLink)),this.view_count=new c((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new c((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=d.parseArray(e.badges,tt),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=d.parseItem(e.videoActions,U)}};n(jf,"VideoPrimaryInfo");jf.type="VideoPrimaryInfo";var Gv=jf;var ux,WT,Uf=class extends a{constructor(e){super(),ux.add(this),this.owner=d.parseItem(e.owner,is),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=new c(u(this,ux,"m",WT).call(this,e.attributedDescription))),this.subscribe_button=d.parseItem(e.subscribeButton,[Ue,k]),this.metadata=d.parseItem(e.metadataRowContainer,ev),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Uf,"VideoSecondaryInfo");ux=new WeakSet,WT=n(function(e){let i=[],o=e.content,s=e.commandRuns,r=0;if(s){for(let l of s){let p=l.length,f=l.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(l,"onTap")){let h=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let x of _)if(x.startIndex-2==f){h=x;break}}h?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:h}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}r=f+p}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return{runs:i}},"_VideoSecondaryInfo_convertAttributedDescriptionToRuns");Uf.type="VideoSecondaryInfo";var Wf=Uf;var Hf=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:We(e.lengthText.simpleText)},this.style=e.style}};n(Hf,"WatchCardCompactVideo");Hf.type="WatchCardCompactVideo";var zv=Hf;var Jf=class extends a{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=d.parseItem(e.callToActionButton),this.hero_image=d.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Jf,"WatchCardHeroVideo");Jf.type="WatchCardHeroVideo";var HT=Jf;var Gf=class extends a{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new B(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Gf,"WatchCardRichHeader");Gf.type="WatchCardRichHeader";var JT=Gf;var zf=class extends a{constructor(e){super(),this.lists=d.parseArray(e.lists)}};n(zf,"WatchCardSectionSequence");zf.type="WatchCardSectionSequence";var GT=zf;var Kf=class extends $i{constructor(e){super(e)}};n(Kf,"WatchNextTabbedResults");Kf.type="WatchNextTabbedResults";var Kv=Kf;var $f=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=d.parseItem(e.content,q),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n($f,"AnchoredSection");$f.type="AnchoredSection";var $v=$f;var qf=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(qf,"KidsCategoryTab");qf.type="KidsCategoryTab";var os=qf;var Xf=class extends a{constructor(e){super(),this.category_tabs=d.parseArray(e.categoryTabs,os),this.privacy_button=d.parseItem(e.privacyButtonRenderer,k)}};n(Xf,"KidsCategoriesHeader");Xf.type="kidsCategoriesHeader";var qv=Xf;var Qf=class extends a{constructor(e){super(),this.anchors=d.parseArray(e.anchors,$v)}};n(Qf,"KidsHomeScreen");Qf.type="kidsHomeScreen";var Xv=Qf;var dx={};j(dx,{YTNodeGenerator:()=>He});var ge,$T,Qv,ns,qT,XT,gi,cx,zT,KT,QT,He=class{static isIgnoredKey(e){return typeof e=="string"&&u(this,ge,"f",$T).has(e)}static mergeKeyInfo(e,i){let o=new Map,s=new Set(e.map(([I])=>I)),r=new Set(i.map(([I])=>I)),l=i.filter(([I])=>!s.has(I)),p=e.filter(([I])=>!r.has(I)),f=e.filter(([I])=>r.has(I)),h=new Map(i);for(let[I,S]of f){let N=h.get(I);if(!!N){if(S.type!==N.type){o.set(I,{type:"unknown",optional:!0});continue}switch(S.type){case"object":{if(N.type!=="object")continue;let{resolved_key_info:P}=this.mergeKeyInfo(S.keys,N.keys),V={type:"object",keys:P,optional:S.optional||N.optional};JSON.stringify(V)!==JSON.stringify(S)&&o.set(I,V)}break;case"renderer":{if(N.type!=="renderer")continue;let P=Object.assign(Object.assign({},S.renderers),N.renderers),V=S.optional||N.optional,H={type:"renderer",renderers:P,optional:V};JSON.stringify(Object.assign(Object.assign({},H),{renderers:Object.keys(H.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},S),{renderers:Object.keys(S.renderers)}))&&o.set(I,H)}break;case"renderer_list":{if(N.type!=="renderer_list")continue;let P=Object.assign(Object.assign({},S.renderers),N.renderers),V=S.optional||N.optional,H={type:"renderer_list",renderers:P,optional:V};JSON.stringify(Object.assign(Object.assign({},H),{renderers:Object.keys(H.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},S),{renderers:Object.keys(S.renderers)}))&&o.set(I,H)}break;case"misc":{if(N.type!=="misc")continue;switch(S.misc_type!==N.misc_type&&o.set(I,{type:"unknown",optional:!0}),S.misc_type){case"Author":{if(N.misc_type!=="Author")break;let P=S.params[1]||N.params[1],V=S.optional||N.optional,H={type:"misc",misc_type:"Author",optional:V,params:[N.params[0],P]};JSON.stringify(H)!==JSON.stringify(S)&&o.set(I,H)}break}}break;case"primative":{if(N.type!=="primative")continue;let P={type:"primative",typeof:Array.from(new Set([...N.typeof,...S.typeof])),optional:S.optional||N.optional};JSON.stringify(P)!==JSON.stringify(S)&&o.set(I,P)}break}}}for(let[I,S]of l)o.set(I,Object.assign(Object.assign({},S),{optional:!0}));for(let[I,S]of p)o.set(I,Object.assign(Object.assign({},S),{optional:!0}));let _=e.filter(([I])=>!o.has(I));return{resolved_key_info:[...new Map([..._,...o]).entries()],changed_keys:[...o.entries()]}}static createRuntimeClass(e,i){var o,s;u(this,ge,"m",qT).call(this,e,i);let r=(o=n(class extends a{static set key_info(l){T(this,o,new Map(l),"f",s)}static get key_info(){return[...u(this,o,"f",s).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=He.introspect(l),{resolved_key_info:h,changed_keys:_}=He.mergeKeyInfo(r.key_info,p);_.length>0&&(r.key_info=h,u(He,ge,"m",XT).call(He,e,r.key_info,_));for(let[w,I]of f)He.generateRuntimeClass(w,I);for(let[w,I]of p){let S=u(He,ge,"m",ns).call(He,w);I.type==="misc"&&I.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,He.parse(w,I,l))}}},"_b"),ob(o,"node"),o.type=e,s={value:new Map},o);return r.key_info=i,Object.defineProperty(r,"name",{value:e,writable:!1}),r}static introspect(e){let i=u(this,ge,"m",QT).call(this,e),o=new Map;for(let[,r]of i)if(r.type==="renderer"||r.type==="renderer_list")for(let l of r.renderers){let p=u(this,ge,"f",Qv)[l];p&&o.set(l,p)}let s=Array.from(o).filter(([r])=>!E.hasParser(r));return{key_info:i,unimplemented_dependencies:s}}static generateRuntimeClass(e,i){let{key_info:o,unimplemented_dependencies:s}=this.introspect(i),r=this.createRuntimeClass(e,o);E.addRuntimeParser(e,r);for(let[l,p]of s)this.generateRuntimeClass(l,p);return r}static generateTypescriptClass(e,i){let o=[],s=["super();"];for(let[r,l]of i){let p=u(this,ge,"m",ns).call(this,r);l.type==="misc"&&l.misc_type==="NavigationEndpoint"&&(p="endpoint"),o.push(`${p}${l.optional?"?":""}: ${this.toTypeDeclaration(l)};`),s.push(`this.${p} = ${this.toParser(r,l)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${o.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}static toTypeDeclaration(e,i=0){switch(e.type){case"renderer":return`${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([o,s])=>`${" ".repeat((i+2)*2)}${u(this,ge,"m",ns).call(this,o)}${s.optional?"?":""}: ${this.toTypeDeclaration(s,i+1)}`).join(`,
`)}
${" ".repeat((i+1)*2)}}`;case"misc":switch(e.misc_type){case"Thumbnail":return"Thumbnail[]";default:return e.misc_type}case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}static toParser(e,i,o=["data"],s=1){let r="undefined";switch(i.type){case"renderer":r=`Parser.parseItem(${o.join(".")}.${e}, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${o.join(".")}.${e}, true, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"object":{let l=[...o,e];r=`{
${i.keys.map(([p,f])=>`${" ".repeat((s+2)*2)}${u(this,ge,"m",ns).call(this,p)}: ${this.toParser(p,f,l,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}break;case"misc":switch(i.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${o.join(".")}.${e})`;break;case"Author":{let l=`new Author(${o.join(".")}.${i.params[0]}, ${i.params[1]?`${o.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${o.join(".")}, '${i.params[0]}') ? ${l} : undefined`:l}default:r=`new ${i.misc_type}(${o.join(".")}.${e})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${o.join(".")}.${e}`;break}return i.optional?`Reflect.has(${o.join(".")}, '${e}') ? ${r} : undefined`:r}static parse(e,i,o,s=["data"]){let r=!i.optional||u(this,ge,"m",cx).call(this,{data:o},[...s,e]);switch(i.type){case"renderer":return r?E.parseItem(u(this,ge,"m",gi).call(this,{data:o},[...s,e]),i.renderers.map(l=>E.getParserByName(l))):void 0;case"renderer_list":return r?E.parse(u(this,ge,"m",gi).call(this,{data:o},[...s,e]),!0,i.renderers.map(l=>E.getParserByName(l))):void 0;case"object":{let l={},p=[...s,e];for(let[f,h]of i.keys)l[f]=r?this.parse(f,h,o,p):void 0;return l}case"misc":switch(i.misc_type){case"NavigationEndpoint":return r?new v(u(this,ge,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Text":return r?new c(u(this,ge,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Thumbnail":return r?y.fromResponse(u(this,ge,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Author":return!i.optional||u(this,ge,"m",cx).call(this,{data:o},[...s,i.params[0]])?new B(u(this,ge,"m",gi).call(this,{data:o},[...s,i.params[0]]),i.params[1]?u(this,ge,"m",gi).call(this,{data:o},[...s,i.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return u(this,ge,"m",gi).call(this,{data:o},[...s,e])}}static inferType(e,i){let o=!1;if(o=this.isRenderer(i))return u(this,ge,"f",Qv)[o]=i[Reflect.ownKeys(i)[0]],{type:"renderer",renderers:[o],optional:!1};if(o=this.isRendererList(i)){for(let[r,l]of Object.entries(o))u(this,ge,"f",Qv)[r]=l;return{type:"renderer_list",renderers:Object.keys(o),optional:!1}}if(o=this.isMiscType(e,i))return o;let s=typeof i;return s==="object"?{type:"object",keys:Object.entries(i).map(([r,l])=>[r,this.inferType(r,l)]),optional:!1}:{type:"primative",typeof:[s],optional:!1}}static isRendererList(e){return Array.isArray(e)&&e.every(s=>this.isRenderer(s))?Object.fromEntries(e.map(s=>{let r=Reflect.ownKeys(s)[0].toString();return[E.sanitizeClassName(r),s[r]]})):!1}static isMiscType(e,i){if((e.endsWith("Endpoint")||e.endsWith("Command")||e==="endpoint")&&typeof i=="object")return{type:"misc",endpoint:new v(i),optional:!1,misc_type:"NavigationEndpoint"};if(typeof i=="object"&&(Reflect.has(i,"simpleText")||Reflect.has(i,"runs"))){let o=new c(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:o.endpoint,text:o.toString()}}return typeof i=="object"&&Reflect.has(i,"thumbnails")&&Array.isArray(i.thumbnails)?{type:"misc",misc_type:"Thumbnail",optional:!1}:!1}static isRenderer(e){if(!(typeof e=="object"))return!1;let o=Reflect.ownKeys(e);return o.length===1&&o[0].toString().includes("Renderer")?E.sanitizeClassName(o[0].toString()):!1}};n(He,"YTNodeGenerator");ge=He,ns=n(function(e){return e.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)},"_YTNodeGenerator_camelToSnake"),qT=n(function(e,i){console.warn(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logNewClass"),XT=n(function(e,i,o){console.warn(`${e} changed!
The following keys where altered: ${o.map(([s])=>u(this,ge,"m",ns).call(this,s)).join(", ")}
The class has changed to:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logChangedKeys"),gi=n(function(e,i){let o=e;for(let s of i)o=o[s];return o},"_YTNodeGenerator_accessDataFromKeyPath"),cx=n(function(e,i){let o=e;for(let s of i)if(Reflect.has(o,s))o=o[s];else return!1;return!0},"_YTNodeGenerator_hasDataFromKeyPath"),zT=n(function(e){return Reflect.ownKeys(e).filter(s=>!this.isIgnoredKey(s)).filter(s=>typeof s=="string").map(s=>{let r=e[s],l=this.inferType(s,r);return[s,l]})},"_YTNodeGenerator_passOne"),KT=n(function(e){var i;let s=e.filter(([,f])=>{var h;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((h=f.endpoint)===null||h===void 0?void 0:h.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,h])=>f.type!=="misc"||h.type!=="misc"||f.misc_type!=="Text"||h.misc_type!=="Text"?0:h.text.length-f.text.length),r=new Set,l=s[0],p;if(l){r.add(l[0]);let h=e.map(([S])=>S).filter(S=>S.endsWith("Badges")||S==="badges"),x=(i=h.filter(S=>S.startsWith("owner")||S.startsWith("author"))[0])!==null&&i!==void 0?i:h[0],w=e.find(([S])=>S===x),I=w?w[1].type==="renderer_list"&&Reflect.has(w[1].renderers,"MetadataBadge"):!1;I&&x&&r.add(x),p={type:"misc",misc_type:"Author",optional:!1,params:[l[0],I?x:void 0]}}return p&&e.push(["author",p]),e.filter(([f])=>!r.has(f))},"_YTNodeGenerator_passTwo"),QT=n(function(e){let i=u(this,ge,"m",zT).call(this,e);return u(this,ge,"m",KT).call(this,i)},"_YTNodeGenerator_introspect");$T={value:new Set(["trackingParams","accessibility","accessibilityData"])};Qv={value:{}};var J,px,qi,Et,Nt,ZT,Pt,e1,Zv,fx,ie=class{static setParserErrorHandler(e){T(this,J,e,"f",px)}static parseResponse(e){var i,o,s,r;let l={};u(this,J,"m",Nt).call(this);let p=this.parse(e.contents),f=u(this,J,"m",Pt).call(this);p&&(l.contents=p,l.contents_memo=f),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let h=e.onResponseReceivedActions?this.parseRR(e.onResponseReceivedActions):null,_=u(this,J,"m",Pt).call(this);h&&(l.on_response_received_actions=h,l.on_response_received_actions_memo=_),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let x=e.onResponseReceivedEndpoints?this.parseRR(e.onResponseReceivedEndpoints):null,w=u(this,J,"m",Pt).call(this);x&&(l.on_response_received_endpoints=x,l.on_response_received_endpoints_memo=w),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let I=e.onResponseReceivedCommands?this.parseRR(e.onResponseReceivedCommands):null,S=u(this,J,"m",Pt).call(this);I&&(l.on_response_received_commands=I,l.on_response_received_commands_memo=S),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let N=e.continuationContents?this.parseLC(e.continuationContents):null,P=u(this,J,"m",Pt).call(this);N&&(l.continuation_contents=N,l.continuation_contents_memo=P),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let V=e.actions?this.parseActions(e.actions):null,H=u(this,J,"m",Pt).call(this);V&&(l.actions=V,l.actions_memo=H),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let Y=e.liveChatItemContextMenuSupportedRenderers?this.parseItem(e.liveChatItemContextMenuSupportedRenderers):null,ue=u(this,J,"m",Pt).call(this);Y&&(l.live_chat_item_context_menu_supported_renderers=Y,l.live_chat_item_context_menu_supported_renderers_memo=ue),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let xe=e.header?this.parse(e.header):null,Be=u(this,J,"m",Pt).call(this);xe&&(l.header=xe,l.header_memo=Be),u(this,J,"m",Et).call(this),u(this,J,"m",Nt).call(this);let Le=e.sidebar?this.parseItem(e.sidebar):null,Qe=u(this,J,"m",Pt).call(this);Le&&(l.sidebar=Le,l.sidebar_memo=Qe),u(this,J,"m",Et).call(this),this.applyMutations(f,(o=(i=e.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations),this.applyMutations(P,(r=(s=e.frameworkUpdates)===null||s===void 0?void 0:s.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let X=e.continuation?this.parseC(e.continuation):null;X&&(l.continuation=X);let K=this.parse(e.metadata);K&&(l.metadata=K);let te=this.parseItem(e.microformat);te&&(l.microformat=te);let ee=this.parseItem(e.overlay);ee&&(l.overlay=ee);let Ze=this.parseArray(e.alerts,Zh);Ze.length&&(l.alerts=Ze);let Dt=e.refinements;Dt&&(l.refinements=Dt);let Ft=e.estimatedResults?parseInt(e.estimatedResults):null;Ft&&(l.estimated_results=Ft);let Yt=this.parse(e.playerOverlays);Yt&&(l.player_overlays=Yt);let jt=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;jt&&(l.playback_tracking=jt);let Ut=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed||!1,audio_only_playablility:this.parseItem(e.playabilityStatus.audioOnlyPlayability,Oh),error_screen:this.parseItem(e.playabilityStatus.errorScreen)}:null;Ut&&(l.playability_status=Ut);let Wt=e.streamingData?{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:ie.parseFormats(e.streamingData.formats),adaptive_formats:ie.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null}:void 0;Wt&&(l.streaming_data=Wt);let Ht=e.currentVideoEndpoint?new v(e.currentVideoEndpoint):null;Ht&&(l.current_video_endpoint=Ht);let Jt=e.endpoint?new v(e.endpoint):null;Jt&&(l.endpoint=Jt);let Gt=this.parseItem(e.captions,Gh);Gt&&(l.captions=Gt);let zt=e.videoDetails?new Fi(e.videoDetails):null;zt&&(l.video_details=zt);let Kt=this.parseArray(e.annotations,Jh);Kt.length&&(l.annotations=Kt);let $t=this.parseItem(e.storyboards,[Kh,zh]);$t&&(l.storyboards=$t);let mt=this.parseItem(e.endscreen,Hh);mt&&(l.endscreen=mt);let In=this.parseItem(e.cards,Wh);In&&(l.cards=In),u(this,J,"m",Nt).call(this);let ce=this.parse(e.items);return ce&&(l.items=ce,l.items_memo=u(this,J,"m",Pt).call(this)),u(this,J,"m",Et).call(this),l}static parseItem(e,i){if(!e)return null;let o=Object.keys(e);if(!o.length)return null;let s=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(s))try{let l=this.hasParser(s)?this.getParserByName(s):He.generateRuntimeClass(s,e[o[0]]);if(i){if(Array.isArray(i)){if(!i.some(f=>f.type===l.type))throw new at(`Type mismatch, got ${s} but expected one of ${i.map(f=>f.type).join(", ")}`)}else if(l.type!==i.type)throw new at(`Type mismatch, got ${s} but expected ${i.type}`)}let p=new l(e[o[0]]);return u(this,J,"m",ZT).call(this,s,p),p}catch(r){return u(this,J,"f",px).call(this,{classname:s,classdata:e[o[0]],err:r}),null}return null}static parseArray(e,i){if(Array.isArray(e)){let o=[];for(let s of e){let r=this.parseItem(s,i);r&&o.push(r)}return le(o)}else if(!e)return le([]);throw new at("Expected array but got a single item")}static parse(e,i,o){if(!e)return null;if(Array.isArray(e)){let s=[];for(let l of e){let p=this.parseItem(l,o);p&&s.push(p)}let r=le(s);return i?r:new Xt(le(s))}else if(i)throw new at("Expected array but got a single item");return new Xt(this.parseItem(e,o))}static parseC(e){return e.timedContinuationData?new ss({continuation:e.timedContinuationData,type:"timed"}):null}static parseLC(e){return e.itemSectionContinuation?new Po(e.itemSectionContinuation):e.sectionListContinuation?new ut(e.sectionListContinuation):e.liveChatContinuation?new Oo(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new Mo(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new xi(e.musicShelfContinuation):e.gridContinuation?new Vo(e.gridContinuation):e.playlistPanelContinuation?new th(e.playlistPanelContinuation):null}static parseRR(e){return le(e.map(i=>{if(i.navigateAction)return new Ao(i.navigateAction);if(i.reloadContinuationItemsCommand)return new Ro(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new eh(i.appendContinuationItemsAction)}).filter(i=>i))}static parseActions(e){return Array.isArray(e)?ie.parse(e.map(i=>(delete i.clickTrackingParams,i))):new Xt(this.parseItem(e))}static parseFormats(e){return(e==null?void 0:e.map(i=>new Di(i)))||[]}static applyMutations(e,i){var o,s;let r=e.getType(It);if(r.length>0&&!i)console.warn(new g(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${O.shim.info.bugs_url}`));else{let l=[];for(let p of r){let f=i.find(_=>{var x,w;return((w=(x=_.payload)===null||x===void 0?void 0:x.musicFormBooleanChoice)===null||w===void 0?void 0:w.id)===p.form_item_entity_key}),h=f==null?void 0:f.payload.musicFormBooleanChoice;if((h==null?void 0:h.selected)!==void 0?p.selected=h.selected:l.push(`'${p.title}'`),h!=null&&h.opaqueToken){let _=(s=(o=p.endpoint)===null||o===void 0?void 0:o.payload.commands)===null||s===void 0?void 0:s.find(x=>{var w;return(w=x.musicBrowseFormBinderCommand)===null||w===void 0?void 0:w.browseEndpoint});_&&(_.musicBrowseFormBinderCommand.browseEndpoint.formData={selectedValues:[h.opaqueToken]})}}l.length>0&&console.warn(new g(`Mutation data missing or invalid for ${l.length} out of ${r.length} MusicMultiSelectMenuItems. The titles of the failed items are: ${l.join(", ")}.
This is a bug, please report it at ${O.shim.info.bugs_url}`))}}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return this.ignore_list.has(e)}static getParserByName(e){let i=u(this,J,"f",Zv).get(e);if(!i){let o=new Error(`Module not found: ${e}`);throw o.code="MODULE_NOT_FOUND",o}return i}static hasParser(e){return u(this,J,"f",Zv).has(e)}static addRuntimeParser(e,i){u(this,J,"f",Zv).set(e,i),u(this,J,"f",fx).set(e,i)}static getDynamicParsers(){return Object.fromEntries(u(this,J,"f",fx))}};n(ie,"Parser");J=ie,Et=n(function(){T(ie,J,null,"f",qi)},"_Parser_clearMemo"),Nt=n(function(){T(ie,J,new Ri,"f",qi)},"_Parser_createMemo"),ZT=n(function(e,i){if(!u(ie,J,"f",qi))return;let o=u(ie,J,"f",qi).get(e);if(!o)return u(ie,J,"f",qi).set(e,[i]);o.push(i)},"_Parser_addToMemo"),Pt=n(function(){if(!u(ie,J,"f",qi))throw new Error("Parser#getMemo() called before Parser#createMemo()");return u(ie,J,"f",qi)},"_Parser_getMemo"),e1=n(function({classname:e,classdata:i,err:o}){if(o.code=="MODULE_NOT_FOUND")return console.warn(new g(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url.split("#")[0]}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!`,i));console.warn(new g(`Something went wrong at ${e}!
This is a bug, please report it at ${O.shim.info.bugs_url}`,{stack:o.stack}))},"_Parser_printError");px={value:u(ie,J,"m",e1)};qi={value:null};ie.ignore_list=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo"]);Zv={value:new Map(Object.entries(Zf))};fx={value:new Map};var E=ie,Po=class extends a{constructor(e){var i,o,s;super(),this.contents=ie.parseArray(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(Po,"ItemSectionContinuation");Po.type="itemSectionContinuation";var Ao=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(Ao,"NavigateAction");Ao.type="navigateAction";var eh=class extends a{constructor(e){super(),this.contents=ie.parseArray(e.continuationItems)}};n(eh,"AppendContinuationItemsAction");eh.type="appendContinuationItemsAction";var Ro=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=ie.parse(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(Ro,"ReloadContinuationItemsCommand");Ro.type="reloadContinuationItemsCommand";var ut=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=ie.parse(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null,e.header&&(this.header=ie.parse(e.header))}};n(ut,"SectionListContinuation");ut.type="sectionListContinuation";var Mo=class extends a{constructor(e){var i;super(),this.contents=ie.parse(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Mo,"MusicPlaylistShelfContinuation");Mo.type="musicPlaylistShelfContinuation";var xi=class extends a{constructor(e){var i,o,s,r;super(),this.contents=ie.parseArray(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(xi,"MusicShelfContinuation");xi.type="musicShelfContinuation";var Vo=class extends a{constructor(e){var i;super(),this.items=ie.parse(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Vo,"GridContinuation");Vo.type="gridContinuation";var th=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=ie.parseArray(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(th,"PlaylistPanelContinuation");th.type="playlistPanelContinuation";var ss=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(ss,"Continuation");ss.type="continuation";var Oo=class extends a{constructor(e){var i,o,s,r,l,p,f,h;super(),this.actions=ie.parse((i=e.actions)===null||i===void 0?void 0:i.map(w=>(delete w.clickTrackingParams,w)),!0)||le([]),this.action_panel=ie.parseItem(e.actionPanel),this.item_list=ie.parseItem(e.itemList,Qh),this.header=ie.parseItem(e.header,Xh),this.participants_list=ie.parseItem(e.participantsList,qh),this.popout_message=ie.parseItem(e.popoutMessage,je),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let _,x;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(x="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(x="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(x="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new ss({continuation:_,type:x}),this.viewer_name=e.viewerName}};n(Oo,"LiveChatContinuation");Oo.type="liveChatContinuation";var xx={};j(xx,{AccountInfo:()=>t0,Analytics:()=>o0,Channel:()=>Ve,ChannelListContinuation:()=>Fo,Comments:()=>s0,FilteredChannelList:()=>eo,Guide:()=>a0,HashtagFeed:()=>ni,History:()=>fs,HomeFeed:()=>At,ItemMenu:()=>d0,Library:()=>h0,LiveChat:()=>y0,NotificationsMenu:()=>w0,Playlist:()=>bi,Search:()=>T0,Settings:()=>I0,SmoothedQueue:()=>v0,TimeWatched:()=>k0,VideoInfo:()=>fh});var rs,e0=class{constructor(e){if(rs.set(this,void 0),T(this,rs,d.parseResponse(e.data),"f"),!u(this,rs,"f").contents)throw new g("Page contents not found");let i=u(this,rs,"f").contents.array().as(nm).first();if(!i)throw new g("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return u(this,rs,"f")}};n(e0,"AccountInfo");rs=new WeakMap;var t0=e0;var ih,i0=class{constructor(e){var i;ih.set(this,void 0),T(this,ih,d.parseResponse(e.data),"f"),this.sections=(i=u(this,ih,"f").contents_memo)===null||i===void 0?void 0:i.getType(Wn).map(o=>o.model).flatMap(o=>o||[])}get page(){return u(this,ih,"f")}};n(i0,"Analytics");ih=new WeakMap;var o0=i0;var hx,it,Xi,oh,ot,t1,Qi=class{constructor(e,i,o=!1){hx.add(this),it.set(this,void 0),Xi.set(this,void 0),oh.set(this,void 0),ot.set(this,void 0),u(this,hx,"m",t1).call(this,i)||o?T(this,it,i,"f"):T(this,it,d.parseResponse(i.data),"f");let s=mx(u(this,it,"f").contents_memo,u(this,it,"f").continuation_contents_memo,u(this,it,"f").on_response_received_commands_memo,u(this,it,"f").on_response_received_endpoints_memo,u(this,it,"f").on_response_received_actions_memo,u(this,it,"f").sidebar_memo,u(this,it,"f").header_memo);if(!s)throw new g("No memo found in feed");T(this,ot,s,"f"),T(this,oh,e,"f")}static getVideosFromMemo(e){return e.getType(jn,E_,Nv,Rn,Iv,vi,zv)}static getPlaylistsFromMemo(e){return e.getType(Qt,S_)}get videos(){return Qi.getVideosFromMemo(u(this,ot,"f"))}get posts(){return u(this,ot,"f").getType(ji,kv,Dv)}get channels(){return u(this,ot,"f").getType(gm,I_)}get playlists(){return Qi.getPlaylistsFromMemo(u(this,ot,"f"))}get memo(){return u(this,ot,"f")}get page_contents(){var e;let i=(e=u(this,ot,"f").getType(ve))===null||e===void 0?void 0:e.first().content,o=u(this,ot,"f").getType(Ro).first(),s=u(this,ot,"f").getType(sm).first();return i||o||s}get shelves(){return u(this,ot,"f").getType(es,Av,Un)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=u(this,it,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=u(this,it,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is($i,Wv))return o.secondary_contents}get actions(){return u(this,oh,"f")}get page(){return u(this,it,"f")}get has_continuation(){return(u(this,ot,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return b(this,void 0,void 0,function*(){if(u(this,Xi,"f")){if(u(this,Xi,"f").length>1)throw new g("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,Xi,"f").length===0)throw new g("There are no continuations");return yield u(this,Xi,"f")[0].endpoint.call(u(this,oh,"f"),{parse:!0})}if(T(this,Xi,u(this,ot,"f").getType(Me),"f"),u(this,Xi,"f"))return this.getContinuationData()})}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Qi(this.actions,e,!0)})}};n(Qi,"Feed");it=new WeakMap,Xi=new WeakMap,oh=new WeakMap,ot=new WeakMap,hx=new WeakSet,t1=n(function(e){return!("data"in e)},"_Feed_isParsed");var fe=Qi;var Bo,Lo,Do=class extends fe{constructor(e,i,o=!1){var s;super(e,i,o),Bo.set(this,void 0),Lo.set(this,void 0),T(this,Lo,e,"f"),T(this,Bo,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(ve),"f")}get tabs(){var e,i;return(i=(e=u(this,Bo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return b(this,void 0,void 0,function*(){let o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(u(this,Lo,"f"));return new Do(u(this,Lo,"f"),s,!1)})}getTabByURL(e){var i;return b(this,void 0,void 0,function*(){let o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.find(r=>{var l;return((l=r.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(u(this,Lo,"f"));return new Do(u(this,Lo,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(ve))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(Do,"TabbedFeed");Bo=new WeakMap,Lo=new WeakMap;var as=Do;var ls,n0=class extends fe{constructor(e,i,o=!1){super(e,i,o),ls.set(this,void 0)}get filter_chips(){var e,i;if(u(this,ls,"f"))return u(this,ls,"f")||[];if(((e=this.memo.getType(mi))===null||e===void 0?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(mi))===null||i===void 0?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return T(this,ls,this.memo.getType(me),"f"),u(this,ls,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new g("Invalid filter");if(!o)throw new g("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new g("Failed to get filtered feed");return new fe(this.actions,s,!0)})}};n(n0,"FilterableFeed");ls=new WeakMap;var Zi=n0;var Ve=class extends as{constructor(e,i,o=!1){var s,r,l,p,f,h;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(An,mm,O_);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(bm),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Zt);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new us(w.text.toString())}if(!_&&!this.page.contents)throw new g("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),x||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Ue).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().key("tabs").parsed().array().filterType(ve,Hn).get({selected:!0})}applyFilter(e){var i;return b(this,void 0,void 0,function*(){let o,s=this.memo.getType(mi).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof me&&(o=e);if(!o)throw new g("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new g("No page returned",{filter:o});return new eo(this.actions,r,!0)})}applySort(e){var i,o;return b(this,void 0,void 0,function*(){let s=this.memo.getType(fi).first();if(!s)throw new g("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let l=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ve(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){let l=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(q).sub_menu)===null||s===void 0?void 0:s.as(Wa);if(!l)throw new g("Sub menu not found");let p=l.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Ve(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(mi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(me).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(fi).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(q).sub_menu)===null||o===void 0?void 0:o.as(Wa);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ve(this.actions,e.page,!0)})}getVideos(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ve(this.actions,e.page,!0)})}getShorts(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ve(this.actions,e.page,!0)})}getLiveStreams(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ve(this.actions,e.page,!0)})}getPlaylists(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ve(this.actions,e.page,!0)})}getCommunity(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ve(this.actions,e.page,!0)})}getChannels(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new Ve(this.actions,e.page,!0)})}getAbout(){var e;return b(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(xm))===null||e===void 0?void 0:e[0]})}search(e){var i,o;return b(this,void 0,void 0,function*(){let s=(i=this.memo.getType(Hn))===null||i===void 0?void 0:i[0];if(!s)throw new g("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ve(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(Hn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Fo(this.actions,i,!0)})}};n(Ve,"Channel");var Fo=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Fo(this.actions,i,!0)})}};n(Fo,"ChannelListContinuation");var eo=class extends Zi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(me).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new eo(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new g("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(mi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(me)),new eo(this.actions,i,!0)})}};n(eo,"FilteredChannelList");var cs,oi,ds,Yo=class{constructor(e,i,o=!1){var s,r,l;cs.set(this,void 0),oi.set(this,void 0),ds.set(this,void 0),T(this,cs,o?i:d.parseResponse(i),"f"),T(this,oi,e,"f");let p=u(this,cs,"f").on_response_received_endpoints;if(!p)throw new g("Comments page did not have any content.");let f=p.at(0),h=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(Ln);let _=((r=h==null?void 0:h.contents)===null||r===void 0?void 0:r.filterType(Um))||[];this.contents=le(_.map(x=>{var w;return(w=x.comment)===null||w===void 0||w.setActions(u(this,oi,"f")),x.setActions(u(this,oi,"f")),x})),T(this,ds,(l=h==null?void 0:h.contents)===null||l===void 0?void 0:l.firstOfType(Me),"f")}applySort(e){var i,o,s,r;return b(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!l)throw new g("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(u(this,oi,"f"),{parse:!0});return new Yo(u(this,oi,"f"),p,!0)})}createComment(e){var i;return b(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(jm).submit_button;if(!o)throw new g("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new g("Button does not have an endpoint.");return yield o.endpoint.call(u(this,oi,"f"),{commentText:e})})}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,ds,"f"))throw new g("Continuation not found");let e=yield u(this,ds,"f").endpoint.call(u(this,oi,"f"),{parse:!0}),i=Object.assign({},u(this,cs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Yo(u(this,oi,"f"),i,!0)})}get has_continuation(){return!!u(this,ds,"f")}get page(){return u(this,cs,"f")}};n(Yo,"Comments");cs=new WeakMap,oi=new WeakMap,ds=new WeakMap;var s0=Yo;var nh,r0=class{constructor(e){nh.set(this,void 0),T(this,nh,E.parseResponse(e),"f"),this.contents=u(this,nh,"f").items.array().as(Jn,N_)}get page(){return u(this,nh,"f")}};n(r0,"Guide");nh=new WeakMap;var a0=r0;var ps=class extends fe{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(_e),this.feed_actions=this.memo.getType(pm).first()}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new ps(this.actions,e,!0)})}};n(ps,"History");var fs=ps;var At=class extends Zi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(y_).first(),this.contents=this.memo.getType(Ki).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new At(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return b(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new At(this.actions,o.page,!0)})}};n(At,"HomeFeed");var ni=class extends Zi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let o=this.page.contents_memo.getType(ve).first();if(!o.content)throw new g("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(P_)),this.contents=o.content.as(Ki)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ni(this.actions,o.page)})}};n(ni,"HashtagFeed");var l0,u0,sh,c0=class{constructor(e,i){l0.set(this,void 0),u0.set(this,void 0),sh.set(this,void 0),T(this,l0,e,"f"),T(this,u0,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(U))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,sh,o.as(U).items,"f")}selectItem(e){return b(this,void 0,void 0,function*(){let i;if(e instanceof k){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,sh,"f").find(r=>r.is(Gn)?r.as(Gn).icon_type===e:!1);if(!s||!s.is(Gn))throw new g(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return yield i.call(u(this,u0,"f"),{parse:!0})})}items(){return u(this,sh,"f")}page(){return u(this,l0,"f")}};n(c0,"ItemMenu");l0=new WeakMap,u0=new WeakMap,sh=new WeakMap;var d0=c0;var rh,p0,hs=class extends fe{constructor(e,i,o=!1){var s,r,l,p;super(e,i,o),rh.add(this);let f=this.memo.getType(bv).first(),h=this.memo.getType(wv).first(),_=this.memo.getType(Tv).first();if(!h&&!_)throw new g("This playlist does not exist");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(yv)),{author:(l=(r=_==null?void 0:_.owner)===null||r===void 0?void 0:r.as(is).author)!==null&&l!==void 0?l:f==null?void 0:f.author,thumbnails:(p=h==null?void 0:h.thumbnail_renderer)===null||p===void 0?void 0:p.as(Sv,xv).thumbnail,total_items:u(this,rh,"m",p0).call(this,0,h),views:u(this,rh,"m",p0).call(this,1,h),last_updated:u(this,rh,"m",p0).call(this,2,h),can_share:f==null?void 0:f.can_share,can_delete:f==null?void 0:f.can_delete,is_editable:f==null?void 0:f.is_editable,privacy:f==null?void 0:f.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(je)}get items(){return this.videos}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new hs(this.actions,e,!0)})}};n(hs,"Playlist");rh=new WeakSet,p0=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var bi=hs;var _x,i1,f0=class extends fe{constructor(e,i){if(super(e,i),_x.add(this),!this.page.contents_memo)throw new g("Page contents not found");let o=this.page.contents_memo.getType(Cv).first(),s=this.page.contents_memo.getType(Ev).first();this.profile={stats:o,user_info:s};let r=this.page.contents_memo.getType(es);this.sections=r.map(l=>{var p;return{type:l.icon_type,title:l.title,contents:((p=l.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>u(this,_x,"m",i1).call(this,l)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(f0,"Library");_x=new WeakSet,i1=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(U).hasKey("top_level_buttons")))throw new g(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(U).top_level_buttons.firstOfType(k);if(!o)throw new g("Did not find target button.");let s=yield o.as(k).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new bi(this.actions,s,!0);case"WATCH_HISTORY":return new fs(this.actions,s,!0);case"CONTENT_CUT":return new fe(this.actions,s,!0);default:throw new g("Target shelf not implemented.")}})},"_Library_getAll");var h0=f0;var yi,to,jo,vt,Rt,nt;function YI(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(YI,"flattenQueue");var m0=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(m0,"DelayQueue");var _0=class{constructor(){yi.set(this,void 0),to.set(this,void 0),jo.set(this,void 0),vt.set(this,void 0),Rt.set(this,void 0),nt.set(this,void 0),T(this,yi,null,"f"),T(this,to,null,"f"),T(this,jo,null,"f"),T(this,vt,[],"f"),T(this,Rt,null,"f"),T(this,nt,new m0,"f")}enqueueActionGroup(e){if(u(this,yi,"f")!==null){let i=Date.now()-u(this,yi,"f");u(this,nt,"f").back.push(i),5<u(this,nt,"f").front.length+u(this,nt,"f").back.length&&(u(this,nt,"f").front.length||(u(this,nt,"f").front=u(this,nt,"f").back,u(this,nt,"f").front.reverse(),u(this,nt,"f").back=[]),u(this,nt,"f").front.pop()),T(this,to,Math.max(...u(this,nt,"f").getValues()),"f")}T(this,yi,Date.now(),"f"),u(this,vt,"f").push(e),u(this,Rt,"f")===null&&T(this,Rt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,Rt,null,"f"),u(this,vt,"f").length){let e=1e4;u(this,to,"f")!==null&&u(this,yi,"f")!==null&&(e=u(this,to,"f")-Date.now()+u(this,yi,"f")),e=u(this,vt,"f").length<e/80?1:Math.ceil(u(this,vt,"f").length/(e/80));let i=YI(u(this,vt,"f").splice(0,e));u(this,jo,"f")&&u(this,jo,"f").call(this,i),u(this,vt,"f")!==null&&(e==1?(e=u(this,to,"f")/u(this,vt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,Rt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,Rt,"f")!==null&&(clearTimeout(u(this,Rt,"f")),T(this,Rt,null,"f")),T(this,vt,[],"f")}set callback(e){T(this,jo,e,"f")}get callback(){return u(this,jo,"f")}get action_queue(){return u(this,vt,"f")}get estimated_update_interval(){return u(this,to,"f")}get last_update_time(){return u(this,yi,"f")}get next_update_id(){return u(this,Rt,"f")}get poll_response_delay_queue(){return u(this,nt,"f")}};n(_0,"SmoothedQueue");yi=new WeakMap,to=new WeakMap,jo=new WeakMap,vt=new WeakMap,Rt=new WeakMap,nt=new WeakMap;var v0=_0;var De,wi,uh,g0,Wo,ah,lh,vx,x0,o1,Uo,b0=class extends Tr{constructor(e){var i,o;super(),De.add(this),wi.set(this,void 0),uh.set(this,void 0),g0.set(this,void 0),Wo.set(this,void 0),ah.set(this,void 0),lh.set(this,0),this.running=!1,this.is_replay=!1,T(this,uh,e.basic_info.id,"f"),T(this,g0,e.basic_info.channel_id,"f"),T(this,wi,e.actions,"f"),T(this,Wo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new v0,this.smoothed_queue.callback=s=>b(this,void 0,void 0,function*(){s.length?s.length<10?yield u(this,De,"m",x0).call(this,s):this.is_replay?(u(this,De,"m",x0).call(this,s),yield u(this,De,"m",Uo).call(this,2e3)):u(this,De,"m",x0).call(this,s):yield u(this,De,"m",Uo).call(this,2e3),this.running&&u(this,De,"m",vx).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,De,"m",vx).call(this),u(this,De,"m",o1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return b(this,void 0,void 0,function*(){let i=yield u(this,wi,"f").execute("/live_chat/send_message",{params:be.encodeMessageParams(u(this,g0,"f"),u(this,uh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:O.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new g("Unexpected response from send_message",i);return i.actions.array().as(U_)})}applyFilter(e){var i,o,s,r,l,p,f;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let h=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=h==null?void 0:h.at(0))===null||r===void 0)&&r.selected)return;T(this,Wo,(l=h==null?void 0:h.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;T(this,Wo,(f=h==null?void 0:h.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return b(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new g("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(u(this,wi,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new d0(i,u(this,wi,"f"))})}selectButton(e){return b(this,void 0,void 0,function*(){return yield e.endpoint.call(u(this,wi,"f"),{parse:!0})})}};n(b0,"LiveChat");wi=new WeakMap,uh=new WeakMap,g0=new WeakMap,Wo=new WeakMap,ah=new WeakMap,lh=new WeakMap,De=new WeakSet,vx=n(function t(){b(this,void 0,void 0,function*(){var e,i;try{let o=yield u(this,wi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Wo,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new g("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof Oo)){this.stop(),this.emit("end");return}T(this,Wo,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&u(this,De,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,lh,0,"f")}catch(o){this.emit("error",o),T(this,lh,(i=u(this,lh,"f"),e=i++,i),"f"),e<10?(yield u(this,De,"m",Uo).call(this,2e3),u(this,De,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),x0=n(function(e){return b(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield u(this,De,"m",Uo).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),o1=n(function t(){b(this,void 0,void 0,function*(){var e,i,o,s,r,l,p,f,h,_,x;try{let w={videoId:u(this,uh,"f")};u(this,ah,"f")&&(w.continuation=u(this,ah,"f"));let I=yield u(this,wi,"f").execute("/updated_metadata",w),S=d.parseResponse(I.data);T(this,ah,(e=S.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=S.actions)===null||i===void 0?void 0:i.array().firstOfType(z_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=S.actions)===null||s===void 0?void 0:s.array().firstOfType(G_))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((l=S.actions)===null||l===void 0?void 0:l.array().firstOfType($_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=S.actions)===null||f===void 0?void 0:f.array().firstOfType(K_))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=S.actions)===null||_===void 0?void 0:_.array().firstOfType(J_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield u(this,De,"m",Uo).call(this,5e3),this.running&&u(this,De,"m",t).call(this)}catch(w){yield u(this,De,"m",Uo).call(this,2e3),this.running&&u(this,De,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Uo=n(function(e){return b(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var y0=b0;var Ho,ch,ms=class{constructor(e,i){Ho.set(this,void 0),ch.set(this,void 0),T(this,ch,e,"f"),T(this,Ho,d.parseResponse(i.data),"f"),this.header=u(this,Ho,"f").actions_memo.getType(Q_).first(),this.contents=u(this,Ho,"f").actions_memo.getType(fv)}getContinuation(){return b(this,void 0,void 0,function*(){let e=u(this,Ho,"f").actions_memo.getType(Me).first();if(!e)throw new g("Continuation not found");let i=yield e.endpoint.call(u(this,ch,"f"),{parse:!1});return new ms(u(this,ch,"f"),i)})}get page(){return u(this,Ho,"f")}};n(ms,"NotificationsMenu");Ho=new WeakMap,ch=new WeakMap;var w0=ms;var Jo=class extends fe{constructor(e,i,o=!1){var s,r,l,p,f,h;super(e,i,o);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(q).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new g("No contents found in search response");this.results=(l=_.find(x=>x.is(_e)&&x.contents&&x.contents.length>0))===null||l===void 0?void 0:l.as(_e).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Vv).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(Jv).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(Ui)}selectRefinementCard(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(bo),!s)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new g("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new Jo(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(bo).map(i=>i.query))||[]}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Jo(this.actions,e,!0)})}};n(Jo,"Search");var T0=Jo;var Go,dh,_s=class{constructor(e,i){var o,s,r,l;if(Go.set(this,void 0),dh.set(this,void 0),T(this,dh,e,"f"),T(this,Go,d.parseResponse(i.data),"f"),this.sidebar=(o=u(this,Go,"f").sidebar)===null||o===void 0?void 0:o.as(Lv),!u(this,Go,"f").contents)throw new g("Page contents not found");let p=u(this,Go,"f").contents.item().as($i).tabs.array().as(ve).get({selected:!0});if(!p)throw new g("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(q).contents.as(_e);this.introduction=(l=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(mv),this.sections=f==null?void 0:f.map(h=>{var _;return{title:((_=h.header)===null||_===void 0?void 0:_.title.toString())||null,contents:h.contents}})}selectSidebarItem(e){return b(this,void 0,void 0,function*(){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Dn))i=e;else throw new g("Invalid item",{target_item:e});let o=yield i.endpoint.call(u(this,dh,"f"),{parse:!1});return new _s(u(this,dh,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(Zn).options;if(r){for(let l of r)if(l.is(Qn)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Zn).options&&(e=e.concat(o.as(Zn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Go,"f")}};n(_s,"Settings");Go=new WeakMap,dh=new WeakMap;var I0=_s;var vs,S0=class{constructor(e){var i;if(vs.set(this,void 0),T(this,vs,d.parseResponse(e.data),"f"),!u(this,vs,"f").contents)throw new g("Page contents not found");let o=u(this,vs,"f").contents.item().as(ii).tabs.get({selected:!0});if(!o)throw new g("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(q).contents.as(_e)}get page(){return u(this,vs,"f")}};n(S0,"TimeWatched");vs=new WeakMap;var k0=S0;var gx={};j(gx,{Feed:()=>fe,FilterableFeed:()=>Zi,MediaInfo:()=>io,TabbedFeed:()=>as});var C0,Ti,gs,ph,E0=class{constructor(e,i,o){var s,r;C0.set(this,void 0),Ti.set(this,void 0),gs.set(this,void 0),ph.set(this,void 0),T(this,Ti,i,"f");let l=d.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?d.parseResponse(e[1].data):void 0;if(T(this,C0,[l,p],"f"),T(this,gs,o,"f"),((r=l.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new g("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,T(this,ph,l.playback_tracking,"f")}toDash(e,i){return b(this,void 0,void 0,function*(){return Sr.toDash(this.streaming_data,e,i,u(this,gs,"f"),u(this,Ti,"f").session.player,u(this,Ti,"f"))})}chooseFormat(e){return Sr.chooseFormat(e,this.streaming_data)}download(e={}){return b(this,void 0,void 0,function*(){return Sr.download(e,u(this,Ti,"f"),this.playability_status,this.streaming_data,u(this,Ti,"f").session.player,this.cpn)})}addToWatchHistory(e=se.WEB.NAME,i=se.WEB.VERSION,o="https://www."){return b(this,void 0,void 0,function*(){if(!u(this,ph,"f"))throw new g("Playback tracking not available");let s={cpn:u(this,gs,"f"),fmt:251,rtn:0,rt:0},r=u(this,ph,"f").videostats_playback_url.replace("https://s.",o);return yield u(this,Ti,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return u(this,Ti,"f")}get cpn(){return u(this,gs,"f")}get page(){return u(this,C0,"f")}};n(E0,"MediaInfo");C0=new WeakMap,Ti=new WeakMap,gs=new WeakMap,ph=new WeakMap;var io=E0;var oo,xs=class extends io{constructor(e,i,o){var s,r,l,p,f,h,_,x,w,I,S,N,P,V,H,Y,ue,xe,Be,Le,Qe,X,K,te,ee,Ze,Dt,Ft,Yt,jt,Ut,Wt,Ht,Jt,Gt,zt,Kt,$t,mt,In;super(e,i,o),oo.set(this,void 0);let[ce,ci]=this.page;if(ce.microformat&&!(!((s=ce.microformat)===null||s===void 0)&&s.is(Ct,Zt)))throw new g("Invalid microformat",ce.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},ce.video_details),{embed:!((r=ce.microformat)===null||r===void 0)&&r.is(Ct)?(l=ce.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ce.microformat)===null||p===void 0)&&p.is(Ct)?(f=ce.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(h=ce.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(_=ce.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((x=ce.microformat)===null||x===void 0)&&x.is(Ct)?(w=ce.microformat)===null||w===void 0?void 0:w.category:null,has_ypc_metadata:!((I=ce.microformat)===null||I===void 0)&&I.is(Ct)?(S=ce.microformat)===null||S===void 0?void 0:S.has_ypc_metadata:null,start_timestamp:!((N=ce.microformat)===null||N===void 0)&&N.is(Ct)?ce.microformat.start_timestamp:null,view_count:((P=ce.microformat)===null||P===void 0?void 0:P.is(Ct))&&isNaN((V=ce.video_details)===null||V===void 0?void 0:V.view_count)?ce.microformat.view_count:(H=ce.video_details)===null||H===void 0?void 0:H.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ce.annotations,this.storyboards=ce.storyboards,this.endscreen=ce.endscreen,this.captions=ce.captions,this.cards=ce.cards;let et=(Y=ci==null?void 0:ci.contents)===null||Y===void 0?void 0:Y.item().as(ts),Sn=et==null?void 0:et.results,Mh=et==null?void 0:et.secondary_results;if(Sn&&Mh){if(((ue=ce.microformat)===null||ue===void 0?void 0:ue.is(Ct))&&((xe=ce.microformat)===null||xe===void 0?void 0:xe.category)==="Gaming"){let di=(Qe=(Le=(Be=Sn.firstOfType(Wf))===null||Be===void 0?void 0:Be.metadata)===null||Le===void 0?void 0:Le.rows)===null||Qe===void 0?void 0:Qe.firstOfType(Bp);di!=null&&di.is(Bp)&&(this.game_info={title:(K=(X=di==null?void 0:di.contents)===null||X===void 0?void 0:X.firstOfType(Vp))===null||K===void 0?void 0:K.title,release_year:(ee=(te=di==null?void 0:di.contents)===null||te===void 0?void 0:te.firstOfType(Vp))===null||ee===void 0?void 0:ee.subtitle})}this.primary_info=Sn.firstOfType(Gv),this.secondary_info=Sn.firstOfType(Wf),this.merchandise=Sn.firstOfType(Z_),this.related_chip_cloud=(Ze=Mh.firstOfType(Pv))===null||Ze===void 0?void 0:Ze.content.as(St),et!=null&&et.playlist&&(this.playlist=et.playlist),this.watch_next_feed=((Dt=Mh.firstOfType(_e))===null||Dt===void 0?void 0:Dt.contents)||Mh,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Ft=this.watch_next_feed[this.watch_next_feed.length-1])===null||Ft===void 0?void 0:Ft.is(Me))&&T(this,oo,(Yt=this.watch_next_feed.pop())===null||Yt===void 0?void 0:Yt.as(Me),"f"),this.player_overlays=(jt=ci==null?void 0:ci.player_overlays)===null||jt===void 0?void 0:jt.item().as(zi),et!=null&&et.autoplay&&(this.autoplay=et.autoplay);let Ge=(Wt=(Ut=this.primary_info)===null||Ut===void 0?void 0:Ut.menu)===null||Wt===void 0?void 0:Wt.top_level_buttons.firstOfType(No);((Ht=Ge==null?void 0:Ge.like_button)===null||Ht===void 0?void 0:Ht.is(Re))&&((Jt=Ge==null?void 0:Ge.dislike_button)===null||Jt===void 0?void 0:Jt.is(Re))&&(this.basic_info.like_count=(Gt=Ge==null?void 0:Ge.like_button)===null||Gt===void 0?void 0:Gt.like_count,this.basic_info.is_liked=(zt=Ge==null?void 0:Ge.like_button)===null||zt===void 0?void 0:zt.is_toggled,this.basic_info.is_disliked=(Kt=Ge==null?void 0:Ge.dislike_button)===null||Kt===void 0?void 0:Kt.is_toggled);let Wg=($t=Sn.get({target_id:"comments-entry-point"}))===null||$t===void 0?void 0:$t.as(_e);this.comments_entry_point_header=(mt=Wg==null?void 0:Wg.contents)===null||mt===void 0?void 0:mt.firstOfType(Ym),this.livechat=(In=ci==null?void 0:ci.contents_memo)===null||In===void 0?void 0:In.getType(F_).first()}}selectFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new g("Invalid filter",{available_filters:this.filters});l=h}else if(e!=null&&e.is(me))l=e;else throw new g("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(s=l.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){if(!u(this,oo,"f"))throw new g("Watch next feed continuation not found");let l=yield(e=u(this,oo,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o[this.watch_next_feed.length-1])===null||s===void 0)&&s.is(Me)?T(this,oo,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(Me),"f"):T(this,oo,void 0,"f"),this})}like(){var e,i;return b(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(No),s=o==null?void 0:o.like_button;if(!s)throw new g("Like button not found",{video_id:this.basic_info.id});if(!s.is(Re))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return b(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(No),s=o==null?void 0:o.dislike_button;if(!s)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Re))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return b(this,void 0,void 0,function*(){let o,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(No),r=s==null?void 0:s.like_button,l=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Re))||!(l!=null&&l.is(Re)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:l!=null&&l.is_toggled&&(o=l),!o)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new y0(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(sp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new xs([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!u(this,oo,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(sp))}get music_tracks(){return[]}};n(xs,"VideoInfo");oo=new WeakMap;var fh=xs;var yx={};j(yx,{Album:()=>P0,Artist:()=>M0,Explore:()=>O0,HomeFeed:()=>B0,Library:()=>L0,LibraryContinuation:()=>qo,Playlist:()=>ks,Recap:()=>F0,Search:()=>Y0,TrackInfo:()=>xh});var Ii,N0=class{constructor(e){var i,o,s;if(Ii.set(this,void 0),T(this,Ii,d.parseResponse(e.data),"f"),this.header=(i=u(this,Ii,"f").header)===null||i===void 0?void 0:i.item().as(Co),this.url=((o=u(this,Ii,"f").microformat)===null||o===void 0?void 0:o.as(Zt).url_canonical)||null,!u(this,Ii,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=u(this,Ii,"f").contents_memo.getType(ye))===null||s===void 0?void 0:s.first().contents,this.sections=u(this,Ii,"f").contents_memo.getType(Ne)||[]}get page(){return u(this,Ii,"f")}};n(N0,"Album");Ii=new WeakMap;var P0=N0;var bs,A0,R0=class{constructor(e,i){var o,s,r;bs.set(this,void 0),A0.set(this,void 0),T(this,bs,d.parseResponse(e.data),"f"),T(this,A0,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(av,pv,Gi);let l=((s=u(this,bs,"f").contents_memo)===null||s===void 0?void 0:s.getType(ye))||[],p=((r=u(this,bs,"f").contents_memo)===null||r===void 0?void 0:r.getType(Ne))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return b(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new g("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new g("Could not find target shelf (Songs).");if(!s.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(u(this,A0,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Eo))===null||i===void 0?void 0:i.first()})}get page(){return u(this,bs,"f")}};n(R0,"Artist");bs=new WeakMap,A0=new WeakMap;var M0=R0;var hh,V0=class{constructor(e){var i,o,s;hh.set(this,void 0),T(this,hh,d.parseResponse(e.data),"f");let r=(i=u(this,hh,"f").contents)===null||i===void 0?void 0:i.item().as(ii).tabs.get({selected:!0});if(!r)throw new g("Could not find target tab.");let l=(o=r.content)===null||o===void 0?void 0:o.as(q);if(!l)throw new g("Target tab did not have any content.");this.top_buttons=((s=l.contents.firstOfType(Io))===null||s===void 0?void 0:s.items.as($n))||[],this.sections=l.contents.filterType(Ne)}get page(){return u(this,hh,"f")}};n(V0,"Explore");hh=new WeakMap;var O0=V0;var no,zo,Ko,$o=class{constructor(e,i){var o,s,r,l,p,f;no.set(this,void 0),zo.set(this,void 0),Ko.set(this,void 0),T(this,zo,i,"f"),T(this,no,d.parseResponse(e.data),"f");let h=(o=u(this,no,"f").contents)===null||o===void 0?void 0:o.item().as(ii).tabs.get({selected:!0});if(!h)throw new g("Could not find Home tab.");if(h.key("content").isNull()){if(!u(this,no,"f").continuation_contents)throw new g("Continuation did not have any content.");T(this,Ko,u(this,no,"f").continuation_contents.as(ut).continuation,"f"),this.sections=(s=u(this,no,"f").continuation_contents.as(ut).contents)===null||s===void 0?void 0:s.as(Ne);return}this.header=(l=(r=h.content)===null||r===void 0?void 0:r.as(q).header)===null||l===void 0?void 0:l.as(St),T(this,Ko,(p=h.content)===null||p===void 0?void 0:p.as(q).continuation,"f"),this.sections=(f=h.content)===null||f===void 0?void 0:f.as(q).contents.as(Ne,dv)}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,Ko,"f"))throw new g("Continuation not found.");let e=yield u(this,zo,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Ko,"f")});return new $o(e,u(this,zo,"f"))})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(me).get({text:e}),!s)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(s=e);if(!s)throw new g("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new g("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,zo,"f"),{client:"YTMUSIC"});return new $o(r,u(this,zo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(me).map(o=>o.text))||[]}get has_continuation(){return!!u(this,Ko,"f")}get page(){return u(this,no,"f")}};n($o,"HomeFeed");no=new WeakMap,zo=new WeakMap,Ko=new WeakMap;var B0=$o;var si,so,ys,ro,mh,ws,Ts=class{constructor(e,i){var o,s,r,l,p;si.set(this,void 0),so.set(this,void 0),ys.set(this,void 0),T(this,si,d.parseResponse(e.data),"f"),T(this,so,i,"f");let f=(o=u(this,si,"f").contents_memo)===null||o===void 0?void 0:o.getType(q).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(uv),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Io,ye),T(this,ys,(p=(l=this.contents)===null||l===void 0?void 0:l.find(h=>h.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,s,r,l,p,f,h,_,x;return b(this,void 0,void 0,function*(){let w;if(typeof e=="string"){let P=(i=u(this,si,"f").contents_memo)===null||i===void 0?void 0:i.getType(zd).first(),V=(o=P==null?void 0:P.menu)===null||o===void 0?void 0:o.options.filter(H=>H instanceof It);if(w=V==null?void 0:V.find(H=>H.title===e),!w)throw new g(`Sort option "${e}" not found`,{available_filters:V.map(H=>H.title)})}else e instanceof It&&(w=e);if(!w)throw new g("Invalid sort option");if(w.selected)return this;let I=(p=(l=(r=(s=w.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||l===void 0?void 0:l.find(P=>P.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!I)throw new g("Failed to find sort option command");let S=yield u(this,so,"f").execute("/browse",{client:"YTMUSIC",continuation:I.continuation.reloadContinuationData.continuation,parse:!0}),N=(h=(f=u(this,si,"f").contents_memo)===null||f===void 0?void 0:f.getType(It))===null||h===void 0?void 0:h.find(P=>P.selected);return N&&(N.selected=!1),w.selected=!0,this.contents=(x=(_=S.continuation_contents)===null||_===void 0?void 0:_.as(ut).contents)===null||x===void 0?void 0:x.as(Io,ye),this})}applyFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){let l,p=(i=u(this,si,"f").contents_memo)===null||i===void 0?void 0:i.getType(St).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof me&&(l=e);if(!l)throw new g("Invalid filter",e);let h=yield new v((r=(s=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(u(this,so,"f"),{client:"YTMUSIC"});return new Ts(h,u(this,so,"f"))})}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,ys,"f"))throw new g("No continuation available");let e=yield u(this,so,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,ys,"f")});return new qo(e,u(this,so,"f"))})}get has_continuation(){return!!u(this,ys,"f")}get sort_options(){var e,i;let o=(e=u(this,si,"f").contents_memo)===null||e===void 0?void 0:e.getType(zd).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof It)).map(r=>r.title)}get filters(){var e,i;return((i=(e=u(this,si,"f").contents_memo)===null||e===void 0?void 0:e.getType(St))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return u(this,si,"f")}};n(Ts,"Library");si=new WeakMap,so=new WeakMap,ys=new WeakMap;var qo=class{constructor(e,i){var o,s;if(ro.set(this,void 0),mh.set(this,void 0),ws.set(this,void 0),T(this,ro,d.parseResponse(e.data),"f"),T(this,mh,i,"f"),!u(this,ro,"f").continuation_contents)throw new g("No continuation contents found");this.contents=u(this,ro,"f").continuation_contents.as(xi,Vo),T(this,ws,!((o=u(this,ro,"f").continuation_contents)===null||o===void 0)&&o.key("continuation").isNull()?null:(s=u(this,ro,"f").continuation_contents)===null||s===void 0?void 0:s.key("continuation").string(),"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,ws,"f"))throw new g("No continuation available");let e=yield u(this,mh,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,ws,"f")});return new qo(e,u(this,mh,"f"))})}get has_continuation(){return!!u(this,ws,"f")}get page(){return u(this,ro,"f")}};n(qo,"LibraryContinuation");ro=new WeakMap,mh=new WeakMap,ws=new WeakMap;var L0=Ts;var bx,ct,Qo,Xo,Is,_h,n1,Ss=class{constructor(e,i){var o,s,r,l,p,f,h;if(bx.add(this),ct.set(this,void 0),Qo.set(this,void 0),Xo.set(this,void 0),Is.set(this,void 0),_h.set(this,void 0),T(this,Qo,i,"f"),T(this,ct,d.parseResponse(e.data),"f"),T(this,Is,null,"f"),T(this,_h,null,"f"),u(this,ct,"f").continuation_contents){let _=(o=u(this,ct,"f").continuation_contents)===null||o===void 0?void 0:o.as(Mo);this.items=_.contents,T(this,Xo,_.continuation,"f")}else((s=u(this,ct,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(r=u(this,ct,"f").header)===null||r===void 0?void 0:r.item().as(rv).header)===null||l===void 0?void 0:l.as(Co):this.header=(p=u(this,ct,"f").header)===null||p===void 0?void 0:p.item().as(Co),this.items=((f=u(this,ct,"f").contents_memo)===null||f===void 0?void 0:f.getType(Eo).first().contents)||null,T(this,Xo,((h=u(this,ct,"f").contents_memo)===null||h===void 0?void 0:h.getType(Eo).first().continuation)||null,"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,Xo,"f"))throw new g("Continuation not found.");let e=yield u(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Xo,"f")});return new Ss(e,u(this,Qo,"f"))})}getRelated(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){let l=(i=(e=u(this,ct,"f").contents_memo)===null||e===void 0?void 0:e.getType(q))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield u(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ut),h=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ne,ye),_=(r=h==null?void 0:h.matchCondition(x=>x.is(Ne)))===null||r===void 0?void 0:r.as(Ne);if(_)return _;l=f==null?void 0:f.continuation}throw new g("Target section not found.")})}getSuggestions(e=!0){return b(this,void 0,void 0,function*(){let s=yield e||!u(this,Is,"f")?u(this,bx,"m",n1).call(this):Promise.resolve(null);return s&&(T(this,Is,s.items,"f"),T(this,_h,s.continuation,"f")),(s==null?void 0:s.items)||u(this,Is,"f")})}get page(){return u(this,ct,"f")}get has_continuation(){return!!u(this,Xo,"f")}};n(Ss,"Playlist");ct=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,Is=new WeakMap,_h=new WeakMap,bx=new WeakSet,n1=n(function(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){let l=u(this,_h,"f")||((i=(e=u(this,ct,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(q).continuation);if(l){let f=(o=(yield u(this,Qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ut),h=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ne,ye),_=(r=h==null?void 0:h.matchCondition(x=>x.is(ye)))===null||r===void 0?void 0:r.as(ye);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var ks=Ss;var ao,vh,D0=class{constructor(e,i){var o,s,r,l,p,f,h;ao.set(this,void 0),vh.set(this,void 0),T(this,ao,d.parseResponse(e.data),"f"),T(this,vh,i,"f");let _=(o=u(this,ao,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(Rd)?(l=(r=(s=u(this,ao,"f").header)===null||s===void 0?void 0:s.item().as(Rd).element)===null||r===void 0?void 0:r.model)===null||l===void 0?void 0:l.as(zu):(p=u(this,ao,"f").header)===null||p===void 0?void 0:p.item().as(Gi);let x=(f=u(this,ao,"f").contents)===null||f===void 0?void 0:f.item().as(ii).tabs.firstOfType(ve);if(!x)throw new g("Target tab not found");this.sections=(h=x.content)===null||h===void 0?void 0:h.as(q).contents.as(_e,Ne,je)}getPlaylist(){return b(this,void 0,void 0,function*(){if(!this.header)throw new g("Header not found");if(!this.header.is(zu))throw new g("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(u(this,vh,"f"),{client:"YTMUSIC"});return new ks(i,u(this,vh,"f"))})}get page(){return u(this,ao,"f")}};n(D0,"Recap");ao=new WeakMap,vh=new WeakMap;var F0=D0;var ri,Si,Cs,gh,Es,Zo=class{constructor(e,i,o){var s,r,l;if(ri.set(this,void 0),Si.set(this,void 0),Cs.set(this,void 0),T(this,Si,i,"f"),T(this,ri,d.parseResponse(e.data),"f"),!u(this,ri,"f").contents||!u(this,ri,"f").contents_memo)throw new g("Response did not contain any contents.");let p=u(this,ri,"f").contents.item().as(Uv).tabs.get({selected:!0});if(!p)throw new g("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(q);if(!f)throw new g("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(St),this.contents=f.contents.as(ye,iv,_e),o&&T(this,Cs,(l=this.contents.firstOfType(ye))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return b(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(u(this,Si,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new Zo(i,u(this,Si,"f"),!0)})}getContinuation(){return b(this,void 0,void 0,function*(){if(!u(this,Cs,"f"))throw new g("Continuation not found.");let e=yield u(this,Si,"f").execute("/search",{continuation:u(this,Cs,"f"),client:"YTMUSIC"});return new Ns(u(this,Si,"f"),e)})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(me).get({text:e}),!s)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(s=e);if(!s)throw new g("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new g("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,Si,"f"),{client:"YTMUSIC"});return new Zo(r,u(this,Si,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(me).map(o=>o.text))||[]}get has_continuation(){return!!u(this,Cs,"f")}get did_you_mean(){var e;return(e=u(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(m_).first()}get showing_results_for(){var e;return(e=u(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(Fv).first()}get message(){var e;return(e=u(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(je).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(ye))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ye)}get page(){return u(this,ri,"f")}};n(Zo,"Search");ri=new WeakMap,Si=new WeakMap,Cs=new WeakMap;var Y0=Zo,Ns=class{constructor(e,i){var o,s;gh.set(this,void 0),Es.set(this,void 0),T(this,gh,e,"f"),T(this,Es,d.parseResponse(i.data),"f"),this.header=(o=u(this,Es,"f").header)===null||o===void 0?void 0:o.item().as(Gi),this.contents=(s=u(this,Es,"f").continuation_contents)===null||s===void 0?void 0:s.as(xi)}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new g("Continuation not found.");let i=yield u(this,gh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Ns(u(this,gh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return u(this,Es,"f")}};n(Ns,"SearchContinuation");gh=new WeakMap,Es=new WeakMap;var j0=class extends io{constructor(e,i,o){var s,r,l,p,f,h,_,x,w;super(e,i,o);let[I,S]=this.page;if(!(!((s=I.microformat)===null||s===void 0)&&s.is(Zt)))throw new g("Invalid microformat",I.microformat);if(this.basic_info=Object.assign(Object.assign({},I.video_details),{description:(r=I.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(l=I.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=I.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=I.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(h=I.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=I.storyboards,this.endscreen=I.endscreen,S){let N=(x=(_=S.contents_memo)===null||_===void 0?void 0:_.getType(Kv))===null||x===void 0?void 0:x[0];this.tabs=N==null?void 0:N.tabs.array().as(ve),this.current_video_endpoint=S.current_video_endpoint,this.player_overlays=(w=S.player_overlays)===null||w===void 0?void 0:w.item().as(zi)}}getTab(e){var i,o;return b(this,void 0,void 0,function*(){if(!this.tabs)throw new g("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().key("type").string())==="Message")return r.contents.item().as(je);if(!r.contents)throw new g("Page contents was empty",r);return r.contents.item().as(q).contents})}getUpNext(e=!0){var i,o;return b(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new g("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(ti);if(!r.playlist_id&&e){let l=r.contents.firstOfType(Yi);if(!l)throw new g("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new g("Could not fetch automix");return(o=p.contents_memo.getType(ti))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return b(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return b(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(_i)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,se.YTMUSIC.NAME,se.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(j0,"TrackInfo");var xh=j0;var wx={};j(wx,{Channel:()=>U0,HomeFeed:()=>W0,Search:()=>J0,VideoInfo:()=>z0});var Ps=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(An),this.contents=this.memo.getType(_e).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(Po))}getContinuation(){var e;return b(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Ps(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Ps,"Channel");var U0=Ps;var As=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(qv),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(Xv)}selectCategoryTab(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(os)&&(o=e),!o)throw new g(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new As(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(As,"HomeFeed");var W0=As;var H0=class extends fe{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(_e).first();if(!o)throw new g("No item section found in search response.");this.contents=o.contents}};n(H0,"Search");var J0=H0;var G0=class extends io{constructor(e,i,o){var s,r,l,p,f;super(e,i,o);let[h,_]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let x=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(ts),w=x==null?void 0:x.results,I=x==null?void 0:x.secondary_results;w&&I&&(this.slim_video_metadata=(l=(r=w.firstOfType(_e))===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(Yv),this.watch_next_feed=((p=I.firstOfType(_e))===null||p===void 0?void 0:p.contents)||I,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(zi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(G0,"VideoInfo");var z0=G0;var d=E;var dt,K0=class{constructor(e,i,o,s){var r,l,p,f,h,_,x,w,I,S,N,P,V,H,Y,ue,xe,Be,Le,Qe,X,K,te,ee,Ze,Dt,Ft,Yt,jt,Ut,Wt,Ht,Jt,Gt,zt,Kt,$t;dt.set(this,void 0),T(this,dt,new c(e),"f"),this.id=s||((h=(f=(p=(l=(r=u(this,dt,"f"))===null||r===void 0?void 0:r.runs)===null||l===void 0?void 0:l[0])===null||p===void 0?void 0:p.endpoint)===null||f===void 0?void 0:f.payload)===null||h===void 0?void 0:h.browseId)||((w=(x=(_=u(this,dt,"f"))===null||_===void 0?void 0:_.endpoint)===null||x===void 0?void 0:x.payload)===null||w===void 0?void 0:w.browseId)||"N/A",this.name=((I=u(this,dt,"f"))===null||I===void 0?void 0:I.text)||"N/A",this.thumbnails=o?y.fromResponse(o):[],this.endpoint=((P=(N=(S=u(this,dt,"f"))===null||S===void 0?void 0:S.runs)===null||N===void 0?void 0:N[0])===null||P===void 0?void 0:P.endpoint)||((V=u(this,dt,"f"))===null||V===void 0?void 0:V.endpoint),this.badges=Array.isArray(i)?d.parseArray(i):le([]),this.is_moderator=(H=this.badges)===null||H===void 0?void 0:H.some(mt=>mt.icon_type=="MODERATOR"),this.is_verified=(Y=this.badges)===null||Y===void 0?void 0:Y.some(mt=>mt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(ue=this.badges)===null||ue===void 0?void 0:ue.some(mt=>mt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((X=(Qe=(Le=(Be=(xe=u(this,dt,"f"))===null||xe===void 0?void 0:xe.runs)===null||Be===void 0?void 0:Be[0])===null||Le===void 0?void 0:Le.endpoint)===null||Qe===void 0?void 0:Qe.metadata)===null||X===void 0?void 0:X.api_url)==="/browse"&&`${Te.YT_BASE}${((Dt=(Ze=(ee=(te=(K=u(this,dt,"f"))===null||K===void 0?void 0:K.runs)===null||te===void 0?void 0:te[0])===null||ee===void 0?void 0:ee.endpoint)===null||Ze===void 0?void 0:Ze.payload)===null||Dt===void 0?void 0:Dt.canonicalBaseUrl)||`/u/${(Wt=(Ut=(jt=(Yt=(Ft=u(this,dt,"f"))===null||Ft===void 0?void 0:Ft.runs)===null||Yt===void 0?void 0:Yt[0])===null||jt===void 0?void 0:jt.endpoint)===null||Ut===void 0?void 0:Ut.payload)===null||Wt===void 0?void 0:Wt.browseId}`}`||`${Te.YT_BASE}${((Gt=(Jt=(Ht=u(this,dt,"f"))===null||Ht===void 0?void 0:Ht.endpoint)===null||Jt===void 0?void 0:Jt.payload)===null||Gt===void 0?void 0:Gt.canonicalBaseUrl)||`/u/${($t=(Kt=(zt=u(this,dt,"f"))===null||zt===void 0?void 0:zt.endpoint)===null||Kt===void 0?void 0:Kt.payload)===null||$t===void 0?void 0:$t.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(K0,"Author");dt=new WeakMap;var B=K0;var s1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var $0,q0,O=class{static load(e){T(O,$0,e,"f",q0)}static get shim(){if(!u(O,$0,"f",q0))throw new Error("Platform is not loaded");return u(O,$0,"f",q0)}};n(O,"Platform");$0=O;q0={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=O.shim.info.version}};n(g,"InnertubeError");var at=class extends g{};n(at,"ParsingError");var en=class extends g{};n(en,"MissingParamError");var ai=class extends g{};n(ai,"OAuthError");var Mt=class extends Error{};n(Mt,"PlayerError");var Rs=class extends Error{};n(Rs,"SessionError");var us=class extends Error{};n(us,"ChannelError");function Vh(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof c;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(Vh,"deepCompare");function Ke(t,e,i){let o=new RegExp(`${Ix(e)}(.*?)${Ix(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(Ke,"getStringBetweenStrings");function Ix(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Ix,"escapeStringRegexp");function _o(t){let e=s1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(_o,"getRandomUserAgent");function Xg(t){return b(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield O.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n(Xg,"generateSidAuth");function gt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(gt,"generateRandomString");function We(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(We,"timeToSeconds");function mx(...t){let e=new Ri;for(let i of t)if(!!i)for(let o of i)e.set(...o);return e}n(mx,"concatMemos");function oe(t){for(let[e,i]of Object.entries(t))if(!i)throw new en(`${e} is missing`)}n(oe,"throwIfMissing");function jI(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(jI,"hasKeys");function Kg(t){return nb(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield po(i.read());if(o)return yield po(void 0);yield yield po(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Kg,"streamToIterable");var UI=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),O.shim.fetch(t,e)},"debugFetch");function _t(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(_t,"u8ToBase64");function ax(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(ax,"base64ToU8");function $e(t){return!("emoji"in t)}n($e,"isTextRun");function Sx(t){return b(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let l=0;l<s.length;++l)r.push(e[s[l]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Sx,"sha1Hash");var X0={name:"volumio-youtubei.js",version:"0.3.8",description:"Modified version of YouTube.js library for use with Volumio's YouTube Music plugin.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"Original author: LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT). Modified by Patrick Kan (https://github.com/patrickkfkan).",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/build-parser-map.cjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":`npx cpy ./src ./deno && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'linkedom';" "'https://esm.sh/linkedom';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r && npx replace "new Jinter.default" "new Jinter" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/patrickkfkan/Volumio-YouTube.js.git"},license:"MIT",dependencies:{"event-target-polyfill":"0.0.3",jintr:"^2.0.0",linkedom:"^0.14.12","node-fetch":"^2.6.7",tslib:"^2.5.0",uuid:"^9.0.0","web-streams-polyfill":"^3.2.1"},devDependencies:{"@types/jest":"^28.1.7","@types/node":"^17.0.45","@types/node-fetch":"^2.6.11","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^5.0.0"},bugs:{url:"https://github.com/patrickkfkan/Volumio-YouTube.js/issues"},homepage:"https://github.com/patrickkfkan/Volumio-YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var wh={};j(wh,{ArrayExpression:()=>Ms,ArrowFunctionExpression:()=>Vs,AssignmentExpression:()=>Os,BinaryExpression:()=>Bs,BlockStatement:()=>Ls,BreakStatement:()=>Ds,CallExpression:()=>Fs,ConditionalExpression:()=>js,ContinueStatement:()=>Us,ExpressionStatement:()=>Ws,ForOfStatement:()=>Hs,ForStatement:()=>Js,FunctionDeclaration:()=>Gs,FunctionExpression:()=>zs,Identifier:()=>Ks,IfStatement:()=>$s,Literal:()=>qs,LogicalExpression:()=>Xs,MemberExpression:()=>Qs,NewExpression:()=>Zs,ObjectExpression:()=>er,Property:()=>tr,ReturnStatement:()=>ir,SequenceExpression:()=>or,SwitchCase:()=>nr,SwitchStatement:()=>sr,ThisExpression:()=>rr,ThrowStatement:()=>ar,TryStatement:()=>lr,UnaryExpression:()=>ur,UpdateExpression:()=>cr,VariableDeclaration:()=>dr,WhileStatement:()=>pr});var M=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(M,"BaseJSNode");var Ms=class extends M{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Ms,"ArrayExpression");var kx={};j(kx,{JinterError:()=>ki,namedFunction:()=>tn});var tn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),ki=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n(ki,"JinterError");var Vs=class extends M{run(){let{params:e,body:i}=this.node;return tn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(Vs,"ArrowFunctionExpression");var Os=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Os,"AssignmentExpression");var Bs=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Bs,"BinaryExpression");var Ls=class extends M{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Ls,"BlockStatement");var Ds=class extends M{run(){return"break"}};n(Ds,"BreakStatement");var bh=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},on,Q0,r1,Fs=class extends M{constructor(){super(...arguments),on.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="__continue_exec")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="__continue_exec")return r}if(this.node.callee.type==="MemberExpression"){if(Ys.has(this.node,this.visitor))return Ys.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return r||bh(this,on,"m",Q0).call(this),typeof r[l]!="function"&&bh(this,on,"m",Q0).call(this),r[l].toString().includes("[native code]")?r[l](...p):r[l](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&bh(this,on,"m",Q0).call(this),o(s)}};n(Fs,"CallExpression");on=new WeakSet,Q0=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=bh(this,on,"m",r1).call(this,this.node.callee);throw new ki(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new ki(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),r1=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=bh(this,on,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Ys=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Ys,"Builtins");Ys.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var js=class extends M{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(js,"ConditionalExpression");var Us=class extends M{run(){return"continue"}};n(Us,"ContinueStatement");var Ws=class extends M{run(){return this.visitor.visitNode(this.node.expression)}};n(Ws,"ExpressionStatement");var Hs=class extends M{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Hs,"ForOfStatement");var Js=class extends M{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Js,"ForStatement");var Gs=class extends M{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=tn(o,r=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(Gs,"FunctionDeclaration");var zs=class extends M{run(){let{params:e,body:i}=this.node;return tn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(zs,"FunctionExpression");var Ks=class extends M{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Ks,"Identifier");var $s=class extends M{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n($s,"IfStatement");var qs=class extends M{run(){return this.node.value}};n(qs,"Literal");var Xs=class extends M{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Xs,"LogicalExpression");var Qs=class extends M{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="__continue_exec")return l}return s==null?void 0:s[r]}}};n(Qs,"MemberExpression");var Zs=class extends M{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(Zs,"NewExpression");var er=class extends M{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(er,"ObjectExpression");var Cx=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},yh,a1,l1,u1,tr=class extends M{constructor(){super(...arguments),yh.add(this)}run(){switch(this.node.kind){case"init":return Cx(this,yh,"m",a1).call(this);case"get":return Cx(this,yh,"m",l1).call(this);case"set":return Cx(this,yh,"m",u1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(tr,"Property");yh=new WeakSet,a1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),l1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),u1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var ir=class extends M{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(ir,"ReturnStatement");var or=class extends M{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(or,"SequenceExpression");var nr=class extends M{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(nr,"SwitchCase");var sr=class extends M{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(sr,"SwitchStatement");var rr=class extends M{run(){return this.visitor.scope.get("_this")}};n(rr,"ThisExpression");var ar=class extends M{run(){throw this.visitor.visitNode(this.node.argument)}};n(ar,"ThrowStatement");var lr=class extends M{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(lr,"TryStatement");var ur=class extends M{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(ur,"UnaryExpression");var cr=class extends M{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(cr,"UpdateExpression");var dr=class extends M{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(dr,"VariableDeclaration");var pr=class extends M{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(pr,"WhileStatement");var HI=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Ex,c1,fr=class{constructor(){Ex.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=HI(this,Ex,"m",c1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(fr,"Visitor");Ex=new WeakSet,c1=n(function(e){let i=wh[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var JI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],m1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],GI="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",_1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Nx={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Px="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",zI={5:Px,"5module":Px+" export import",6:Px+" const class extends export import super"},KI=/^in(stanceof)?$/,$I=new RegExp("["+_1+"]"),qI=new RegExp("["+_1+GI+"]");function Rx(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}}n(Rx,"isInAstralSet");function Ei(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&$I.test(String.fromCharCode(t)):e===!1?!1:Rx(t,m1)}n(Ei,"isIdentifierStart");function hr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&qI.test(String.fromCharCode(t)):e===!1?!1:Rx(t,m1)||Rx(t,JI)}n(hr,"isIdentifierChar");var ne=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function xt(t,e){return new ne(t,{beforeExpr:!0,binop:e})}n(xt,"binop");var bt={beforeExpr:!0},st={startsExpr:!0},Ox={};function Z(t,e){return e===void 0&&(e={}),e.keyword=t,Ox[t]=new ne(t,e)}n(Z,"kw");var m={num:new ne("num",st),regexp:new ne("regexp",st),string:new ne("string",st),name:new ne("name",st),privateId:new ne("privateId",st),eof:new ne("eof"),bracketL:new ne("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ne("]"),braceL:new ne("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ne("}"),parenL:new ne("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ne(")"),comma:new ne(",",bt),semi:new ne(";",bt),colon:new ne(":",bt),dot:new ne("."),question:new ne("?",bt),questionDot:new ne("?."),arrow:new ne("=>",bt),template:new ne("template"),invalidTemplate:new ne("invalidTemplate"),ellipsis:new ne("...",bt),backQuote:new ne("`",st),dollarBraceL:new ne("${",{beforeExpr:!0,startsExpr:!0}),eq:new ne("=",{beforeExpr:!0,isAssign:!0}),assign:new ne("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ne("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ne("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:xt("||",1),logicalAND:xt("&&",2),bitwiseOR:xt("|",3),bitwiseXOR:xt("^",4),bitwiseAND:xt("&",5),equality:xt("==/!=/===/!==",6),relational:xt("</>/<=/>=",7),bitShift:xt("<</>>/>>>",8),plusMin:new ne("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:xt("%",10),star:xt("*",10),slash:xt("/",10),starstar:new ne("**",{beforeExpr:!0}),coalesce:xt("??",1),_break:Z("break"),_case:Z("case",bt),_catch:Z("catch"),_continue:Z("continue"),_debugger:Z("debugger"),_default:Z("default",bt),_do:Z("do",{isLoop:!0,beforeExpr:!0}),_else:Z("else",bt),_finally:Z("finally"),_for:Z("for",{isLoop:!0}),_function:Z("function",st),_if:Z("if"),_return:Z("return",bt),_switch:Z("switch"),_throw:Z("throw",bt),_try:Z("try"),_var:Z("var"),_const:Z("const"),_while:Z("while",{isLoop:!0}),_with:Z("with"),_new:Z("new",{beforeExpr:!0,startsExpr:!0}),_this:Z("this",st),_super:Z("super",st),_class:Z("class",st),_extends:Z("extends",bt),_export:Z("export"),_import:Z("import",st),_null:Z("null",st),_true:Z("true",st),_false:Z("false",st),_in:Z("in",{beforeExpr:!0,binop:7}),_instanceof:Z("instanceof",{beforeExpr:!0,binop:7}),_typeof:Z("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Z("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Z("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,XI=new RegExp(wt.source,"g");function mr(t){return t===10||t===13||t===8232||t===8233}n(mr,"isNewLine");function v1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(mr(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(v1,"nextLineBreak");var g1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,yt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,x1=Object.prototype,QI=x1.hasOwnProperty,ZI=x1.toString,kh=Object.hasOwn||function(t,e){return QI.call(t,e)},d1=Array.isArray||function(t){return ZI.call(t)==="[object Array]"};function nn(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(nn,"wordsRegexp");function lo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(lo,"codePointToString");var eS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ih=n(function(e,i){this.line=e,this.column=i},"Position");Ih.prototype.offset=n(function(e){return new Ih(this.line,this.column+e)},"offset");var og=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function b1(t,e){for(var i=1,o=0;;){var s=v1(t,o,e);if(s<0)return new Ih(i,e-o);++i,o=s}}n(b1,"getLineInfo");var Mx={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},p1=!1;function tS(t){var e={};for(var i in Mx)e[i]=t&&kh(t,i)?t[i]:Mx[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!p1&&typeof console=="object"&&console.warn&&(p1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),t.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),d1(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return d1(e.onComment)&&(e.onComment=iS(e,e.onComment)),e}n(tS,"getOptions");function iS(t,e){return function(i,o,s,r,l,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new og(this,l,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(iS,"pushComment");var Sh=1,_r=2,Bx=4,y1=8,w1=16,T1=32,Lx=64,I1=128,Ch=256,Dx=Sh|_r|Ch;function Fx(t,e){return _r|(t?Bx:0)|(e?y1:0)}n(Fx,"functionFlags");var eg=0,Yx=1,Ci=2,S1=3,k1=4,C1=5,Oe=n(function(e,i,o){this.options=e=tS(e),this.sourceFile=e.sourceFile,this.keywords=nn(zI[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=Nx[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=nn(s);var r=(s?s+" ":"")+Nx.strict;this.reservedWordsStrict=nn(r),this.reservedWordsStrictBind=nn(r+" "+Nx.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Sh),this.regexpState=null,this.privateNameStack=[]},"Parser"),li={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Oe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");li.inFunction.get=function(){return(this.currentVarScope().flags&_r)>0};li.inGenerator.get=function(){return(this.currentVarScope().flags&y1)>0&&!this.currentVarScope().inClassFieldInit};li.inAsync.get=function(){return(this.currentVarScope().flags&Bx)>0&&!this.currentVarScope().inClassFieldInit};li.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Ch)return!1;if(e.flags&_r)return(e.flags&Bx)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};li.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Lx)>0||i||this.options.allowSuperOutsideMethod};li.allowDirectSuper.get=function(){return(this.currentThisScope().flags&I1)>0};li.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};li.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(_r|Ch))>0||i};li.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ch)>0};Oe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Oe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Oe.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Oe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Oe.prototype,li);var qe=Oe.prototype,oS=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;qe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){yt.lastIndex=t,t+=yt.exec(this.input)[0].length;var e=oS.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){yt.lastIndex=t+e[0].length;var i=yt.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||wt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,yt.lastIndex=t,t+=yt.exec(this.input)[0].length,this.input[t]===";"&&t++}};qe.eat=function(t){return this.type===t?(this.next(),!0):!1};qe.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};qe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};qe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};qe.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))};qe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};qe.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};qe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};qe.expect=function(t){this.eat(t)||this.unexpected()};qe.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var ng=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");qe.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};qe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};qe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};qe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var W=Oe.prototype;W.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var jx={kind:"loop"},nS={kind:"switch"};W.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;yt.lastIndex=this.pos;var e=yt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92||o>55295&&o<56320)return!0;if(t)return!1;if(o===123)return!0;if(Ei(o,!0)){for(var s=i+1;hr(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!KI.test(r))return!0}return!1};W.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;yt.lastIndex=this.pos;var t=yt.exec(this.input),e=this.pos+t[0].length,i;return!wt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(hr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};W.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=m._var,r="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(s,o.keyword);case m._debugger:return this.parseDebuggerStatement(s);case m._do:return this.parseDoStatement(s);case m._for:return this.parseForStatement(s);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(s,!0);case m._if:return this.parseIfStatement(s);case m._return:return this.parseReturnStatement(s);case m._switch:return this.parseSwitchStatement(s);case m._throw:return this.parseThrowStatement(s);case m._try:return this.parseTryStatement(s);case m._const:case m._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case m._while:return this.parseWhileStatement(s);case m._with:return this.parseWithStatement(s);case m.braceL:return this.parseBlock(!0,s);case m.semi:return this.parseEmptyStatement(s);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){yt.lastIndex=this.pos;var l=yt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(s,h,_,t):this.parseExpressionStatement(s,_)}};W.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};W.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};W.parseDoStatement=function(t){return this.next(),this.labels.push(jx),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};W.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(jx),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),l=!1,p=new ng,f=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};W.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Th|(i?0:Vx),!1,e)};W.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};W.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};W.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(nS),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};W.parseThrowStatement=function(t){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var sS=[];W.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();if(this.next(),this.eat(m.parenL)){e.param=this.parseBindingAtom();var i=e.param.type==="Identifier";this.enterScope(i?T1:0),this.checkLValPattern(e.param,i?k1:Ci),this.expect(m.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};W.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};W.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(jx),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};W.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};W.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};W.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var l=r[s];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var h=this.labels[f];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};W.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};W.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};W.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};W.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};W.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(m.eq)?o.init=this.parseMaybeAssign(e):i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(m.comma))break}return t};W.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Yx:Ci,!1)};var Th=1,Vx=2,E1=4;W.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&Vx&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Th&&(t.id=e&E1&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&Vx)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Yx:Ci:S1));var r=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fx(t.async,t.generator)),e&Th||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&Th?"FunctionDeclaration":"FunctionExpression")};W.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};W.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(m.braceL);this.type!==m.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(s.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raise(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&rS(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};W.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(m.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||l!=="method"||s||r){var h=!i.static&&tg(i,"constructor"),_=h&&t;h&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":l,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};W.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};W.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};W.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&tg(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};W.parseClassField=function(t){if(tg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&tg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};W.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Ch|Lx);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};W.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ci,!1)):(e===!0&&this.unexpected(),t.id=null)};W.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(!1):null};W.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};W.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var l=i[r];kh(e,l.name)||(s?s.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function rS(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n(rS,"isPrivateNameConflicted");function tg(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(tg,"checkKeyName");W.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(m._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===m._function||(i=this.isAsyncFunction())){var o=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(o,Th|E1,!1,i)}else if(this.type===m._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,l=t.specifiers;r<l.length;r+=1){var p=l[r];this.checkUnreserved(p.local),this.checkLocalExport(p.local),p.local.type==="Literal"&&this.raise(p.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};W.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),kh(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};W.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};W.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};W.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};W.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(t,o.exported,o.exported.start),e.push(this.finishNode(o,"ExportSpecifier"))}return e};W.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=sS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};W.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,Ci),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(m.comma))return t}if(this.type===m.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,Ci),t.push(this.finishNode(o,"ImportNamespaceSpecifier")),t}for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var s=this.startNode();s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,Ci),t.push(this.finishNode(s,"ImportSpecifier"))}return t};W.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return eS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};W.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};W.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Ot=Oe.prototype;Ot.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Ot.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Ot.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Ot.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Ot.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};Ot.parseBindingList=function(t,e,i){for(var o=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(m.comma),e&&this.type===m.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),o.push(r),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var l=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(l),o.push(l)}}return o};Ot.parseBindingListItem=function(t){return t};Ot.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Ot.checkLValSimple=function(t,e,i){e===void 0&&(e=eg);var o=e!==eg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ci&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(kh(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==C1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Ot.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=eg),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Ot.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=eg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Vt=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),we={b_stat:new Vt("{",!1),b_expr:new Vt("{",!0),b_tmpl:new Vt("${",!1),p_stat:new Vt("(",!1),p_expr:new Vt("(",!0),q_tmpl:new Vt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Vt("function",!1),f_expr:new Vt("function",!0),f_expr_gen:new Vt("function",!0,!1,null,!0),f_gen:new Vt("function",!1,!1,null,!0)},vr=Oe.prototype;vr.initialContext=function(){return[we.b_stat]};vr.curContext=function(){return this.context[this.context.length-1]};vr.braceIsBlock=function(t){var e=this.curContext();return e===we.f_expr||e===we.f_stat?!0:t===m.colon&&(e===we.b_stat||e===we.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===we.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};vr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};vr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};vr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===we.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?we.b_stat:we.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(we.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?we.p_stat:we.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==we.p_stat)&&!(t===m._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===we.b_stat)?this.context.push(we.f_expr):this.context.push(we.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===we.q_tmpl?this.context.pop():this.context.push(we.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===we.f_expr?this.context[e]=we.f_expr_gen:this.context[e]=we.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $=Oe.prototype;$.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var l=e[s];if(l){var p;r==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[s]={init:!1,get:!1,set:!1};l[r]=!0}};$.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===m.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(m.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};$.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,l=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new ng,o=!0);var p=this.start,f=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),h};$.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(m.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(m.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};$.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};$.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==m._in)&&r>o){var l=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(r=m.logicalAND.binop);var f=this.value;this.next();var h=this.start,_=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,_,r,s),w=this.buildBinary(e,i,t,x,f,l||p);return(l&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,o,s)}return t};$.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=s,l.right=o,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};$.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&N1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(s,r);h.operator=this.value,h.prefix=!1,h.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function N1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&N1(t.expression)}n(N1,"isPrivateFieldAccess");$.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};$.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,r,l,s);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};$.parseSubscript=function(t,e,i,o,s,r,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(m.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||f&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var x=new ng,w=this.yieldPos,I=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,x);if(s&&!f&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=I,this.awaitIdentPos=S,this.parseArrowExpression(this.startNodeAt(e,i),N,!0,l);this.checkExpressionErrors(x,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=N,p&&(P.optional=f),t=this.finishNode(P,"CallExpression")}else if(this.type===m.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};$.parseExprAtom=function(t,e){this.type===m.slash&&this.readRegexp();var i,o=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(i,"Super");case m._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case m.name:var s=this.start,r=this.startLoc,l=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(we.f_expr),this.parseFunction(this.startNodeAt(s,r),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(s,r),[p],!1,e);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===m.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,r),[p],!0,e)}return p;case m.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return i=this.startNode(),i.value=this.type===m._null?null:this.type===m._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case m.parenL:var h=this.start,_=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),_;case m.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case m.braceL:return this.overrideContext(we.b_expr),this.parseObj(!1,t);case m._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};$.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case m.parenL:return this.parseDynamicImport(t);case m.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};$.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};$.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};$.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};$.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],h=!0,_=!1,x=new ng,w=this.yieldPos,I=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){S=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var N=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(m.parenR),t&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=I,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(x,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,f.length>1?(s=this.startNodeAt(l,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",N,P)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,o);return V.expression=s,this.finishNode(V,"ParenthesizedExpression")}else return s};$.parseParenItem=function(t){return t};$.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var aS=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc,r=this.type===m._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),o,s,!0,!1),r&&t.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=aS,this.finishNode(t,"NewExpression")};$.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};$.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};$.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))};$.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};$.parseProperty=function(t,e){var i=this.startNode(),o,s,r,l;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i,e)):s=!1,this.parsePropertyValue(i,t,o,s,r,l,e,p),this.finishNode(i,"Property")};$.parsePropertyValue=function(t,e,i,o,s,r,l,p){if((i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===m.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o);else if(!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq){(i||o)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var f=t.kind==="get"?0:1;if(t.value.params.length!==f){var h=t.value.start;t.kind==="get"?this.raiseRecoverable(h,"getter should have no params"):this.raiseRecoverable(h,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===m.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};$.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};$.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fx(e,o.generator)|Lx|(i?I1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};$.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Fx(i,!1)|w1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};$.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==m.braceL,r=this.strict,l=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,C1),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};$.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};$.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,Yx,e?null:i)}};$.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===m.comma?l=null:this.type===m.ellipsis?(l=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),s.push(l)}return s};$.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};$.parseIdent=function(t,e){var i=this.startNode();return this.type===m.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};$.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};$.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};$.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var ig=Oe.prototype;ig.raise=function(t,e){var i=b1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};ig.raiseRecoverable=ig.raise;ig.curPosition=function(){if(this.options.locations)return new Ih(this.curLine,this.pos-this.lineStart)};var uo=Oe.prototype,lS=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");uo.enterScope=function(t){this.scopeStack.push(new lS(t))};uo.exitScope=function(){this.scopeStack.pop()};uo.treatFunctionsAsVarInScope=function(t){return t.flags&_r||!this.inModule&&t.flags&Sh};uo.declareName=function(t,e,i){var o=!1;if(e===Ci){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&Sh&&delete this.undefinedExports[t]}else if(e===k1){var r=this.currentScope();r.lexical.push(t)}else if(e===S1){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&T1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Sh&&delete this.undefinedExports[t],f.flags&Dx)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};uo.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};uo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};uo.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Dx)return e}};uo.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Dx&&!(e.flags&w1))return e}};var sg=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new og(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Eh=Oe.prototype;Eh.startNode=function(){return new sg(this,this.start,this.startLoc)};Eh.startNodeAt=function(t,e){return new sg(this,t,e)};function P1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(P1,"finishNodeAt");Eh.finishNode=function(t,e){return P1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Eh.finishNodeAt=function(t,e,i,o){return P1.call(this,t,e,i,o)};Eh.copyNode=function(t){var e=new sg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var A1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",R1=A1+" Extended_Pictographic",M1=R1,V1=M1+" EBase EComp EMod EPres ExtPict",uS=V1,cS={9:A1,10:R1,11:M1,12:V1,13:uS},f1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",O1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",B1=O1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",L1=B1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",D1=L1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",dS=D1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",pS={9:O1,10:B1,11:L1,12:D1,13:dS},F1={};function fS(t){var e=F1[t]={binary:nn(cS[t]+" "+f1),nonBinary:{General_Category:nn(f1),Script:nn(pS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(fS,"buildUnicodeData");for(Z0=0,Ax=[9,10,11,12,13];Z0<Ax.length;Z0+=1)h1=Ax[Z0],fS(h1);var h1,Z0,Ax,D=Oe.prototype,Ni=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=F1[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Ni.prototype.reset=n(function(e,i,o){var s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},"reset");Ni.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Ni.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");Ni.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");Ni.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Ni.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Ni.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Ni.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=0;o<i.length;o++){var s=i.charAt(o);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(s,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Y1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Y1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(Y1,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!Y1(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=lo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=lo(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),hS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function hS(t){return Ei(t,!0)||t===36||t===95}n(hS,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),mS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function mS(t){return hr(t,!0)||t===36||t===95||t===8204||t===8205}n(mS,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!rg(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return j1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function j1(t){return t>=65&&t<=90||t>=97&&t<=122}n(j1,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&_S(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function _S(t){return t>=0&&t<=1114111}n(_S,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(vS(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function vS(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(vS,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){kh(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";U1(e=t.current());)t.lastStringValue+=lo(e),t.advance();return t.lastStringValue!==""};function U1(t){return j1(t)||t===95}n(U1,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";gS(e=t.current());)t.lastStringValue+=lo(e),t.advance();return t.lastStringValue!==""};function gS(t){return U1(t)||rg(t)}n(gS,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};D.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||J1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_eatClassControlLetter=function(t){var e=t.current();return rg(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;rg(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function rg(t){return t>=48&&t<=57}n(rg,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;W1(i=t.current());)t.lastIntValue=16*t.lastIntValue+H1(i),t.advance();return t.pos!==e};function W1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(W1,"isHexDigit");function H1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(H1,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return J1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function J1(t){return t>=48&&t<=55}n(J1,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!W1(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+H1(s),t.advance()}return!0};var Ux=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new og(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Q=Oe.prototype;Q.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ux(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Q.getToken=function(){return this.next(),new Ux(this)};typeof Symbol<"u"&&(Q[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});Q.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Q.readToken=function(t){return Ei(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Q.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Q.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=v1(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Q.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!mr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Q.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&g1.test(String.fromCharCode(t)))++this.pos;else break e}}};Q.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Q.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};Q.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};Q.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};Q.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};Q.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};Q.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};Q.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};Q.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};Q.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};Q.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ei(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+lo(e)+"'")};Q.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+lo(t)+"'")};Q.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Q.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(wt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new Ni(this));p.reset(i,s,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,l)}catch(h){}return this.finishToken(m.regexp,{pattern:s,flags:l,value:f})};Q.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,p=0,f=0,h=e==null?1/0:e;f<h;++f,++this.pos){var _=this.input.charCodeAt(this.pos),x=void 0;if(o&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?x=_-97+10:_>=65?x=_-65+10:_>=48&&_<=57?x=_-48:x=1/0,x>=t)break;p=_,l=l*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function xS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(xS,"stringToNumber");function G1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(G1,"stringToBigInt");Q.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=G1(this.input.slice(e,this.pos)),++this.pos):Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};Q.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=G1(this.input.slice(e,this.pos));return++this.pos,Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=xS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,r)};Q.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Q.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(mr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var z1={};Q.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===z1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Q.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw z1;this.raise(t,e)};Q.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(mr(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Q.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Q.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return lo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;return this.invalidStringToken(i,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return mr(e)?"":String.fromCharCode(e)}};Q.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Q.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(hr(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ei:hr)(l,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=lo(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Q.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=Ox[t]),this.finishToken(e,t)};var bS="8.8.1";Oe.acorn={Parser:Oe,version:bS,defaultOptions:Mx,Position:Ih,SourceLocation:og,getLineInfo:b1,Node:sg,TokenType:ne,tokTypes:m,keywordTypes:Ox,TokContext:Vt,tokContexts:we,isIdentifierChar:hr,isIdentifierStart:Ei,Token:Ux,isNewLine:mr,lineBreak:wt,lineBreakG:XI,nonASCIIwhitespace:g1};function K1(t,e){return Oe.parse(t,e)}n(K1,"parse");var yS=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},wS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},ag,sn=class{constructor(){ag.set(this,[]),this.visitor=new fr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,s)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=i[r];return p?p.apply(i,l):"__continue_exec"}return"__continue_exec"})}evaluate(e){try{let i=K1(e,{ecmaVersion:2020});yS(this,ag,i.body,"f")}catch(i){throw new ki(i.message)}return this.visitor.setAST(wS(this,ag,"f")),this.visitor.run()}};n(sn,"Jinter");ag=new WeakMap;var Nh,rn,$1,q1,X1,lg=class{constructor(e){Nh.add(this),rn.set(this,void 0),T(this,rn,e,"f")}get session(){return u(this,rn,"f")}stats(e,i,o){return b(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))s.searchParams.set(l,o[l]);return yield u(this,rn,"f").http.fetch(s)})}execute(e,i){var o,s;return b(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&u(this,Nh,"m",X1).call(this,r.browseId)&&!u(this,rn,"f").logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield u(this,rn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=d.parseResponse(yield p.json());if(u(this,Nh,"m",q1).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let h=f.on_response_received_actions.firstOfType(Ao);h&&(f=yield h.endpoint.call(this,{parse:!0}))}return f}return u(this,Nh,"m",$1).call(this,p)})}};n(lg,"Actions");rn=new WeakMap,Nh=new WeakSet,$1=n(function(e){return b(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),q1=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),X1=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Wx=lg;var ui="Player",rt=class{constructor(e,i,o,s){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=s}static create(e,i=O.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/iframe_api",Se.URLS.YT_BASE),s=yield i(o);if(s.status!==200)throw new Mt("Failed to request player id");let r=yield s.text(),l=Ke(r,"player\\/","\\/");if(Ee.info(ui,`Got player id (${l}). Checking for cached players..`),!l)throw new Mt("Failed to get player id");if(e){let I=yield rt.fromCache(e,l);if(I)return Ee.info(ui,"Found up-to-date player data in cache."),I}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,Se.URLS.YT_BASE);Ee.info(ui,`Could not find any cached player. Will download a new player from ${p}.`);let f=yield i(p,{headers:{"user-agent":_o("desktop")}});if(!f.ok)throw new Mt(`Failed to get player data: ${f.status}`);let h=yield f.text(),_=this.extractSigTimestamp(h),x=this.extractSigSourceCode(h),w=this.extractNSigSourceCode(h);return Ee.info(ui,`Got signature timestamp (${_}) and algorithms needed to decipher signatures.`),yield rt.fromSource(e,_,x,w,l)})}decipher(e,i,o,s){if(e=e||i||o,!e)throw new Mt("No valid URL to decipher");let r=new URLSearchParams(e),l=new URL(r.get("url")||e);if(i||o){let _=O.shim.eval(this.sig_sc,{sig:r.get("s")});if(Ee.info(ui,`Transformed signature from ${r.get("s")} to ${_}.`),typeof _!="string")throw new Mt("Failed to decipher signature");let x=r.get("sp");x?l.searchParams.set(x,_):l.searchParams.set("signature",_)}let p=l.searchParams.get("n");if(p){let _;if(s&&s.has(p))_=s.get(p);else{if(_=O.shim.eval(this.nsig_sc,{nsig:p}),Ee.info(ui,`Transformed n signature from ${p} to ${_}.`),typeof _!="string")throw new Mt("Failed to decipher nsig");_.startsWith("enhanced_except_")?Ee.warn(ui,"Could not transform nsig, download may be throttled."):s&&s.set(p,_)}l.searchParams.set("n",_)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",Se.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",Se.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",Se.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",Se.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",Se.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",Se.CLIENTS.TV_EMBEDDED.VERSION);break}let h=l.toString();return Ee.info(ui,`Deciphered URL: ${h}`),l.toString()}static fromCache(e,i){return b(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==rt.LIBRARY_VERSION)return null;let l=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),h=o.slice(12+p),_=Oi.decompress(new TextDecoder().decode(f)),x=Oi.decompress(new TextDecoder().decode(h));return new rt(l,_,x,i)})}static fromSource(e,i,o,s,r){return b(this,void 0,void 0,function*(){let l=new rt(i,o,s,r);return yield l.cache(e),l})}cache(e){return b(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(Oi.compress(this.sig_sc)),s=i.encode(Oi.compress(this.nsig_sc)),r=new ArrayBuffer(12+o.byteLength+s.byteLength),l=new DataView(r);l.setUint32(0,rt.LIBRARY_VERSION,!0),l.setUint32(4,this.sts,!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(Ke(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=Ke(e,'function(a){a=a.split("")','return a.join("")}'),l=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=Ke(e,`var ${l}={`,"};");return(!p||!r)&&Ee.warn(ui,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=Ke(e,'b=String.prototype.split.call(a,"")','}return b.join("")}');return i?`function descramble_nsig(a) { let b=String.prototype.split.call(a,"")${i}} return b.join(""); } descramble_nsig(nsig)`:(i=Ke(e,'b=String.prototype.split.call(a,"")','}return Array.prototype.join.call(b,"")}'),i?`function descramble_nsig(a) { let b=String.prototype.split.call(a, "")${i}} return Array.prototype.join.call(b, ""); } descramble_nsig(nsig)`:(Ee.warn(ui,"Failed to extract n-token decipher algorithm"),"function descramble_nsig(a) { return a; } descramble_nsig(nsig)"))}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,Se.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};n(rt,"Player");var Pi,an,Pe,Ie,ug,Z1,Jx,Q1,eI,Hx,cg=class{constructor(e){Pi.add(this),an.set(this,void 0),Pe.set(this,void 0),Ie.set(this,void 0),ug.set(this,5),T(this,Pe,e,"f")}init(e){return b(this,void 0,void 0,function*(){T(this,Ie,e,"f"),this.validateCredentials()?this.has_access_token_expired||u(this,Pe,"f").emit("auth",{credentials:u(this,Ie,"f"),status:"SUCCESS"}):(yield u(this,Pi,"m",Z1).call(this))||(yield u(this,Pi,"m",Jx).call(this))})}cacheCredentials(){var e;return b(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(u(this,Ie,"f")));yield(e=u(this,Pe,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return b(this,void 0,void 0,function*(){yield(e=u(this,Pe,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return b(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield u(this,Pi,"m",eI).call(this))})}revokeCredentials(){return b(this,void 0,void 0,function*(){if(!!u(this,Ie,"f"))return yield this.removeCache(),u(this,Pe,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(u(this,Ie,"f").access_token)}`,Te.YT_BASE),{method:"post"})})}get credentials(){return u(this,Ie,"f")}get has_access_token_expired(){let e=u(this,Ie,"f")?new Date(u(this,Ie,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return u(this,Ie,"f")&&Reflect.has(u(this,Ie,"f"),"access_token")&&Reflect.has(u(this,Ie,"f"),"refresh_token")&&Reflect.has(u(this,Ie,"f"),"expires")||!1}};n(cg,"OAuth");an=new WeakMap,Pe=new WeakMap,Ie=new WeakMap,ug=new WeakMap,Pi=new WeakSet,Z1=n(function(){var e;return b(this,void 0,void 0,function*(){let i=yield(e=u(this,Pe,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return T(this,Ie,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),u(this,Pe,"f").emit("auth",{credentials:u(this,Ie,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),Jx=n(function(){return b(this,void 0,void 0,function*(){T(this,an,yield u(this,Pi,"m",Hx).call(this),"f");let e={client_id:u(this,an,"f").client_id,scope:Mi.SCOPE,device_id:O.shim.uuidv4(),device_model:Mi.MODEL_NAME},o=yield(yield u(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/device/code",Te.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();u(this,Pe,"f").emit("auth-pending",o),T(this,ug,o.interval,"f"),u(this,Pi,"m",Q1).call(this,o.device_code)})},"_OAuth_getUserCode"),Q1=n(function(e){let i=setInterval(()=>b(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},u(this,an,"f")),{code:e,grant_type:Mi.GRANT_TYPE});try{let r=yield(yield u(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/token",Te.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":u(this,Pe,"f").emit("auth-error",new ai("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,Pe,"f").emit("auth-error",new ai("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),u(this,Pi,"m",Jx).call(this);break;default:break}return}let l=new Date(new Date().getTime()+r.expires_in*1e3);T(this,Ie,{access_token:r.access_token,refresh_token:r.refresh_token,expires:l},"f"),u(this,Pe,"f").emit("auth",{credentials:u(this,Ie,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),u(this,Pe,"f").emit("auth-error",new ai("Could not obtain user code.",{status:"FAILED",error:s}))}}),u(this,ug,"f")*1e3)},"_OAuth_startPolling"),eI=n(function(){return b(this,void 0,void 0,function*(){if(!u(this,Ie,"f"))return;T(this,an,yield u(this,Pi,"m",Hx).call(this),"f");let e=Object.assign(Object.assign({},u(this,an,"f")),{refresh_token:u(this,Ie,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield u(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/token",Te.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+o.expires_in*1e3);T(this,Ie,{access_token:o.access_token,refresh_token:o.refresh_token||u(this,Ie,"f").refresh_token,expires:s},"f"),u(this,Pe,"f").emit("update-credentials",{credentials:u(this,Ie,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),Hx=n(function(){var e;return b(this,void 0,void 0,function*(){let o=yield(yield u(this,Pe,"f").http.fetch_function(new URL("/tv",Te.YT_BASE),{headers:Mi.HEADERS})).text(),s=(e=Mi.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!s)throw new ai("Could not obtain script url.",{status:"FAILED"});let l=(yield(yield u(this,Pe,"f").http.fetch(s,{baseURL:Te.YT_BASE})).text()).replace(/\n/g,"").match(Mi.REGEX.CLIENT_IDENTITY),p=l==null?void 0:l.groups;if(!p)throw new ai("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var Gx=cg;var zx,dg,pg,ln,fg,hg,tI,iI,Kx;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Kx||(Kx={}));var co=class extends Tr{constructor(e,i,o,s,r,l,p,f){super(),dg.set(this,void 0),pg.set(this,void 0),ln.set(this,void 0),fg.set(this,void 0),hg.set(this,void 0),T(this,ln,e,"f"),T(this,fg,s,"f"),T(this,pg,i,"f"),T(this,dg,o,"f"),T(this,hg,r,"f"),this.http=new qg(this,l,p),this.actions=new Wx(this),this.oauth=new Gx(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return b(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:s,account_index:r}=yield co.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch);return new co(i,o,s,r,e.retrieve_player===!1?void 0:yield rt.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,s="",r=!1,l=!1,p="desktop",f=Kx.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=O.shim.fetch){return b(this,void 0,void 0,function*(){let x;return l?x=u(this,zx,"m",iI).call(this,{lang:e,location:i,time_zone:h,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s}):x=yield u(this,zx,"m",tI).call(this,{lang:e,location:i,time_zone:h,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s},_),Object.assign(Object.assign({},x),{account_index:o})})}signIn(e){return b(this,void 0,void 0,function*(){return new Promise((i,o)=>b(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return b(this,void 0,void 0,function*(){if(!this.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return u(this,pg,"f")}get api_version(){return u(this,dg,"f")}get client_version(){return u(this,ln,"f").client.clientVersion}get client_name(){return u(this,ln,"f").client.clientName}get account_index(){return u(this,fg,"f")}get context(){return u(this,ln,"f")}get player(){return u(this,hg,"f")}get lang(){return u(this,ln,"f").client.hl}};n(co,"Session");zx=co,dg=new WeakMap,pg=new WeakMap,ln=new WeakMap,fg=new WeakMap,hg=new WeakMap,tI=n(function(e,i=O.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",Te.YT_BASE),s=gt(11);e.visitor_data&&(s=be.decodeVisitorData(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":_o("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new Rs(`Failed to retrieve session data: ${r.status}`);let l=yield r.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],h="v1",[[_],x]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:Te.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:x,api_version:h}})},"_Session_retrieveSessionData"),iI=n(function(e){let i=gt(11);return e.visitor_data&&(i=be.decodeVisitorData(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:be.encodeVisitorData(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:se.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Te.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:se.WEB.API_KEY,api_version:se.WEB.API_VERSION}},"_Session_generateSessionData");var $x=co;var Xx={};j(Xx,{Kids:()=>Cg,Music:()=>Pg,Studio:()=>Rg});var qx={};j(qx,{Account:()=>dn,Browse:()=>_g,BrowseEndpoint:()=>F,Channel:()=>Ai,Comment:()=>xg,GetNotificationMenuEndpoint:()=>un,GuideEndpoint:()=>gr,Like:()=>bg,Music:()=>yg,NextEndpoint:()=>Ce,Notification:()=>wg,PlayerEndpoint:()=>Xe,Playlist:()=>Tg,ResolveURLEndpoint:()=>cn,SearchEndpoint:()=>pt,Subscription:()=>Ig,Upload:()=>Sg});var F={};j(F,{PATH:()=>TS,build:()=>IS});var TS="/browse";function IS(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(IS,"build");var un={};j(un,{PATH:()=>SS,build:()=>kS});var SS="/notification/get_notification_menu";function kS(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(kS,"build");var gr={};j(gr,{PATH:()=>CS});var CS="/guide";var Ce={};j(Ce,{PATH:()=>ES,build:()=>NS});var ES="/next";function NS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(NS,"build");var Xe={};j(Xe,{PATH:()=>PS,build:()=>AS});var PS="/player";function AS(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:"8AEB"})}n(AS,"build");var cn={};j(cn,{PATH:()=>RS,build:()=>MS});var RS="/navigation/resolve_url";function MS(t){return Object.assign({url:t.url})}n(MS,"build");var pt={};j(pt,{PATH:()=>VS,build:()=>OS});var VS="/search";function OS(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(OS,"build");var dn={};j(dn,{AccountListEndpoint:()=>mg});var mg={};j(mg,{PATH:()=>BS,build:()=>LS});var BS="/account/accounts_list";function LS(){return{client:"ANDROID"}}n(LS,"build");var _g={};j(_g,{EditPlaylistEndpoint:()=>Bt});var Bt={};j(Bt,{PATH:()=>DS,build:()=>FS});var DS="/browse/edit_playlist";function FS(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor}))}}n(FS,"build");var Ai={};j(Ai,{EditDescriptionEndpoint:()=>gg,EditNameEndpoint:()=>vg});var vg={};j(vg,{PATH:()=>YS,build:()=>jS});var YS="/channel/edit_name";function jS(t){return{givenName:t.given_name,client:"ANDROID"}}n(jS,"build");var gg={};j(gg,{PATH:()=>US,build:()=>WS});var US="/channel/edit_description";function WS(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(WS,"build");var xg={};j(xg,{CreateCommentEndpoint:()=>fn,PerformCommentActionEndpoint:()=>pn});var pn={};j(pn,{PATH:()=>HS,build:()=>JS});var HS="/comment/perform_comment_action";function JS(t){return Object.assign({actions:t.actions},{client:t.client})}n(JS,"build");var fn={};j(fn,{PATH:()=>GS,build:()=>zS});var GS="/comment/create_comment";function zS(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(zS,"build");var bg={};j(bg,{DislikeEndpoint:()=>mn,LikeEndpoint:()=>hn,RemoveLikeEndpoint:()=>_n});var hn={};j(hn,{PATH:()=>KS,build:()=>$S});var KS="/like/like";function $S(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n($S,"build");var mn={};j(mn,{PATH:()=>qS,build:()=>XS});var qS="/like/dislike";function XS(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(XS,"build");var _n={};j(_n,{PATH:()=>QS,build:()=>ZS});var QS="/like/removelike";function ZS(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(ZS,"build");var yg={};j(yg,{GetSearchSuggestionsEndpoint:()=>vn});var vn={};j(vn,{PATH:()=>ek,build:()=>tk});var ek="/music/get_search_suggestions";function tk(t){return{input:t.input,client:"YTMUSIC"}}n(tk,"build");var wg={};j(wg,{GetUnseenCountEndpoint:()=>xr,ModifyChannelPreferenceEndpoint:()=>gn});var xr={};j(xr,{PATH:()=>ik});var ik="/notification/get_unseen_count";var gn={};j(gn,{PATH:()=>ok,build:()=>nk});var ok="/notification/modify_channel_preference";function nk(t){return Object.assign({params:t.params},{client:t.client})}n(nk,"build");var Tg={};j(Tg,{CreateEndpoint:()=>xn,DeleteEndpoint:()=>bn});var xn={};j(xn,{PATH:()=>sk,build:()=>rk});var sk="/playlist/create";function rk(t){return{title:t.title,ids:t.ids}}n(rk,"build");var bn={};j(bn,{PATH:()=>ak,build:()=>lk});var ak="/playlist/delete";function lk(t){return{playlistId:t.playlist_id}}n(lk,"build");var Ig={};j(Ig,{SubscribeEndpoint:()=>yn,UnsubscribeEndpoint:()=>wn});var yn={};j(yn,{PATH:()=>uk,build:()=>ck});var uk="/subscription/subscribe";function ck(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(ck,"build");var wn={};j(wn,{PATH:()=>dk,build:()=>pk});var dk="/subscription/unsubscribe";function pk(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(pk,"build");var Sg={};j(Sg,{CreateVideoEndpoint:()=>Tn});var Tn={};j(Tn,{PATH:()=>fk,build:()=>hk});var fk="/upload/createvideo";function hk(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(hk,"build");var ft,kg=class{constructor(e){ft.set(this,void 0),T(this,ft,e,"f")}search(e){return b(this,void 0,void 0,function*(){let i=yield u(this,ft,"f").actions.execute(pt.PATH,pt.build({client:"YTKIDS",query:e}));return new J0(u(this,ft,"f").actions,i)})}getInfo(e){var i;return b(this,void 0,void 0,function*(){let o=Xe.build({sts:(i=u(this,ft,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ce.build({video_id:e,client:"YTKIDS"}),r=u(this,ft,"f").actions.execute(Xe.PATH,o),l=u(this,ft,"f").actions.execute(Ce.PATH,s),p=yield Promise.all([r,l]),f=gt(16);return new z0(p,u(this,ft,"f").actions,f)})}getChannel(e){return b(this,void 0,void 0,function*(){let i=yield u(this,ft,"f").actions.execute(F.PATH,F.build({browse_id:e,client:"YTKIDS"}));return new U0(u(this,ft,"f").actions,i)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield u(this,ft,"f").actions.execute(F.PATH,F.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new W0(u(this,ft,"f").actions,e)})}};n(kg,"Kids");ft=new WeakMap;var Cg=kg;var Eg,Ph,de,oI,nI,Ng=class{constructor(e){Eg.add(this),Ph.set(this,void 0),de.set(this,void 0),T(this,Ph,e,"f"),T(this,de,e.actions,"f")}getInfo(e){if(e instanceof qn)return u(this,Eg,"m",nI).call(this,e);if(typeof e=="string")return u(this,Eg,"m",oI).call(this,e);throw new g("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return b(this,void 0,void 0,function*(){oe({query:e});let o=yield u(this,de,"f").execute(pt.PATH,pt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?be.encodeMusicSearchFilters(i):void 0}));return new Y0(o,u(this,de,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new B0(e,u(this,de,"f"))})}getExplore(){return b(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new O0(e)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new L0(e,u(this,de,"f"))})}getArtist(e){return b(this,void 0,void 0,function*(){if(oe({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new g("Invalid artist id",e);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new M0(i,u(this,de,"f"))})}getAlbum(e){return b(this,void 0,void 0,function*(){if(oe({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new g("Invalid album id",e);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new P0(i)})}getPlaylist(e){return b(this,void 0,void 0,function*(){oe({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new ks(i,u(this,de,"f"))})}getUpNext(e,i=!0){var o,s,r;return b(this,void 0,void 0,function*(){oe({video_id:e});let p=(o=(yield u(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(ve),f=p==null?void 0:p.first();if(!f)throw new g("Could not find target tab.");let h=(s=f.content)===null||s===void 0?void 0:s.as(Xn);if(!h||!h.content)throw new g("Music queue was empty, the given id is probably invalid.",h);let _=h.content.as(ti);if(!_.playlist_id&&i){let x=_.contents.firstOfType(Yi);if(!x)throw new g("Automix item not found");let w=yield(r=x.playlist_video)===null||r===void 0?void 0:r.endpoint.call(u(this,de,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!w||!w.contents_memo)throw new g("Could not fetch automix");return w.contents_memo.getType(ti).first()}return _})}getRelated(e){var i;return b(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield u(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ve),r=s==null?void 0:s.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new g("Could not find target tab.");let l=yield r.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);return l.contents.item().as(q).contents.as(Ne,_i)})}getLyrics(e){var i;return b(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield u(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ve),r=s==null?void 0:s.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new g("Could not find target tab.");let l=yield r.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);if(l.contents.item().key("type").string()==="Message")throw new g(l.contents.item().as(je).text.toString(),e);return l.contents.item().as(q).contents.firstOfType(_i)})}getRecap(){return b(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new F0(e,u(this,de,"f"))})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){let i=yield u(this,de,"f").execute(vn.PATH,Object.assign(Object.assign({},vn.build({input:e})),{parse:!0}));if(!i.contents_memo)throw new g("Unexpected response",i);return i.contents_memo.getType(Ov).first().contents})}};n(Ng,"Music");Ph=new WeakMap,de=new WeakMap,Eg=new WeakSet,oI=n(function(e){var i;return b(this,void 0,void 0,function*(){let o=Xe.build({video_id:e,sts:(i=u(this,Ph,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ce.build({video_id:e,client:"YTMUSIC"}),r=u(this,de,"f").execute(Xe.PATH,o),l=u(this,de,"f").execute(Ce.PATH,s),p=yield Promise.all([r,l]),f=gt(16);return new xh(p,u(this,de,"f"),f)})},"_Music_fetchInfoFromVideoId"),nI=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!e)throw new g("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=u(this,Ph,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=gt(16),l=yield Promise.all([o,s]);return new xh(l,u(this,de,"f"),r)})},"_Music_fetchInfoFromListItem");var Pg=Ng;var Ah,Lt,sI,rI,aI,Ag=class{constructor(e){Ah.add(this),Lt.set(this,void 0),T(this,Lt,e,"f")}setThumbnail(e,i){return b(this,void 0,void 0,function*(){if(!u(this,Lt,"f").logged_in)throw new g("You must be signed in to perform this operation.");if(!e||!i)throw new en("One or more parameters are missing.");let o=be.encodeCustomThumbnailPayload(e,i);return yield u(this,Lt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return b(this,void 0,void 0,function*(){if(!u(this,Lt,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=be.encodeVideoMetadataPayload(e,i);return yield u(this,Lt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return b(this,void 0,void 0,function*(){if(!u(this,Lt,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ah,"m",sI).call(this),s=yield u(this,Ah,"m",rI).call(this,o.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new g("Could not process video.");return yield u(this,Ah,"m",aI).call(this,o,s,i)})}};n(Ag,"Studio");Lt=new WeakMap,Ah=new WeakSet,sI=n(function(){return b(this,void 0,void 0,function*(){let e=`innertube_android:${O.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${O.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield u(this,Lt,"f").http.fetch("/upload/youtubei",{baseURL:Te.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new g("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),rI=n(function(e,i){return b(this,void 0,void 0,function*(){let o=yield u(this,Lt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new g("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),aI=n(function(e,i,o){return b(this,void 0,void 0,function*(){return yield u(this,Lt,"f").actions.execute(Tn.PATH,Tn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Rg=Ag;var Qx={};j(Qx,{AccountManager:()=>Vg,InteractionManager:()=>Dg,PlaylistManager:()=>Bg});var ht,Mg=class{constructor(e){ht.set(this,void 0),T(this,ht,e,"f"),this.channel={editName:i=>{if(!u(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return u(this,ht,"f").execute(Ai.EditNameEndpoint.PATH,Ai.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!u(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return u(this,ht,"f").execute(Ai.EditDescriptionEndpoint.PATH,Ai.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return b(this,void 0,void 0,function*(){if(!u(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield u(this,ht,"f").execute(dn.AccountListEndpoint.PATH,dn.AccountListEndpoint.build());return new t0(e)})}getTimeWatched(){return b(this,void 0,void 0,function*(){let e=yield u(this,ht,"f").execute(F.PATH,F.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new k0(e)})}getSettings(){return b(this,void 0,void 0,function*(){let e=yield u(this,ht,"f").execute(F.PATH,F.build({browse_id:"SPaccount_overview"}));return new I0(u(this,ht,"f"),e)})}getAnalytics(){var e;return b(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield u(this,ht,"f").execute(F.PATH,F.build({browse_id:"FEanalytics_screen",params:be.encodeChannelAnalyticsParams((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new o0(o)})}};n(Mg,"AccountManager");ht=new WeakMap;var Vg=Mg;var Ye,Og=class{constructor(e){Ye.set(this,void 0),T(this,Ye,e,"f")}create(e,i){return b(this,void 0,void 0,function*(){if(oe({title:e,video_ids:i}),!u(this,Ye,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ye,"f").execute(xn.PATH,xn.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return b(this,void 0,void 0,function*(){if(oe({playlist_id:e}),!u(this,Ye,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let i=yield u(this,Ye,"f").execute(bn.PATH,bn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return b(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!u(this,Ye,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ye,"f").execute(Bt.PATH,Bt.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return b(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!u(this,Ye,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ye,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),s=new bi(u(this,Ye,"f"),o,!0);if(!s.info.is_editable)throw new g("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=n(f=>b(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(s),!r.actions.length)throw new g("Given video ids were not found in this playlist.",i);let p=yield u(this,Ye,"f").execute(Bt.PATH,Bt.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return b(this,void 0,void 0,function*(){if(oe({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!u(this,Ye,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let s=yield u(this,Ye,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),r=new bi(u(this,Ye,"f"),s,!0);if(!r.info.is_editable)throw new g("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,h=n(x=>b(this,void 0,void 0,function*(){let w=x.videos.find(S=>i===S.key("id").string()),I=x.videos.find(S=>o===S.key("id").string());if(p=p||(w==null?void 0:w.key("set_video_id").string()),f=f||(I==null?void 0:I.key("set_video_id").string()),!p||!f){let S=yield x.getContinuation();return h(S)}}),"getSetVideoIds");yield h(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield u(this,Ye,"f").execute(Bt.PATH,Bt.build(l));return{playlist_id:e,action_result:_.data.actions}})}};n(Og,"PlaylistManager");Ye=new WeakMap;var Bg=Og;var Fe,Lg=class{constructor(e){Fe.set(this,void 0),T(this,Fe,e,"f")}like(e){return b(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(hn.PATH,hn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return b(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(mn.PATH,mn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return b(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(_n.PATH,_n.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return b(this,void 0,void 0,function*(){if(oe({channel_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(yn.PATH,yn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return b(this,void 0,void 0,function*(){if(oe({channel_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(wn.PATH,wn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return b(this,void 0,void 0,function*(){if(oe({video_id:e,text:i}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(fn.PATH,fn.build({comment_text:i,create_comment_params:be.encodeCommentParams(e),client:"ANDROID"}))})}translate(e,i,o={}){return b(this,void 0,void 0,function*(){oe({text:e,target_language:i});let s=be.encodeCommentActionParams(22,Object.assign({text:e,target_language:i},o)),r=yield u(this,Fe,"f").execute(pn.PATH,pn.build({client:"ANDROID",actions:[s]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return b(this,void 0,void 0,function*(){if(oe({channel_id:e,type:i}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield u(this,Fe,"f").execute(gn.PATH,gn.build({client:"WEB",params:be.encodeNotificationPref(e,o[i.toUpperCase()])}))})}};n(Lg,"InteractionManager");Fe=new WeakMap;var Dg=Lg;var Je,br=class{constructor(e){Je.set(this,void 0),T(this,Je,e,"f")}static create(e={}){return b(this,void 0,void 0,function*(){return new br(yield $x.create(e))})}getInfo(e,i){var o,s,r,l,p;return b(this,void 0,void 0,function*(){oe({target:e});let f;if(e instanceof v)f=Ce.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ce.build({video_id:e});else throw new g("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new g("Video id cannot be empty",f);let h=Xe.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=u(this,Je,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Xe.PATH,h),x=this.actions.execute(Ce.PATH,f),w=yield Promise.all([_,x]),I=gt(16);return new fh(w,this.actions,I)})}getBasicInfo(e,i){var o;return b(this,void 0,void 0,function*(){oe({video_id:e});let s=yield this.actions.execute(Xe.PATH,Xe.build({video_id:e,client:i,sts:(o=u(this,Je,"f").player)===null||o===void 0?void 0:o.sts})),r=gt(16);return new fh([s],this.actions,r)})}search(e,i={}){return b(this,void 0,void 0,function*(){oe({query:e});let o=yield this.actions.execute(pt.PATH,pt.build({query:e,params:i?be.encodeSearchFilters(i):void 0}));return new T0(this.actions,o)})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){oe({query:e});let i=new URL(`${Te.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",u(this,Je,"f").context.client.hl),i.searchParams.set("gl",u(this,Je,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield u(this,Je,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return b(this,void 0,void 0,function*(){oe({video_id:e});let o=yield this.actions.execute(Ce.PATH,Ce.build({continuation:be.encodeCommentsSectionParams(e,{sort_by:i||"TOP_COMMENTS"})}));return new s0(this.actions,o.data)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEwhat_to_watch"}));return new At(this.actions,e)})}getGuide(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(gr.PATH);return new a0(e.data)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FElibrary"}));return new h0(this.actions,e)})}getHistory(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhistory"}));return new fs(this.actions,e)})}getTrending(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEtrending"})),{parse:!0}));return new as(this.actions,e)})}getSubscriptionsFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new fe(this.actions,e)})}getChannel(e){return b(this,void 0,void 0,function*(){oe({id:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new Ve(this.actions,i)})}getNotifications(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(un.PATH,un.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new w0(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,s;return b(this,void 0,void 0,function*(){let r=yield this.actions.execute(xr.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return b(this,void 0,void 0,function*(){oe({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new bi(this.actions,i)})}getHashtag(e){return b(this,void 0,void 0,function*(){oe({hashtag:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhashtag",params:be.encodeHashtag(e)}));return new ni(this.actions,i)})}getStreamingData(e,i={}){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return b(this,void 0,void 0,function*(){return(yield this.actions.execute(cn.PATH,Object.assign(Object.assign({},cn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Pg(u(this,Je,"f"))}get studio(){return new Rg(u(this,Je,"f"))}get kids(){return new Cg(u(this,Je,"f"))}get account(){return new Vg(u(this,Je,"f").actions)}get playlist(){return new Bg(u(this,Je,"f").actions)}get interact(){return new Dg(u(this,Je,"f").actions)}get actions(){return u(this,Je,"f").actions}get session(){return u(this,Je,"f")}};n(br,"Innertube");Je=new WeakMap;var Zx=br;var lI={};var uI=Zx;var cI="JsRuntime";function eb(t,e){Ee.debug(cI,`Evaluating JavaScript:
`,t);let i=new sn;for(let[s,r]of Object.entries(e))i.scope.set(s,r);let o=i.evaluate(t);return Ee.debug(cI,"Done. Result:",o),o}n(eb,"evaluate");var Rh,Fg,Yg,jg,Ug=class{constructor(e=!1,i){Rh.add(this),Fg.set(this,void 0),Yg.set(this,void 0),T(this,Fg,i||"","f"),T(this,Yg,e,"f")}get cache_dir(){return u(this,Yg,"f")?u(this,Fg,"f"):""}get(e){return b(this,void 0,void 0,function*(){let i=yield u(this,Rh,"m",jg).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return b(this,void 0,void 0,function*(){let o=yield u(this,Rh,"m",jg).call(this);if(!!o)return new Promise((s,r)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>s()})})}remove(e){return b(this,void 0,void 0,function*(){let i=yield u(this,Rh,"m",jg).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(Ug,"Cache");Fg=new WeakMap,Yg=new WeakMap,Rh=new WeakSet,jg=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");O.load({runtime:"browser",server:!1,info:{version:X0.version,bugs_url:X0.bugs.url,repo_url:X0.homepage.split("#")[0]},Cache:Ug,sha1Hash:Sx,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:eb,DOMParser:globalThis.DOMParser,serializeDOM(t){return new XMLSerializer().serializeToString(t)},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Mye=uI;export{Wx as Actions,eh as AppendContinuationItemsAction,Kx as ClientType,Xx as Clients,Se as Constants,ss as Continuation,qx as Endpoints,Tr as EventEmitter,Sr as FormatUtils,dx as Generator,Vo as GridContinuation,qg as HTTPClient,Jg as Helpers,Zx as Innertube,Po as ItemSectionContinuation,Oi as LZW,Oo as LiveChatContinuation,Ee as Log,Qx as Managers,Tx as Misc,gx as Mixins,Mo as MusicPlaylistShelfContinuation,xi as MusicShelfContinuation,Ao as NavigateAction,Gx as OAuth,d as Parser,O as Platform,rt as Player,th as PlaylistPanelContinuation,be as Proto,Ro as ReloadContinuationItemsCommand,ut as SectionListContinuation,$x as Session,lI as Types,fI as UniversalCache,Qg as Utils,xx as YT,wx as YTKids,yx as YTMusic,Zf as YTNodes,Mye as default};
//# sourceMappingURL=browser.min.js.map
