/* eslint-disable */
var Ng=Object.defineProperty;var n=(t,e)=>Ng(t,"name",{value:e,configurable:!0});var LT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j=(t,e)=>{for(var i in e)Ng(t,i,{get:e[i],enumerable:!0})};var kw=LT(()=>{var rs=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis;function Sw(t){try{new t}catch(e){return!1}return!0}n(Sw,"isConstructor");(typeof rs.Event!="function"||!Sw(rs.Event))&&(rs.Event=function(){function t(e,i){this.bubbles=!!i&&!!i.bubbles,this.cancelable=!!i&&!!i.cancelable,this.composed=!!i&&!!i.composed,this.type=e}return n(t,"Event"),t}());(typeof rs.EventTarget>"u"||!Sw(rs.Event))&&(rs.EventTarget=function(){function t(){this.__listeners=new Map}return n(t,"EventTarget"),t.prototype=Object.create(Object.prototype),t.prototype.addEventListener=function(e,i,o){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();s.has(r)||s.set(r,new Map);let u=s.get(r);u.has(i)||u.set(i,o)},t.prototype.removeEventListener=function(e,i,o){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();if(s.has(r)){let u=s.get(r);u.has(i)&&u.delete(i)}},t.prototype.dispatchEvent=function(e){if(!(e instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");let i=e.type,s=this.__listeners.get(i);if(s)for(let[r,u]of s.entries()){try{typeof r=="function"?r.call(this,e):r&&typeof r.handleEvent=="function"&&r.handleEvent(e)}catch(p){setTimeout(()=>{throw p})}u&&u.once&&s.delete(r)}return!0},t}())});function Rg(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Rg,"__setFunctionName");function x(t,e,i,o){function s(r){return r instanceof i?r:new i(function(u){u(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,u){function p(_){try{m(o.next(_))}catch(y){u(y)}}n(p,"fulfilled");function f(_){try{m(o.throw(_))}catch(y){u(y)}}n(f,"rejected");function m(_){_.done?r(_.value):s(_.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(x,"__awaiter");function Ag(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Ag,"__values");function lo(t){return this instanceof lo?(this.v=t,this):new lo(t)}n(lo,"__await");function Mg(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(b){o[b]&&(s[b]=function(S){return new Promise(function(k,E){r.push([b,S,k,E])>1||p(b,S)})})}function p(b,S){try{f(o[b](S))}catch(k){y(r[0][3],k)}}function f(b){b.value instanceof lo?Promise.resolve(b.value.v).then(m,_):y(r[0][2],b)}function m(b){p("next",b)}function _(b){p("throw",b)}function y(b,S){b(S),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(Mg,"__asyncGenerator");function Vg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Ag=="function"?Ag(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(u){return new Promise(function(p,f){u=t[r](u),s(p,f,u.done,u.value)})}}function s(r,u,p,f){Promise.resolve(f).then(function(m){r({value:m,done:p})},u)}}n(Vg,"__asyncValues");function l(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(l,"__classPrivateFieldGet");function T(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(T,"__classPrivateFieldSet");var X0={};j(X0,{ChannelError:()=>es,InnertubeError:()=>v,MissingParamError:()=>$o,OAuthError:()=>ai,ParsingError:()=>at,Platform:()=>V,PlayerError:()=>Rt,SessionError:()=>ks,base64ToU8:()=>P0,concatMemos:()=>D0,debugFetch:()=>p1,deepCompare:()=>Yf,escapeStringRegexp:()=>$0,generateRandomString:()=>gt,generateSidAuth:()=>q0,getRandomUserAgent:()=>qo,getStringBetweenStrings:()=>Ke,hasKeys:()=>d1,isTextRun:()=>Ge,streamToIterable:()=>U0,throwIfMissing:()=>oe,timeToSeconds:()=>Ue,u8ToBase64:()=>_t});var b0={};j(b0,{Maybe:()=>po,Memo:()=>Ri,SuperParsedResult:()=>Xt,YTNode:()=>a,observe:()=>ue});var y0,Og,Ne,pe,qt,pi,co,Bg=Symbol("ObservedArray.isObserved"),a=class{constructor(){y0.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>l(this,y0,"m",Og).call(this,i))}as(...e){if(!this.is(...e))throw new at(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new at(`Missing key ${e}`);return new po(this[e])}};n(a,"YTNode");y0=new WeakSet,Og=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var po=class{constructor(e){Ne.add(this),pe.set(this,void 0),T(this,pe,e,"f")}get typeof(){return typeof l(this,pe,"f")}string(){return l(this,Ne,"m",pi).call(this,"string")}isString(){return l(this,Ne,"m",qt).call(this,"string")}number(){return l(this,Ne,"m",pi).call(this,"number")}isNumber(){return l(this,Ne,"m",qt).call(this,"number")}bigint(){return l(this,Ne,"m",pi).call(this,"bigint")}isBigint(){return l(this,Ne,"m",qt).call(this,"bigint")}boolean(){return l(this,Ne,"m",pi).call(this,"boolean")}isBoolean(){return l(this,Ne,"m",qt).call(this,"boolean")}symbol(){return l(this,Ne,"m",pi).call(this,"symbol")}isSymbol(){return l(this,Ne,"m",qt).call(this,"symbol")}undefined(){return l(this,Ne,"m",pi).call(this,"undefined")}isUndefined(){return l(this,Ne,"m",qt).call(this,"undefined")}null(){if(l(this,pe,"f")!==null)throw new TypeError(`Expected null, got ${typeof l(this,pe,"f")}`);return l(this,pe,"f")}isNull(){return l(this,pe,"f")===null}object(){return l(this,Ne,"m",pi).call(this,"object")}isObject(){return l(this,Ne,"m",qt).call(this,"object")}function(){return l(this,Ne,"m",pi).call(this,"function")}isFunction(){return l(this,Ne,"m",qt).call(this,"function")}array(){if(!Array.isArray(l(this,pe,"f")))throw new TypeError(`Expected array, got ${typeof l(this,pe,"f")}`);return l(this,pe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new po(Reflect.get(i,o))}})}isArray(){return Array.isArray(l(this,pe,"f"))}node(){if(!(l(this,pe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${l(this,pe,"f").constructor.name}`);return l(this,pe,"f")}isNode(){return l(this,pe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof l(this,pe,"f")}`);return l(this,pe,"f")}isObserved(){var e;return(e=l(this,pe,"f"))===null||e===void 0?void 0:e[Bg]}parsed(){if(!(l(this,pe,"f")instanceof Xt))throw new TypeError(`Expected SuperParsedResult, got ${typeof l(this,pe,"f")}`);return l(this,pe,"f")}isParsed(){return l(this,pe,"f")instanceof Xt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),l(this,pe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${l(this,pe,"f").constructor.name}`);return l(this,pe,"f")}isInstanceof(e){return l(this,pe,"f")instanceof e}};n(po,"Maybe");pe=new WeakMap,Ne=new WeakSet,qt=n(function(e){return typeof l(this,pe,"f")===e},"_Maybe_checkPrimative"),pi=n(function(e){if(!l(this,Ne,"m",qt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return l(this,pe,"f")},"_Maybe_assertPrimative");var Xt=class{constructor(e){co.set(this,void 0),T(this,co,e,"f")}get is_null(){return l(this,co,"f")===null}get is_array(){return!this.is_null&&Array.isArray(l(this,co,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return l(this,co,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return l(this,co,"f")}};n(Xt,"SuperParsedResult");co=new WeakMap;function ue(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,u)=>{let p=Yf(o,r);return p&&s&&e.splice(u,1),p}):i==Bg?!0:i=="getAll"?(o,s)=>e.filter((r,u)=>{let p=Yf(o,r);return p&&s&&e.splice(u,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>ue(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ue(e.map(s=>{if(s.is(...o))return s;throw new at(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ue,"observe");var Ri=class extends Map{getType(...e){return e=e.flat(),ue(e.flatMap(i=>this.get(i.type)||[]))}};n(Ri,"Memo");var K0={};j(K0,{Author:()=>O,ChildElement:()=>Hh,EmojiRun:()=>Vi,Format:()=>Bi,Text:()=>c,TextRun:()=>Oi,Thumbnail:()=>w,VideoDetails:()=>Di});var ke={};j(ke,{CLIENTS:()=>se,INNERTUBE_HEADERS_BASE:()=>FT,OAUTH:()=>Mi,STREAM_HEADERS:()=>mr,URLS:()=>Te});var Te=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Mi=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),se=Object.freeze({WEB:{NAME:"WEB",VERSION:"2.20230104.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"7.07.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),mr=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),FT=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var _r=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(_r,"AudioOnlyPlayability");_r.type="AudioOnlyPlayability";var Uf=_r;var vr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(vr,"Button");vr.type="Button";var I=vr;var gr=class extends a{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};n(gr,"DropdownItem");gr.type="DropdownItem";var Wf=gr;var xr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=d.parseArray(e.entries,Wf)}};n(xr,"Dropdown");xr.type="Dropdown";var Tn=xr;var yr=class extends a{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=d.parseItem(e.privacyOption,Tn),this.create_button=d.parseItem(e.cancelButton,I),this.cancel_button=d.parseItem(e.cancelButton,I)}};n(yr,"CreatePlaylistDialog");yr.type="CreatePlaylistDialog";var Hf=yr;var br=class extends a{constructor(e){var i,o,s,r,u,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand);let _=Object.keys(e||{}).find(y=>y.endsWith("Endpoint")||y.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=d.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(u=e==null?void 0:e.commandMetadata)===null||u===void 0?void 0:u.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=d.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Hf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(br,"NavigationEndpoint");br.type="NavigationEndpoint";var g=br;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new w(i)).sort((i,o)=>o.width-i.width)}};n(w,"Thumbnail");var Vi=class{constructor(e){var i,o,s,r,u,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((u=e.emoji)===null||u===void 0?void 0:u.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Jf(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Vi,"EmojiRun");var Oi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Jf(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let u=this.endpoint.toURL();if(u)return`<a href="${u}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Oi,"TextRun");function Jf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Jf,"escape");var c=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(u=>u.emoji?new Vi(u):new Oi(u)),this.text=this.runs.map(u=>u.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(c,"Text");var wr=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(wr,"CardCollection");wr.type="CardCollection";var Gf=wr;var Tr=class extends a{constructor(e){super(),this.elements=d.parseArray(e.elements),this.start_ms=e.startMs}};n(Tr,"Endscreen");Tr.type="Endscreen";var zf=Tr;var Sr=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:d.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Sr,"PlayerAnnotationsExpanded");Sr.type="PlayerAnnotationsExpanded";var Kf=Sr;var kr=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};n(kr,"PlayerCaptionsTracklist");kr.type="PlayerCaptionsTracklist";var $f=kr;var Ir=class extends a{constructor(){super()}};n(Ir,"PlayerLiveStoryboardSpec");Ir.type="PlayerLiveStoryboardSpec";var qf=Ir;var Cr=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[u,p,f,m,_,y,b,S]=s.split("#");o.searchParams.set("sigh",S);let k=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",b),thumbnail_width:parseInt(u,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(y,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:k}})}};n(Cr,"PlayerStoryboardSpec");Cr.type="PlayerStoryboardSpec";var Xf=Cr;var Er=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(Er,"Message");Er.type="Message";var je=Er;var Pr=class extends a{constructor(e){super(),this.name=new c(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=d.parseArray(e.authorBadges)}};n(Pr,"LiveChatParticipant");Pr.type="LiveChatParticipant";var Qf=Pr;var Nr=class extends a{constructor(e){super(),this.title=new c(e.title),this.participants=d.parseArray(e.participants,Qf)}};n(Nr,"LiveChatParticipantsList");Nr.type="LiveChatParticipantsList";var Zf=Nr;var Ar=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Ar,"SortFilterSubMenu");Ar.type="SortFilterSubMenu";var fi=Ar;var Rr=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.top_level_buttons=d.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Rr,"Menu");Rr.type="Menu";var U=Rr;var Mr=class extends a{constructor(e){super(),this.overflow_menu=d.parseItem(e.overflowMenu,U),this.collapse_button=d.parseItem(e.collapseButton,I),this.view_selector=d.parseItem(e.viewSelector,fi)}};n(Mr,"LiveChatHeader");Mr.type="LiveChatHeader";var eh=Mr;var Vr=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=d.parseItem(e.moreCommentsBelowButton,I)}};n(Vr,"LiveChatItemList");Vr.type="LiveChatItemList";var th=Vr;var Or=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};n(Or,"Alert");Or.type="Alert";var ih=Or;var Br=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};n(Br,"MusicMultiSelectMenuItem");Br.type="MusicMultiSelectMenuItem";var Tt=Br;var Bi=class{constructor(e){var i,o,s,r,u,p,f,m;if(this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),y=new URLSearchParams(_.get("url")||this.url);this.language=((o=(i=y.get("xtags"))===null||i===void 0?void 0:i.split(":").find(b=>b.startsWith("lang=")))===null||o===void 0?void 0:o.split("=")[1])||null,this.is_dubbed=((r=(s=y.get("xtags"))===null||s===void 0?void 0:s.split(":").find(b=>b.startsWith("acont=")))===null||r===void 0?void 0:r.split("=")[1])==="dubbed",this.is_descriptive=((p=(u=y.get("xtags"))===null||u===void 0?void 0:u.split(":").find(b=>b.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1])==="descriptive",this.is_original=((m=(f=y.get("xtags"))===null||f===void 0?void 0:f.split(":").find(b=>b.startsWith("acont=")))===null||m===void 0?void 0:m.split("=")[1])==="original"||!this.is_dubbed,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(Bi,"Format");var Di=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Di,"VideoDetails");var tf={};j(tf,{AccountChannel:()=>oh,AccountItemSection:()=>sh,AccountItemSectionHeader:()=>nh,AccountSectionList:()=>rh,AddBannerToLiveChatCommand:()=>yy,AddChatItemAction:()=>mm,AddLiveChatTickerItemAction:()=>by,Alert:()=>ih,AnalyticsMainAppKeyMetrics:()=>Lg,AnalyticsRoot:()=>Fg,AnalyticsShortsCarouselCard:()=>jg,AnalyticsVideo:()=>lh,AnalyticsVodCarouselCard:()=>Yg,AnchoredSection:()=>w_,AppendContinuationItemsAction:()=>ah,AudioOnlyPlayability:()=>Uf,AuthorCommentBadge:()=>wh,AutomixPreviewVideo:()=>Li,BackstageImage:()=>ch,BackstagePost:()=>Fi,BackstagePostThread:()=>Hg,BrowseFeedActions:()=>ph,BrowserMediaSession:()=>Jg,Button:()=>I,C4TabbedHeader:()=>kn,CallToActionButton:()=>Gg,Card:()=>zg,CardCollection:()=>Gf,CarouselHeader:()=>mh,CarouselItem:()=>Kg,Channel:()=>_h,ChannelAboutFullMetadata:()=>vh,ChannelAgeGate:()=>$g,ChannelFeaturedContent:()=>qg,ChannelHeaderLinks:()=>fh,ChannelMetadata:()=>gh,ChannelMobileHeader:()=>Xg,ChannelOptions:()=>xh,ChannelSubMenu:()=>Ta,ChannelThumbnailWithLink:()=>Qg,ChannelVideoPlayer:()=>Zg,Chapter:()=>yh,ChildVideo:()=>ex,ChipCloud:()=>St,ChipCloudChip:()=>he,CollaboratorInfoCardContent:()=>tx,CollageHeroImage:()=>ix,Comment:()=>Pn,CommentActionButtons:()=>fo,CommentDialog:()=>Gx,CommentReplies:()=>Ah,CommentReplyDialog:()=>Th,CommentSimplebox:()=>Vh,CommentThread:()=>Oh,CommentsEntryPointHeader:()=>Mh,CommentsEntryPointTeaser:()=>Rh,CommentsHeader:()=>Nn,CompactChannel:()=>zx,CompactLink:()=>An,CompactMix:()=>Kx,CompactPlaylist:()=>$x,CompactStation:()=>qx,CompactVideo:()=>Bh,ConfirmDialog:()=>Xx,ContinuationItem:()=>Le,ConversationBar:()=>Qx,CopyLink:()=>Dh,CreatePlaylistDialog:()=>Hf,CreatorHeart:()=>dh,CtaGoToCreatorStudio:()=>Ug,DataModelSection:()=>uh,DecoratedPlayerBar:()=>Yh,DefaultPromoPanel:()=>Zx,DidYouMean:()=>Uh,DimChatItemAction:()=>wy,DownloadButton:()=>Wh,Dropdown:()=>Tn,DropdownItem:()=>Wf,Element:()=>Rn,EmergencyOnebox:()=>ey,EmojiPicker:()=>Nh,EmojiPickerCategory:()=>ty,EmojiPickerCategoryButton:()=>iy,EmojiPickerUpsellCategory:()=>oy,EndScreenPlaylist:()=>Jh,EndScreenVideo:()=>Gh,Endscreen:()=>zf,EndscreenElement:()=>ny,ExpandableMetadata:()=>$h,ExpandableTab:()=>On,ExpandedShelfContents:()=>sy,FeedFilterChipBar:()=>mi,FeedTabbedHeader:()=>Xh,GameCard:()=>Kh,GameDetails:()=>ry,Grid:()=>xo,GridChannel:()=>Qh,GridHeader:()=>ay,GridMix:()=>uy,GridMovie:()=>ly,GridPlaylist:()=>Zh,GridShow:()=>cy,GridVideo:()=>im,GuideCollapsibleEntry:()=>dy,GuideCollapsibleSectionEntry:()=>py,GuideDownloadsEntry:()=>fy,GuideEntry:()=>yo,GuideSection:()=>Bn,GuideSubscriptionsSection:()=>om,HashtagHeader:()=>nm,HeatMarker:()=>Lh,Heatmap:()=>Fh,HeroPlaylistThumbnail:()=>hy,HighlightsCarousel:()=>Xu,HistorySuggestion:()=>my,HorizontalCardList:()=>Vn,HorizontalList:()=>_y,HorizontalMovieList:()=>vy,IconLink:()=>rm,InfoPanelContainer:()=>gy,InfoPanelContent:()=>am,InteractiveTabbedHeader:()=>um,ItemSection:()=>me,ItemSectionHeader:()=>lm,ItemSectionTab:()=>cm,ItemSectionTabbedHeader:()=>dm,KidsCategoriesHeader:()=>T_,KidsCategoryTab:()=>Kn,KidsHomeScreen:()=>S_,LikeButton:()=>xy,LiveChat:()=>pm,LiveChatActionPanel:()=>vm,LiveChatAuthorBadge:()=>zy,LiveChatAutoModMessage:()=>Ty,LiveChatBanner:()=>hm,LiveChatBannerHeader:()=>fm,LiveChatBannerPoll:()=>Sy,LiveChatDialog:()=>Ky,LiveChatHeader:()=>eh,LiveChatItemList:()=>th,LiveChatMembershipItem:()=>ky,LiveChatMessageInput:()=>$y,LiveChatPaidMessage:()=>Iy,LiveChatPaidSticker:()=>Cy,LiveChatParticipant:()=>Qf,LiveChatParticipantsList:()=>Zf,LiveChatPlaceholderItem:()=>Ey,LiveChatProductItem:()=>Py,LiveChatRestrictedParticipation:()=>Ny,LiveChatTextMessage:()=>Ay,LiveChatTickerPaidMessageItem:()=>_m,LiveChatTickerPaidStickerItem:()=>Ry,LiveChatTickerSponsorItem:()=>My,LiveChatViewerEngagementMessage:()=>Vy,MacroMarkersListItem:()=>zh,MarkChatItemAsDeletedAction:()=>By,MarkChatItemsByAuthorAsDeletedAction:()=>Dy,Menu:()=>U,MenuNavigationItem:()=>qy,MenuServiceItem:()=>Dn,MenuServiceItemDownload:()=>Xy,MerchandiseItem:()=>eb,MerchandiseShelf:()=>Im,Message:()=>je,MetadataBadge:()=>tt,MetadataRow:()=>tb,MetadataRowContainer:()=>Cm,MetadataRowHeader:()=>ib,MetadataScreen:()=>ob,MicroformatData:()=>Zt,Mix:()=>nb,Movie:()=>sb,MovingThumbnail:()=>rb,MultiMarkersPlayerBar:()=>jh,MultiPageMenu:()=>Qy,MultiPageMenuNotificationSection:()=>Zy,MusicCardShelf:()=>Pm,MusicCardShelfHeaderBasic:()=>Em,MusicCarouselShelf:()=>Ee,MusicCarouselShelfBasicHeader:()=>Nm,MusicDescriptionShelf:()=>_i,MusicDetailHeader:()=>wo,MusicDownloadStateBadge:()=>mb,MusicEditablePlaylistDetailHeader:()=>Mm,MusicElementHeader:()=>Oc,MusicHeader:()=>Ui,MusicImmersiveHeader:()=>Vm,MusicInlineBadge:()=>Ln,MusicItemThumbnailOverlay:()=>ji,MusicLargeCardItemCarousel:()=>_b,MusicMenuItemDivider:()=>Tm,MusicMultiSelectMenu:()=>Sm,MusicMultiSelectMenuItem:()=>Tt,MusicNavigationButton:()=>jn,MusicPlayButton:()=>Fn,MusicPlaylistShelf:()=>To,MusicQueue:()=>Un,MusicResponsiveHeader:()=>vb,MusicResponsiveListItem:()=>Yi,MusicResponsiveListItemFixedColumn:()=>Am,MusicResponsiveListItemFlexColumn:()=>Rm,MusicShelf:()=>be,MusicSideAlignedItem:()=>Bm,MusicSortFilterButton:()=>qc,MusicTastebuilderShelf:()=>Lm,MusicTastebuilderShelfThumbnail:()=>Dm,MusicThumbnail:()=>ut,MusicTwoRowItem:()=>Yn,MusicVisualHeader:()=>Fm,NavigationEndpoint:()=>g,Notification:()=>jm,OpenPopupAction:()=>Dg,PageIntroduction:()=>Ym,PdgCommentChip:()=>Sh,PlayerAnnotationsExpanded:()=>Kf,PlayerCaptionsTracklist:()=>$f,PlayerErrorMessage:()=>gb,PlayerLegacyDesktopYpcOffer:()=>xb,PlayerLegacyDesktopYpcTrailer:()=>rd,PlayerLiveStoryboardSpec:()=>qf,PlayerMicroformat:()=>It,PlayerOverlay:()=>Wi,PlayerOverlayAutoplay:()=>Wm,PlayerStoryboardSpec:()=>Xf,Playlist:()=>Qt,PlaylistCustomThumbnail:()=>Jm,PlaylistHeader:()=>Gm,PlaylistInfoCardContent:()=>yb,PlaylistMetadata:()=>zm,PlaylistPanel:()=>ti,PlaylistPanelVideo:()=>vi,PlaylistPanelVideoWrapper:()=>Om,PlaylistSidebar:()=>bb,PlaylistSidebarPrimaryInfo:()=>Km,PlaylistSidebarSecondaryInfo:()=>$m,PlaylistVideo:()=>qm,PlaylistVideoList:()=>wb,PlaylistVideoThumbnail:()=>Xm,Poll:()=>Tb,PollHeader:()=>Oy,Post:()=>Qm,PostMultiImage:()=>Sb,ProfileColumn:()=>kb,ProfileColumnStats:()=>Zm,ProfileColumnStatsEntry:()=>Ib,ProfileColumnUserInfo:()=>e_,RecognitionShelf:()=>Cb,ReelItem:()=>t_,ReelShelf:()=>i_,RelatedChipCloud:()=>o_,RemoveBannerForLiveChatCommand:()=>Ly,RemoveChatItemAction:()=>Fy,RemoveChatItemByAuthorAction:()=>jy,ReplaceChatItemAction:()=>Yy,ReplayChatItemAction:()=>Uy,RichGrid:()=>Hi,RichItem:()=>Eb,RichListHeader:()=>Pb,RichMetadata:()=>Bd,RichMetadataRow:()=>Ld,RichSection:()=>Nb,RichShelf:()=>n_,SearchBox:()=>Ab,SearchFilter:()=>s_,SearchFilterGroup:()=>r_,SearchRefinementCard:()=>vo,SearchSubMenu:()=>a_,SearchSuggestion:()=>sm,SearchSuggestionsSection:()=>u_,SecondarySearchContainer:()=>Rb,SectionList:()=>Q,SegmentedLikeDislikeButton:()=>So,SettingBoolean:()=>Mb,SettingsCheckbox:()=>l_,SettingsOptions:()=>Hn,SettingsSidebar:()=>c_,SettingsSwitch:()=>Wn,SharedPost:()=>d_,Shelf:()=>Jn,ShowCustomThumbnail:()=>em,ShowLiveChatActionPanelAction:()=>Wy,ShowLiveChatDialogAction:()=>Hy,ShowLiveChatTooltipCommand:()=>Jy,ShowingResultsFor:()=>p_,SimpleCardContent:()=>Vb,SimpleCardTeaser:()=>Ob,SimpleMenuHeader:()=>km,SimpleTextSection:()=>Bb,SingleActionEmergencySupport:()=>Db,SingleColumnBrowseResults:()=>ii,SingleColumnMusicWatchNextResults:()=>Lb,SingleHeroImage:()=>Fb,SlimOwner:()=>jb,SlimVideoMetadata:()=>f_,SortFilterSubMenu:()=>fi,SponsorCommentBadge:()=>kh,StatRow:()=>Wg,SubFeedOption:()=>h_,SubFeedSelector:()=>Yb,SubscribeButton:()=>Ye,SubscriptionNotificationToggleButton:()=>hh,Tab:()=>_e,Tabbed:()=>Ub,TabbedSearchResults:()=>m_,TextHeader:()=>Wb,ThumbnailLandscapePortrait:()=>Hb,ThumbnailOverlayBottomPanel:()=>tm,ThumbnailOverlayEndorsement:()=>Jb,ThumbnailOverlayHoverText:()=>Gb,ThumbnailOverlayInlineUnplayable:()=>zb,ThumbnailOverlayLoadingPreview:()=>Kb,ThumbnailOverlayNowPlaying:()=>$b,ThumbnailOverlayPinking:()=>qb,ThumbnailOverlayPlaybackStatus:()=>Xb,ThumbnailOverlayResumePlayback:()=>Qb,ThumbnailOverlaySidePanel:()=>Zb,ThumbnailOverlayTimeStatus:()=>go,ThumbnailOverlayToggleButton:()=>ew,TimedMarkerDecoration:()=>tw,TitleAndButtonListHeader:()=>iw,ToggleButton:()=>Ae,ToggleMenuServiceItem:()=>ow,Tooltip:()=>nw,TopicChannelDetails:()=>sw,TwoColumnBrowseResults:()=>Ji,TwoColumnSearchResults:()=>__,TwoColumnWatchNextResults:()=>Gn,UniversalWatchCard:()=>g_,UpdateDateTextAction:()=>gm,UpdateDescriptionAction:()=>xm,UpdateLiveChatPollAction:()=>Gy,UpdateTitleAction:()=>ym,UpdateToggleButtonTextAction:()=>bm,UpdateViewershipAction:()=>wm,UpsellDialog:()=>rw,VerticalList:()=>aw,VerticalWatchCardList:()=>uw,Video:()=>Mn,VideoCard:()=>qh,VideoInfoCardContent:()=>lw,VideoOwner:()=>zn,VideoPrimaryInfo:()=>x_,VideoSecondaryInfo:()=>Jp,WatchCardCompactVideo:()=>y_,WatchCardHeroVideo:()=>dw,WatchCardRichHeader:()=>pw,WatchCardSectionSequence:()=>fw,WatchNextEndScreen:()=>Hm,WatchNextTabbedResults:()=>b_,YpcTrailer:()=>Um});var Dr=class extends a{constructor(e){super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint)}};n(Dr,"AccountChannel");Dr.type="AccountChannel";var oh=Dr;var Lr=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Lr,"AccountItemSectionHeader");Lr.type="AccountItemSectionHeader";var nh=Lr;var Fr=class extends a{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};n(Fr,"AccountItem");Fr.type="AccountItem";var jr=class extends a{constructor(e){super(),this.contents=ue(e.contents.map(i=>new Fr(i.accountItem))),this.header=d.parseItem(e.header,nh)}};n(jr,"AccountItemSection");jr.type="AccountItemSection";var sh=jr;var Yr=class extends a{constructor(e){super(),this.contents=d.parseItem(e.contents[0],sh),this.footers=d.parseItem(e.footers[0],oh)}};n(Yr,"AccountSectionList");Yr.type="AccountSectionList";var rh=Yr;var Ur=class extends a{constructor(e){super(),this.items=d.parse(e.continuationItems),this.target=e.target}};n(Ur,"AppendContinuationItemsAction");Ur.type="AppendContinuationItemsAction";var ah=Ur;var Wr=class extends a{constructor(e){super(),this.popup=d.parseItem(e.popup),this.popup_type=e.popupType}};n(Wr,"OpenPopupAction");Wr.type="OpenPopupAction";var Dg=Wr;var Hr=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Hr,"DataModelSection");Hr.type="DataModelSection";var uh=Hr;var Jr=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new uh(o))}};n(Jr,"AnalyticsMainAppKeyMetrics");Jr.type="AnalyticsMainAppKeyMetrics";var Lg=Jr;var Gr=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Gr,"AnalyticsRoot");Gr.type="AnalyticsRoot";var Fg=Gr;var zr=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};n(zr,"AnalyticsShortsCarouselCard");zr.type="AnalyticsShortsCarouselCard";var jg=zr;var Kr=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Kr,"AnalyticsVideo");Kr.type="AnalyticsVideo";var lh=Kr;var $r=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new lh(i)))}};n($r,"AnalyticsVodCarouselCard");$r.type="AnalyticsVodCarouselCard";var Yg=$r;var qr=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(qr,"CtaGoToCreatorStudio");qr.type="CtaGoToCreatorStudio";var Ug=qr;var Xr=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};n(Xr,"StatRow");Xr.type="StatRow";var Wg=Xr;var Qr=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Qr,"AutomixPreviewVideo");Qr.type="AutomixPreviewVideo";var Li=Qr;var Zr=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new g(e.command)}};n(Zr,"BackstageImage");Zr.type="BackstageImage";var ch=Zr;var ea=class extends a{constructor(e){var i,o,s,r,u,p,f,m;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let _=((s=(o=(i=e==null?void 0:e.defaultText)===null||i===void 0?void 0:i.accessibility)===null||o===void 0?void 0:o.accessibilityData)===null||s===void 0?void 0:s.label)||((u=(r=e==null?void 0:e.accessibilityData)===null||r===void 0?void 0:r.accessibilityData)===null||u===void 0?void 0:u.label)||((p=e==null?void 0:e.accessibility)===null||p===void 0?void 0:p.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(_.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=!((m=(f=e.defaultServiceEndpoint)===null||f===void 0?void 0:f.commandExecutorCommand)===null||m===void 0)&&m.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(ea,"ToggleButton");ea.type="ToggleButton";var Ae=ea;var ta=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(ta,"CreatorHeart");ta.type="CreatorHeart";var dh=ta;var ia=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,Ae),this.dislike_button=d.parseItem(e.dislikeButton,Ae),this.reply_button=d.parseItem(e.replyButton,I),this.creator_heart=d.parseItem(e.creatorHeart,dh)}};n(ia,"CommentActionButtons");ia.type="CommentActionButtons";var fo=ia;var oa=class extends a{constructor(e){super(),this.id=e.postId,this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=d.parseItem(e.actionMenu,U)),Reflect.has(e,"actionButtons")&&(this.action_buttons=d.parseItem(e.actionButtons,fo)),Reflect.has(e,"voteButton")&&(this.vote_button=d.parseItem(e.voteButton,fo)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=d.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(oa,"BackstagePost");oa.type="BackstagePost";var Fi=oa;var na=class extends a{constructor(e){super(),this.post=d.parseItem(e.post)}};n(na,"BackstagePostThread");na.type="BackstagePostThread";var Hg=na;var sa=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(sa,"BrowseFeedActions");sa.type="BrowseFeedActions";var ph=sa;var ra=class extends a{constructor(e){super(),this.album=new c(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};n(ra,"BrowserMediaSession");ra.type="BrowserMediaSession";var Jg=ra;var Sn=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new c(e.title)}};n(Sn,"HeaderLink");Sn.type="HeaderLink";var aa=class extends a{constructor(e){var i,o;super(),this.primary=ue(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new Sn(s)))||[]),this.secondary=ue(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new Sn(s)))||[])}};n(aa,"ChannelHeaderLinks");aa.type="ChannelHeaderLinks";var fh=aa;var ua=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:d.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ua,"SubscriptionNotificationToggleButton");ua.type="SubscriptionNotificationToggleButton";var hh=ua;var la=class extends a{constructor(e){var i,o;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=d.parseItem(e.notificationPreferenceButton,hh),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(la,"SubscribeButton");la.type="SubscribeButton";var Ye=la;var ca=class extends a{constructor(e){super(),this.author=new O({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=d.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=d.parseItem(e.subscribeButton,[Ye,I])),Reflect.has(e,"headerLinks")&&(this.header_links=d.parseItem(e.headerLinks,fh)),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};n(ca,"C4TabbedHeader");ca.type="C4TabbedHeader";var kn=ca;var da=class extends a{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(da,"CallToActionButton");da.type="CallToActionButton";var Gg=da;var pa=class extends a{constructor(e){super(),this.teaser=d.parseItem(e.teaser),this.content=d.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(pa,"Card");pa.type="Card";var zg=pa;var fa=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(fa,"CarouselHeader");fa.type="CarouselHeader";var mh=fa;var ha=class extends a{constructor(e){super(),this.items=d.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(ha,"CarouselItem");ha.type="CarouselItem";var Kg=ha;var ma=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,[Ye,I]),this.description_snippet=new c(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(ma,"Channel");ma.type="Channel";var _h=ma;var _a=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new g(s.navigationEndpoint),icon:w.fromResponse(s.icon),title:new c(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=d.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};n(_a,"ChannelAboutFullMetadata");_a.type="ChannelAboutFullMetadata";var vh=_a;var va=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=J.parseItem(e.signInButton,I),this.secondary_text=new c(e.secondaryText)}};n(va,"ChannelAgeGate");va.type="ChannelAgeGate";var $g=va;var ga=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items)}};n(ga,"ChannelFeaturedContent");ga.type="ChannelFeaturedContent";var qg=ga;var xa=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(xa,"ChannelMetadata");xa.type="ChannelMetadata";var gh=xa;var ya=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(ya,"ChannelMobileHeader");ya.type="ChannelMobileHeader";var Xg=ya;var ba=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};n(ba,"ChannelOptions");ba.type="ChannelOptions";var xh=ba;var wa=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=d.parseItem(e.sortSetting)}};n(wa,"ChannelSubMenu");wa.type="ChannelSubMenu";var Ta=wa;var Sa=class extends a{constructor(e){var i,o;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Sa,"ChannelThumbnailWithLink");Sa.type="ChannelThumbnailWithLink";var Qg=Sa;var ka=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(ka,"ChannelVideoPlayer");ka.type="ChannelVideoPlayer";var Zg=ka;var Ia=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};n(Ia,"Chapter");Ia.type="Chapter";var yh=Ia;var Ca=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:Ue(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};n(Ca,"ChildVideo");Ca.type="ChildVideo";var ex=Ca;var Ea=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"onDeselectedCommand")&&(this.deselect_endpoint=new g(e.onDeselectedCommand)),this.text=new c(e.text).toString()}};n(Ea,"ChipCloudChip");Ea.type="ChipCloudChip";var he=Ea;var Pa=class extends a{constructor(e){super(),this.chips=d.parseArray(e.chips,he),this.next_button=d.parseItem(e.nextButton,I),this.previous_button=d.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(Pa,"ChipCloud");Pa.type="ChipCloud";var St=Pa;var Na=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};n(Na,"CollaboratorInfoCardContent");Na.type="CollaboratorInfoCardContent";var tx=Na;var Aa=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};n(Aa,"CollageHeroImage");Aa.type="CollageHeroImage";var ix=Aa;var bh,Ra=class extends a{constructor(e){super(),bh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,bh,e,"f")}get orig_badge(){return l(this,bh,"f")}};n(Ra,"AuthorCommentBadge");bh=new WeakMap;Ra.type="AuthorCommentBadge";var wh=Ra;var Ma=class extends a{constructor(e){super(),this.reply_button=d.parseItem(e.replyButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};n(Ma,"CommentReplyDialog");Ma.type="CommentReplyDialog";var Th=Ma;var Va=class extends a{constructor(e){var i,o;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Va,"PdgCommentChip");Va.type="PdgCommentChip";var Sh=Va;var Oa=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Oa,"SponsorCommentBadge");Oa.type="SponsorCommentBadge";var kh=Oa;var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var B=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Ch(w0(this),Ih).toString(!1);let s=[],r=new B(i,o);for(;UT(r,jT);){let[u,p]=YT(r);s.push(p),r=u}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new B(0);if(e.length<10)return i<0?Ch(w0(new B(-i)),Ih):new B(i);let s=new B,r=Ih;for(let u of e.split("").reverse())parseInt(u)&&(s=Ch(s,ox(new B(parseInt(u)),r))),r=ox(r,new B(10));return o?Ch(w0(s),Ih):s}};n(B,"Long");var jT=new B(0),Ih=new B(1);function Eh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Eh,"makeChunk");function Ch(t,e){let[i,o,s,r]=Eh(t),[u,p,f,m]=Eh(e),_=0,y=0,b=0,S=0;return S+=i+u,b+=S>>>16,S&=65535,b+=o+p,y+=b>>>16,b&=65535,y+=s+f,_+=y>>>16,y&=65535,_+=r+m,_&=65535,new B(b<<16|S,_<<16|y)}n(Ch,"add");function ox(t,e){let[i,o,s,r]=Eh(t),[u,p,f,m]=Eh(e),_=0,y=0,b=0,S=0;return S+=i*u,b+=S>>>16,S&=65535,b+=i*p+o*u,y+=b>>>16,b&=65535,y+=i*f+s*u+o*p,_+=y>>>16,y&=65535,_+=i*m+o*f+s*p+r*u,_&=65535,new B(b<<16|S,_<<16|y)}n(ox,"mul");function YT(t){let[e,i]=t;return[new B((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(YT,"divByTen");function UT(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(UT,"compare");function w0(t){let[e,i]=t;return new B(~e,~i)}n(w0,"negate");function In(t){let e=[],s=typeof t=="number"?new B(t):t;for(;s[0]||s[1];){let[r,u]=s,p=r&127,f=u>>>7,m=r>>>7|(u&127)<<32-7;s=new B(m,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(In,"encode");function Cn(t){let e=new B(0),i=0;for(;;){let o=t.getUint8(i);if(e=WT(e,HT(new B(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Cn,"decode");function WT(t,e){return new B(t[0]|e[0],t[1]|e[1])}n(WT,"or");function HT(t,e){return e===0?t:e>=32?new B(0,t[0]<<e-32):new B(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(HT,"leftshift");function A(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(In(i<<3|o.type)),o.type){case N.Varint:e.push(In(o.value));break;case N.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case N.LengthDelimited:e.push(In(o.value.byteLength)),e.push(o.value);break;case N.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),T0(e)}n(A,"serialize");function T0(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(T0,"concat");function S0(t){if(t instanceof B){let e=new B(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(S0,"encode");function k0(t){if(t instanceof B){let e=new B(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(k0,"decode");var I0={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>k0(t[0]),sint64:t=>k0(t).toString(!0),bool:t=>t[0]!==0},C0={int32:t=>new B(t),int64:t=>B.parse(t),uint32:t=>new B(t),uint64:t=>B.parse(t),sint32:t=>S0(new B(t)),sint64:t=>S0(B.parse(t)),bool:t=>new B(+t)},JT=Object.fromEntries(Object.entries(I0).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),GT=Object.fromEntries(Object.entries(C0).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),G=Object.assign(Object.assign({},JT),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},GT),{double:t=>{let e=new B;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:B.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:B.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),zT=Object.fromEntries(Object.keys(I0).map(t=>[t,function*(e){for(let i of e){let o=G[t](i);if(o!=null)yield o;else for(let s of XT(i))yield I0[t](s)}}])),HN=Object.assign(Object.assign({},zT),{*double(t){for(let e of t){let i=G.double(e);i!=null?yield i:yield*$T(e)}},*float(t){for(let e of t){let i=G.float(e);i!=null?yield i:yield*qT(e)}},*fixed32(t){for(let e of t){let i=G.fixed32(e);if(i!=null)yield i;else for(let o of nx(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=G.fixed64(e);if(i!=null)yield i;else for(let o of sx(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=G.sfixed32(e);if(i!=null)yield i;else for(let o of nx(e))yield o|0}},*sfixed64(t){for(let e of t){let i=G.sfixed64(e);if(i!=null)yield i;else for(let o of sx(e))yield o.toString(!0)}}}),KT=Object.fromEntries(Object.keys(C0).map(t=>[t,function(e){return{type:N.LengthDelimited,value:T0(e.map(i=>{let o=C0[t](i);return In(o)}))}}]));function En(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let u=0;u<o.length;++u)e(r,u*t,o[u]);return{type:N.LengthDelimited,value:s}},"pack")}n(En,"getFixedPackFn");var JN=Object.assign(Object.assign({},KT),{double:En(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:En(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:En(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:En(8,(t,e,i)=>{let o=B.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:En(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:En(8,(t,e,i)=>{let o=B.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*$T(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n($T,"unpackDouble");function*qT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(qT,"unpackFloat");function*XT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=Cn(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(XT,"unpackVarint");function*nx(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(nx,"unpackFixed32");function*sx(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new B(s,r)}}n(sx,"unpackFixed64");function z(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=Cn(new DataView(t.buffer,i+e)),u=r[1][0];e+=r[0];let p=u&7,f=u>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[y,b]=Cn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:b}]),e+=y;break}case N.Fixed64:let m=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new B(m,_)}]);break;case N.LengthDelimited:{let[y,b]=Cn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=y,e+=b[0])}]);break}case N.StartGroup:case N.EndGroup:o.push([f,{type:p}]);break;case N.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(z,"deserialize");function QT(){return{id:"",timestamp:0}}n(QT,"getDefaultValue");function rx(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return A(e)}n(rx,"encodeBinary");function ax(t){let e=QT(),i=z(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=G.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=G.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(ax,"decodeBinary");function ux(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return A(e)}n(ux,"encodeBinary");function lx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:ux(i)}])}return A(e)}n(lx,"encodeBinary");function cx(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return A(e)}n(cx,"encodeBinary");function dx(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:cx(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return A(e)}n(dx,"encodeBinary");function px(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return A(e)}n(px,"encodeBinary");function fx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:px(i)}])}return A(e)}n(fx,"encodeBinary");function hx(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:fx(i)}])}return A(e)}n(hx,"encodeBinary");function mx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}n(mx,"encodeBinary");function _x(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:mx(i)}])}return A(e)}n(_x,"encodeBinary");function vx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:_x(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return A(e)}n(vx,"encodeBinary");function gx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}n(gx,"encodeBinary");function xx(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return A(e)}n(xx,"encodeBinary");function yx(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:xx(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return A(e)}n(yx,"encodeBinary");function bx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return A(e)}n(bx,"encodeBinary");function wx(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:yx(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:bx(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return A(e)}n(wx,"encodeBinary");function Tx(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:gx(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:wx(i)}])}return A(e)}n(Tx,"encodeBinary");function Sx(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}n(Sx,"encodeBinary");function kx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Sx(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return A(e)}n(kx,"encodeBinary");function Ix(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(Ix,"encodeBinary");function Cx(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:Ix(i)}])}return A(e)}n(Cx,"encodeBinary");function Ex(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:Cx(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return A(e)}n(Ex,"encodeBinary");function Px(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Ex(i)}])}return A(e)}n(Px,"encodeBinary");function Nx(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}n(Nx,"encodeBinary");function Ax(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:Nx(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return A(e)}n(Ax,"encodeBinary");function Rx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return A(e)}n(Rx,"encodeBinary");function Mx(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Rx(i)}])}return A(e)}n(Mx,"encodeBinary");function Vx(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(Vx,"encodeBinary");function Ox(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(Ox,"encodeBinary");function Bx(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return A(e)}n(Bx,"encodeBinary");function Dx(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return A(e)}n(Dx,"encodeBinary");function Lx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return A(e)}n(Lx,"encodeBinary");function Fx(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return A(e)}n(Fx,"encodeBinary");function jx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:Fx(i)}])}return A(e)}n(jx,"encodeBinary");function Yx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return A(e)}n(Yx,"encodeBinary");function Ux(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}n(Ux,"encodeBinary");function Wx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}n(Wx,"encodeBinary");function E0(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:Mx(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:Vx(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:Ox(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:Bx(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:Dx(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:Lx(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:jx(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:Yx(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:Ux(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:Wx(i)}])}return A(e)}n(E0,"encodeBinary");function Hx(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return A(e)}n(Hx,"encodeBinary");function Jx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:Hx(i)}])}return A(e)}n(Jx,"encodeBinary");var Ph=class{static encodeVisitorData(e,i){let o=rx({id:e,timestamp:i});return encodeURIComponent(_t(o).replace(/\+/g,"-").replace(/\//g,"_"))}static decodeVisitorData(e){return ax(P0(decodeURIComponent(e)))}static encodeChannelAnalyticsParams(e){let i=lx({params:{channelId:e}});return encodeURIComponent(_t(i))}static encodeSearchFilters(e){let i={all:void 0,hour:1,today:2,week:3,month:4,year:5},o={all:void 0,video:1,channel:2,playlist:3,movie:4},s={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},u={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},p={};if(e?p.filters={}:p.noFilter=0,p.filters&&(e.upload_date&&(p.filters.uploadDate=i[e.upload_date]),e.type&&(p.filters.type=o[e.type]),e.duration&&(p.filters.duration=s[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(p.sortBy=r[e.sort_by]),e.features))for(let m of e.features)p.filters[u[m]]=1;let f=dx(p);return encodeURIComponent(_t(f))}static encodeMusicSearchFilters(e){var i;let o={filters:{type:{}}};e.type&&e.type!=="all"&&((i=o.filters)===null||i===void 0?void 0:i.type)&&(o.filters.type[e.type]=1);let s=hx(o);return encodeURIComponent(_t(s))}static encodeMessageParams(e,i){let o=vx({params:{ids:{channelId:e,videoId:i}},number0:1,number1:4});return btoa(encodeURIComponent(_t(o)))}static encodeCommentsSectionParams(e,i={}){let s=Tx({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i.sort_by||"TOP_COMMENTS"],type:i.type||2},target:"comments-section"}});return encodeURIComponent(_t(s))}static encodeCommentParams(e){let i=kx({videoId:e,params:{index:0},number:7});return encodeURIComponent(_t(i))}static encodeCommentActionParams(e,i={}){let o={type:e,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete o.unkNum,o.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let s=Px(o);return encodeURIComponent(_t(s))}static encodeNotificationPref(e,i){let o=Ax({channelId:e,prefId:{index:i},number0:0,number1:4});return encodeURIComponent(_t(o))}static encodeVideoMetadataPayload(e,i){let o={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(i,"title")&&(o.title={text:i.title||""}),Reflect.has(i,"description")&&(o.description={text:i.description||""}),Reflect.has(i,"license")&&(o.license={type:i.license||""}),Reflect.has(i,"tags")&&(o.tags={list:i.tags||[]}),Reflect.has(i,"category")&&(o.category={id:i.category||0}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":o.privacy={type:1};break;case"UNLISTED":o.privacy={type:2};break;case"PRIVATE":o.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(i,"made_for_kids")&&(o.madeForKids={unkparam:1,choice:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(o.ageRestricted={unkparam:1,choice:i.age_restricted?1:2}),E0(o)}static encodeCustomThumbnailPayload(e,i){let o={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:i}}};return E0(o)}static encodeHashtag(e){let i=Jx({params:{hashtag:e,type:1}});return encodeURIComponent(_t(i))}};n(Ph,"Proto");var ye=Ph;var kt,Ba=class extends a{constructor(e){var i,o,s,r,u,p,f;super(),kt.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=d.parseItem(e.sponsorCommentBadge,kh),this.paid_comment_chip=d.parseItem(e.paidCommentChipRenderer,Sh),this.author_badge=d.parseItem(e.authorCommentBadge,wh),this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=d.parseItem(e.actionMenu,U),this.action_buttons=d.parseItem(e.actionButtons,fo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((u=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||u===void 0)&&u.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return x(this,void 0,void 0,function*(){if(!l(this,kt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(l(this,kt,"f"),{parse:!1})})}dislike(){var e;return x(this,void 0,void 0,function*(){if(!l(this,kt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(l(this,kt,"f"),{parse:!1})})}reply(e){var i,o,s;return x(this,void 0,void 0,function*(){if(!l(this,kt,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(Th).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(l(this,kt,"f"),{commentText:e})})}translate(e){var i,o,s,r,u,p;return x(this,void 0,void 0,function*(){if(!l(this,kt,"f"))throw new v("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=ye.encodeCommentActionParams(22,m),y=yield l(this,kt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),b=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,S=(p=(u=(r=(s=b==null?void 0:b[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||u===void 0?void 0:u.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:S})})}setActions(e){T(this,kt,e,"f")}};n(Ba,"Comment");kt=new WeakMap;Ba.type="Comment";var Pn=Ba;var Da=class extends a{constructor(e){super(),this.id=e.id,this.categories=d.parseArray(e.categories),this.category_buttons=d.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Da,"EmojiPicker");Da.type="EmojiPicker";var Nh=Da;var La=class extends a{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=d.parseItem(e.submitButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.placeholder=new c(e.placeholderText),this.emoji_button=d.parseItem(e.emojiButton,I),this.emoji_picker=d.parseItem(e.emojiPicker,Nh)}};n(La,"CommentDialog");La.type="CommentDialog";var Gx=La;var Fa=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),this.view_replies=d.parseItem(e.viewReplies,I),this.hide_replies=d.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Fa,"CommentReplies");Fa.type="CommentReplies";var Ah=Fa;var ja=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};n(ja,"CommentsEntryPointTeaser");ja.type="CommentsEntryPointTeaser";var Rh=ja;var Ya=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=J.parseItem(e.contentRenderer,Rh)),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};n(Ya,"CommentsEntryPointHeader");Ya.type="CommentsEntryPointHeader";var Mh=Ya;var Ua=class extends a{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=d.parseItem(e.createRenderer),this.sort_menu=d.parseItem(e.sortMenu,fi),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(Ua,"CommentsHeader");Ua.type="CommentsHeader";var Nn=Ua;var Wa=class extends a{constructor(e){super(),this.submit_button=d.parseItem(e.submitButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};n(Wa,"CommentSimplebox");Wa.type="CommentSimplebox";var Vh=Wa;var Ha=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,I)),this.endpoint=new g(e.continuationEndpoint)}};n(Ha,"ContinuationItem");Ha.type="ContinuationItem";var Le=Ha;var hi,ho,Ja=class extends a{constructor(e){super(),hi.set(this,void 0),ho.set(this,void 0),this.comment=d.parseItem(e.comment,Pn),this.comment_replies_data=d.parseItem(e.replies,Ah),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return x(this,void 0,void 0,function*(){if(!l(this,hi,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(Le);if(!i)throw new v("Replies continuation not found.");let o=yield i.endpoint.call(l(this,hi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ue(o.on_response_received_endpoints_memo.getType(Pn).map(s=>(s.setActions(l(this,hi,"f")),s))),T(this,ho,o==null?void 0:o.on_response_received_endpoints_memo.getType(Le).first(),"f"),this})}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!l(this,ho,"f"))throw new v("Continuation not found.");if(!l(this,hi,"f"))throw new v("Actions instance not set for this thread.");let i=(e=l(this,ho,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new v('"Load more" button not found.');let o=yield i.endpoint.call(l(this,hi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ue(o.on_response_received_endpoints_memo.getType(Pn).map(s=>(s.setActions(l(this,hi,"f")),s))),T(this,ho,o.on_response_received_endpoints_memo.getType(Le).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!l(this,ho,"f")}setActions(e){T(this,hi,e,"f")}};n(Ja,"CommentThread");hi=new WeakMap,ho=new WeakMap;Ja.type="CommentThread";var Oh=Ja;var Ga=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=d.parseItem(e.menu,U)}};n(Ga,"CompactChannel");Ga.type="CompactChannel";var zx=Ga;var za=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};n(za,"CompactLink");za.type="CompactLink";var An=za;var Ka=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):new O(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=d.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=d.parseItem(e.menu),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};n(Ka,"Playlist");Ka.type="Playlist";var Qt=Ka;var $a=class extends Qt{constructor(e){super(e)}};n($a,"CompactMix");$a.type="CompactMix";var Kx=$a;var qa=class extends Qt{constructor(e){super(e)}};n(qa,"CompactPlaylist");qa.type="CompactPlaylist";var $x=qa;var Xa=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Xa,"CompactStation");Xa.type="CompactStation";var qx=Xa;var Qa=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Qa,"MetadataBadge");Qa.type="MetadataBadge";var tt=Qa;var Za=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parse(e.richThumbnail)),this.title=new c(e.title),this.author=new O(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=d.parseArray(e.badges,tt),this.duration={text:new c(e.lengthText).toString(),seconds:Ue(new c(e.lengthText).toString())},this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Za,"CompactVideo");Za.type="CompactVideo";var Bh=Za;var eu=class extends a{constructor(e){super(),this.title=new c(e.title),this.confirm_button=d.parseItem(e.confirmButton,I),this.cancel_button=d.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(eu,"ConfirmDialog");eu.type="ConfirmDialog";var Xx=eu;var tu=class extends a{constructor(e){super(),this.availability_message=d.parseItem(e.availabilityMessage,je)}};n(tu,"ConversationBar");tu.type="ConversationBar";var Qx=tu;var iu=class extends a{constructor(e){super(),this.copy_button=d.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(iu,"CopyLink");iu.type="CopyLink";var Dh=iu;var ou=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(ou,"HeatMarker");ou.type="HeatMarker";var Lh=ou;var nu=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=d.parseArray(e.heatMarkers,Lh),this.heat_markers_decorations=d.parseArray(e.heatMarkersDecorations)}};n(nu,"Heatmap");nu.type="Heatmap";var Fh=nu;var su=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=d.parseItem(e.value.heatmap,Fh)),Reflect.has(e.value,"chapters")&&(this.value.chapters=d.parseArray(e.value.chapters,yh)))}};n(su,"Marker");su.type="Marker";var ru=class extends a{constructor(e){var i;super(),this.markers_map=ue(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new su(o)))||[])}};n(ru,"MultiMarkersPlayerBar");ru.type="MultiMarkersPlayerBar";var jh=ru;var au=class extends a{constructor(e){super(),this.player_bar=d.parseItem(e.playerBar,jh),this.player_bar_action_button=d.parseItem(e.playerBarActionButton,I)}};n(au,"DecoratedPlayerBar");au.type="DecoratedPlayerBar";var Yh=au;var uu=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=d.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=d.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(uu,"DefaultPromoPanel");uu.type="DefaultPromoPanel";var Zx=uu;var lu=class extends a{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(lu,"DidYouMean");lu.type="DidYouMean";var Uh=lu;var cu=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};n(cu,"DownloadButton");cu.type="DownloadButton";var Wh=cu;var mo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new mo(o)))}};n(mo,"ChildElement");mo.type="ChildElement";var Hh=mo;var _o=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return d.parseItem(e,_o);let o=e.newElement.type.componentType;this.model=d.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ue(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new Hh(s)))||[]))}};n(_o,"Element");_o.type="Element";var Rn=_o;var du=class extends a{constructor(e){super(),this.title=new c(e.title),this.first_option=d.parseItem(e.firstOption),this.menu=d.parseItem(e.menu,U)}};n(du,"EmergencyOnebox");du.type="EmergencyOnebox";var ey=du;var pu=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(pu,"EmojiPickerCategory");pu.type="EmojiPickerCategory";var ty=pu;var fu=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(fu,"EmojiPickerCategoryButton");fu.type="EmojiPickerCategoryButton";var iy=fu;var hu=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};n(hu,"EmojiPickerUpsellCategory");hu.type="EmojiPickerUpsellCategory";var oy=hu;var mu=class extends a{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=d.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(mu,"EndscreenElement");mu.type="EndscreenElement";var ny=mu;var _u=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};n(_u,"EndScreenPlaylist");_u.type="EndScreenPlaylist";var Jh=_u;var vu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=d.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(vu,"EndScreenVideo");vu.type="EndScreenVideo";var Gh=vu;var gu=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new c(e.query).toString()}};n(gu,"SearchRefinementCard");gu.type="SearchRefinementCard";var vo=gu;var xu=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(xu,"MacroMarkersListItem");xu.type="MacroMarkersListItem";var zh=xu;var yu=class extends a{constructor(e){super(),this.game=d.parseItem(e.game)}};n(yu,"GameCard");yu.type="GameCard";var Kh=yu;var bu=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};n(bu,"ThumbnailOverlayTimeStatus");bu.type="ThumbnailOverlayTimeStatus";var go=bu;var wu=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(u=>({text:new c(u.snippetText),hover_text:new c(u.snippetHoverText)}))),this.expandable_metadata=d.parseItem(e.expandableMetadata,$h),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parseItem(e.richThumbnail)),this.author=new O(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=d.parseArray(e.badges,tt),this.endpoint=new g(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:Ue(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=d.parseItem(e.menu,U),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(wu,"Video");wu.type="Video";var Mn=wu;var Tu=class extends Mn{constructor(e){super(e)}};n(Tu,"VideoCard");Tu.type="VideoCard";var qh=Tu;var Su=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards,[vo,zh,Kh,qh]),this.header=d.parseItem(e.header),this.previous_button=d.parseItem(e.previousButton,I),this.next_button=d.parseItem(e.nextButton,I)}};n(Su,"HorizontalCardList");Su.type="HorizontalCardList";var Vn=Su;var ku=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=d.parseItem(e.expandedContent,Vn),this.expand_button=d.parseItem(e.expandButton,I),this.collapse_button=d.parseItem(e.collapseButton,I)}};n(ku,"ExpandableMetadata");ku.type="ExpandableMetadata";var $h=ku;var Iu=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=d.parseItem(e.content)}};n(Iu,"ExpandableTab");Iu.type="ExpandableTab";var On=Iu;var Cu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Cu,"ExpandedShelfContents");Cu.type="ExpandedShelfContents";var sy=Cu;var Eu=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents,he)}};n(Eu,"FeedFilterChipBar");Eu.type="FeedFilterChipBar";var mi=Eu;var Pu=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Pu,"FeedTabbedHeader");Pu.type="FeedTabbedHeader";var Xh=Pu;var Nu=class extends a{constructor(e){super(),this.title=new c(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Nu,"GameDetails");Nu.type="GameDetails";var ry=Nu;var Au=class extends a{constructor(e){var i,o,s;super(),this.items=d.parseArray(e.items),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n(Au,"Grid");Au.type="Grid";var xo=Au;var Ru=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton)}};n(Ru,"GridChannel");Ru.type="GridChannel";var Qh=Ru;var Mu=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Mu,"GridHeader");Mu.type="GridHeader";var ay=Mu;var Vu=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new c(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Vu,"GridMix");Vu.type="GridMix";var uy=Vu;var Ou=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):o!=null&&o.text?new c(o.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges,tt),this.metadata=new c(e.metadata),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Ou,"GridMovie");Ou.type="GridMovie";var ly=Ou;var Bu=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new O(e.shortBylineText,e.ownerBadges)),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};n(Bu,"GridPlaylist");Bu.type="GridPlaylist";var Zh=Bu;var Du=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Du,"ShowCustomThumbnail");Du.type="ShowCustomThumbnail";var em=Du;var Lu=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Lu,"ThumbnailOverlayBottomPanel");Lu.type="ThumbnailOverlayBottomPanel";var tm=Lu;var Fu=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=J.parseItem(e.thumbnailRenderer,em),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=J.parseArray(e.thumbnailOverlays,tm),this.author=new O(e.shortBylineText,void 0)}};n(Fu,"GridShow");Fu.type="GridShow";var cy=Fu;var ju=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.rich_thumbnail=d.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):s!=null&&s.text?new c(s.text):null,this.author=e.shortBylineText&&new O(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,U),Reflect.has(e,"buttons")&&(this.buttons=d.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(ju,"GridVideo");ju.type="GridVideo";var im=ju;var Yu=class extends a{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Yu,"GuideEntry");Yu.type="GuideEntry";var yo=Yu;var Uu=class extends a{constructor(e){super(),this.expander_item=J.parseItem(e.expanderItem,yo),this.collapser_item=J.parseItem(e.collapserItem,yo),this.expandable_items=J.parseArray(e.expandableItems)}};n(Uu,"GuideCollapsibleEntry");Uu.type="GuideCollapsibleEntry";var dy=Uu;var Wu=class extends a{constructor(e){super(),this.header_entry=J.parseItem(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=J.parseArray(e.sectionItems)}};n(Wu,"GuideCollapsibleSectionEntry");Wu.type="GuideCollapsibleSectionEntry";var py=Wu;var Hu=class extends yo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Hu,"GuideDownloadsEntry");Hu.type="GuideDownloadsEntry";var fy=Hu;var Ju=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=J.parseArray(e.items)}};n(Ju,"GuideSection");Ju.type="GuideSection";var Bn=Ju;var Gu=class extends Bn{};n(Gu,"GuideSubscriptionsSection");Gu.type="GuideSubscriptionsSection";var om=Gu;var zu=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};n(zu,"HashtagHeader");zu.type="HashtagHeader";var nm=zu;var Ku=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};n(Ku,"HeroPlaylistThumbnail");Ku.type="HeroPlaylistThumbnail";var hy=Ku;var $u=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};n($u,"Panel");$u.type="Panel";var qu=class extends a{constructor(e){super(),this.panels=ue(e.highlightsCarousel.panels.map(i=>new $u(i)))}};n(qu,"HighlightsCarousel");qu.type="HighlightsCarousel";var Xu=qu;var Qu=class extends a{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};n(Qu,"SearchSuggestion");Qu.type="SearchSuggestion";var sm=Qu;var Zu=class extends sm{constructor(e){super(e)}};n(Zu,"HistorySuggestion");Zu.type="HistorySuggestion";var my=Zu;var el=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=d.parseArray(e.items)}get contents(){return this.items}};n(el,"HorizontalList");el.type="HorizontalList";var _y=el;var tl=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.previous_button=d.parseItem(e.previousButton,I),this.next_button=d.parseItem(e.nextButton,I)}get contents(){return this.items}};n(tl,"HorizontalMovieList");tl.type="HorizontalMovieList";var vy=tl;var il=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};n(il,"IconLink");il.type="IconLink";var rm=il;var ol=class extends a{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),this.paragraphs=e.paragraphs.map(i=>new c(i)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(ol,"InfoPanelContent");ol.type="InfoPanelContent";var am=ol;var nl=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.menu=d.parseItem(e.menu,U),this.content=d.parseItem(e.content,am),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(nl,"InfoPanelContainer");nl.type="InfoPanelContainer";var gy=nl;var sl=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=d.parseArray(e.badges,tt),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=d.parseArray(e.buttons,[Ye,I]),this.auto_generated=new c(e.autoGenerated)}};n(sl,"InteractiveTabbedHeader");sl.type="InteractiveTabbedHeader";var um=sl;var rl=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(rl,"ItemSectionHeader");rl.type="ItemSectionHeader";var lm=rl;var al=class extends a{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};n(al,"ItemSectionTab");al.type="Tab";var cm=al;var ul=class extends a{constructor(e){super(),this.title=new c(e.title),this.tabs=d.parseArray(e.tabs,cm),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(ul,"ItemSectionTabbedHeader");ul.type="ItemSectionTabbedHeader";var dm=ul;var ll=class extends a{constructor(e){var i,o,s;super(),this.header=d.parseItem(e.header,[Nn,lm,dm]),this.contents=d.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(ll,"ItemSection");ll.type="ItemSection";var me=ll;var cl=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};n(cl,"LikeButton");cl.type="LikeButton";var xy=cl;var dl=class extends a{constructor(e){var i,o;super(),this.header=d.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(dl,"LiveChat");dl.type="LiveChat";var pm=dl;var pl=class extends a{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(pl,"LiveChatBannerHeader");pl.type="LiveChatBannerHeader";var fm=pl;var fl=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,fm),this.contents=d.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(fl,"LiveChatBanner");fl.type="LiveChatBanner";var hm=fl;var hl=class extends a{constructor(e){super(),this.banner=d.parseItem(e.bannerRenderer,hm)}};n(hl,"AddBannerToLiveChatCommand");hl.type="AddBannerToLiveChatCommand";var yy=hl;var ml=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(ml,"AddChatItemAction");ml.type="AddChatItemAction";var mm=ml;var _l=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),this.duration_sec=e.durationSec}};n(_l,"AddLiveChatTickerItemAction");_l.type="AddLiveChatTickerItemAction";var by=_l;var vl=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(vl,"DimChatItemAction");vl.type="DimChatItemAction";var wy=vl;var gl=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=d.parseArray(e.moderationButtons,I),this.auto_moderated_item=d.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(gl,"LiveChatAutoModMessage");gl.type="LiveChatAutoModMessage";var Ty=gl;var xl=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(xl,"LiveChatBannerPoll");xl.type="LiveChatBannerPoll";var Sy=xl;var yl=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(yl,"LiveChatMembershipItem");yl.type="LiveChatMembershipItem";var ky=yl;var bl=class extends a{constructor(e){super(),this.message=new c(e.message),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};n(bl,"LiveChatPaidMessage");bl.type="LiveChatPaidMessage";var Iy=bl;var wl=class extends a{constructor(e){super(),this.id=e.id,this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(wl,"LiveChatPaidSticker");wl.type="LiveChatPaidSticker";var Cy=wl;var Tl=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Tl,"LiveChatPlaceholderItem");Tl.type="LiveChatPlaceholderItem";var Ey=Tl;var Sl=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=d.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=d.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};n(Sl,"LiveChatProductItem");Sl.type="LiveChatProductItem";var Py=Sl;var kl=class extends a{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(kl,"LiveChatRestrictedParticipation");kl.type="LiveChatRestrictedParticipation";var Ny=kl;var bo=class extends a{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=d.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(bo,"LiveChatMessageBase");bo.type="LiveChatMessageBase";var Il=class extends bo{constructor(e){super(e),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Il,"LiveChatTextMessage");Il.type="LiveChatTextMessage";var Ay=Il;var Cl=class extends a{constructor(e){var i,o;super(),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=d.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};n(Cl,"LiveChatTickerPaidMessageItem");Cl.type="LiveChatTickerPaidMessageItem";var _m=Cl;var El=class extends _m{};n(El,"LiveChatTickerPaidStickerItem");El.type="LiveChatTickerPaidStickerItem";var Ry=El;var Pl=class extends a{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new O(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Pl,"LiveChatTickerSponsorItem");Pl.type="LiveChatTickerSponsorItem";var My=Pl;var Nl=class extends bo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=d.parseItem(e.actionButton)}};n(Nl,"LiveChatViewerEngagementMessage");Nl.type="LiveChatViewerEngagementMessage";var Vy=Nl;var Al=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=d.parseItem(e.contextMenuButton,I)}};n(Al,"PollHeader");Al.type="PollHeader";var Oy=Al;var Rl=class extends a{constructor(e){super(),this.id=e.id,this.contents=d.parse(e.contents),this.target_id=e.targetId}};n(Rl,"LiveChatActionPanel");Rl.type="LiveChatActionPanel";var vm=Rl;var Ml=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Ml,"MarkChatItemAsDeletedAction");Ml.type="MarkChatItemAsDeletedAction";var By=Ml;var Vl=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Vl,"MarkChatItemsByAuthorAsDeletedAction");Vl.type="MarkChatItemsByAuthorAsDeletedAction";var Dy=Vl;var Ol=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Ol,"RemoveBannerForLiveChatCommand");Ol.type="RemoveBannerForLiveChatCommand";var Ly=Ol;var Bl=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Bl,"RemoveChatItemAction");Bl.type="RemoveChatItemAction";var Fy=Bl;var Dl=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Dl,"RemoveChatItemByAuthorAction");Dl.type="RemoveChatItemByAuthorAction";var jy=Dl;var Ll=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=d.parseItem(e.replacementItem)}};n(Ll,"ReplaceChatItemAction");Ll.type="ReplaceChatItemAction";var Yy=Ll;var Fl=class extends a{constructor(e){var i;super(),this.actions=d.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Fl,"ReplayChatItemAction");Fl.type="ReplayChatItemAction";var Uy=Fl;var jl=class extends a{constructor(e){super(),this.panel_to_show=d.parseItem(e.panelToShow,vm)}};n(jl,"ShowLiveChatActionPanelAction");jl.type="ShowLiveChatActionPanelAction";var Wy=jl;var Yl=class extends a{constructor(e){super(),this.dialog=d.parseItem(e.dialog)}};n(Yl,"ShowLiveChatDialogAction");Yl.type="ShowLiveChatDialogAction";var Hy=Yl;var Ul=class extends a{constructor(e){super(),this.tooltip=d.parseItem(e.tooltip)}};n(Ul,"ShowLiveChatTooltipCommand");Ul.type="ShowLiveChatTooltipCommand";var Jy=Ul;var Wl=class extends a{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};n(Wl,"UpdateDateTextAction");Wl.type="UpdateDateTextAction";var gm=Wl;var Hl=class extends a{constructor(e){super(),this.description=new c(e.description)}};n(Hl,"UpdateDescriptionAction");Hl.type="UpdateDescriptionAction";var xm=Hl;var Jl=class extends a{constructor(e){super(),this.poll_to_update=d.parseItem(e.pollToUpdate)}};n(Jl,"UpdateLiveChatPollAction");Jl.type="UpdateLiveChatPollAction";var Gy=Jl;var Gl=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Gl,"UpdateTitleAction");Gl.type="UpdateTitleAction";var ym=Gl;var zl=class extends a{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};n(zl,"UpdateToggleButtonTextAction");zl.type="UpdateToggleButtonTextAction";var bm=zl;var Kl=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.is_live=i.isLive}};n(Kl,"UpdateViewershipAction");Kl.type="UpdateViewershipAction";var wm=Kl;var $l=class extends tt{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};n($l,"LiveChatAuthorBadge");$l.type="LiveChatAuthorBadge";var zy=$l;var ql=class extends a{constructor(e){super(),this.confirm_button=d.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(ql,"LiveChatDialog");ql.type="LiveChatDialog";var Ky=ql;var Xl=class extends a{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=d.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(Xl,"LiveChatMessageInput");Xl.type="LiveChatMessageInput";var $y=Xl;var Ql=class extends I{constructor(e){super(e)}};n(Ql,"MenuNavigationItem");Ql.type="MenuNavigationItem";var qy=Ql;var Zl=class extends I{constructor(e){super(e)}};n(Zl,"MenuServiceItem");Zl.type="MenuServiceItem";var Dn=Zl;var ec=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};n(ec,"MenuServiceItemDownload");ec.type="MenuServiceItemDownload";var Xy=ec;var tc=class extends a{constructor(e){super(),this.header=d.parse(e.header),this.sections=d.parse(e.sections),this.style=e.style}};n(tc,"MultiPageMenu");tc.type="MultiPageMenu";var Qy=tc;var ic=class extends a{constructor(e){super(),this.items=d.parse(e.items)}get contents(){return this.items}};n(ic,"MultiPageMenuNotificationSection");ic.type="MultiPageMenuNotificationSection";var Zy=ic;var oc=class extends a{constructor(e){super()}};n(oc,"MusicMenuItemDivider");oc.type="MusicMenuItemDivider";var Tm=oc;var nc=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=d.parseArray(e.options,[Tt,Tm])}};n(nc,"MusicMultiSelectMenu");nc.type="MusicMultiSelectMenu";var Sm=nc;var sc=class extends a{constructor(e){super(),this.title=new c(e.title),this.buttons=d.parse(e.buttons)}};n(sc,"SimpleMenuHeader");sc.type="SimpleMenuHeader";var km=sc;var rc=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};n(rc,"MerchandiseItem");rc.type="MerchandiseItem";var eb=rc;var ac=class extends a{constructor(e){super(),this.title=e.title,this.menu=d.parseItem(e.actionButton),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(ac,"MerchandiseShelf");ac.type="MerchandiseShelf";var Im=ac;var uc=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};n(uc,"MetadataRow");uc.type="MetadataRow";var tb=uc;var lc=class extends a{constructor(e){super(),this.rows=d.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(lc,"MetadataRowContainer");lc.type="MetadataRowContainer";var Cm=lc;var cc=class extends a{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};n(cc,"MetadataRowHeader");cc.type="MetadataRowHeader";var ib=cc;var dc=class extends a{constructor(e){super(),this.section_list=d.parseItem(e)}};n(dc,"MetadataScreen");dc.type="MetadataScreen";var ob=dc;var pc=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(pc,"MicroformatData");pc.type="MicroformatData";var Zt=pc;var fc=class extends Qt{constructor(e){super(e)}};n(fc,"Mix");fc.type="Mix";var nb=fc;var hc=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:Ue(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=d.parseItem(e.menu,U)}};n(hc,"Movie");hc.type="Movie";var sb=hc;var mc=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,s)=>s.width-o.width)}};n(mc,"MovingThumbnail");mc.type="MovingThumbnail";var rb=mc;var _c=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(_c,"MusicCardShelfHeaderBasic");_c.type="MusicCardShelfHeaderBasic";var Em=_c;var vc=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(vc,"MusicInlineBadge");vc.type="MusicInlineBadge";var Ln=vc;var gc=class extends a{constructor(e){var i,o;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(gc,"MusicPlayButton");gc.type="MusicPlayButton";var Fn=gc;var xc=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,Fn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(xc,"MusicItemThumbnailOverlay");xc.type="MusicItemThumbnailOverlay";var ji=xc;var yc=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};n(yc,"MusicThumbnail");yc.type="MusicThumbnail";var ut=yc;var bc=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,ut),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=d.parseArray(e.buttons,I),this.menu=d.parseItem(e.menu,U),this.on_tap=new g(e.onTap),this.header=d.parseItem(e.header,Em),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=d.parseArray(e.subtitleBadges,Ln),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,ji),Reflect.has(e,"contents")&&(this.contents=d.parseArray(e.contents))}};n(bc,"MusicCardShelf");bc.type="MusicCardShelf";var Pm=bc;var wc=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,ut)),Reflect.has(e,"moreContentButton")&&(this.more_content=d.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=d.parseArray(e.endIcons,rm))}};n(wc,"MusicCarouselShelfBasicHeader");wc.type="MusicCarouselShelfBasicHeader";var Nm=wc;var Tc=class extends a{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new g(e.clickCommand),Reflect.has(e,"iconStyle")&&Reflect.has(e.iconStyle,"icon")&&Reflect.has(e.iconStyle.icon,"iconType")&&(this.icon_type=e.iconStyle.icon.iconType)}};n(Tc,"MusicNavigationButton");Tc.type="MusicNavigationButton";var jn=Tc;var Sc=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(Sc,"MusicResponsiveListItemFixedColumn");Sc.type="musicResponsiveListItemFlexColumnRenderer";var Am=Sc;var kc=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(kc,"MusicResponsiveListItemFlexColumn");kc.type="MusicResponsiveListItemFlexColumn";var Rm=kc;var ei,Ic,lb,cb,ab,ub,db,pb,fb,hb,Cc=class extends a{constructor(e){var i,o,s,r,u,p;switch(super(),ei.add(this),Ic.set(this,void 0),this.flex_columns=d.parseArray(e.flexColumns,Rm),this.fixed_columns=d.parseArray(e.fixedColumns,Am),T(this,Ic,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),this.endpoint=e.navigationEndpoint?new g(e.navigationEndpoint):null,(p=(u=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||u===void 0?void 0:u.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",l(this,ei,"m",fb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",l(this,ei,"m",hb).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",l(this,ei,"m",db).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",l(this,ei,"m",pb).call(this);break;default:this.flex_columns[1]?l(this,ei,"m",cb).call(this):l(this,ei,"m",lb).call(this);break}e.index&&(this.index=new c(e.index)),this.thumbnail=d.parseItem(e.thumbnail,ut),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu,U),this.overlay=d.parseItem(e.overlay,ji)}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Cc,"MusicResponsiveListItem");Ic=new WeakMap,ei=new WeakSet,lb=n(function(){this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),cb=n(function(){var e,i;((i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",l(this,ei,"m",ub).call(this)):(this.item_type="song",l(this,ei,"m",ab).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),ab=n(function(){var e,i,o,s,r,u,p,f,m,_,y,b,S,k,E;this.id=l(this,Ic,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let P=((r=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(F=>/^\d+$/.test(F.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(u=this.fixed_columns.first())===null||u===void 0?void 0:u.key("title").instanceof(c))===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:Ue(P)});let M=((m=(f=this.flex_columns[1])===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(F=>Ge(F)&&F.endpoint&&(F.endpoint.payload.browseId.startsWith("MPR")||F.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))))||((y=(_=this.flex_columns[2])===null||_===void 0?void 0:_.key("title").instanceof(c).runs)===null||y===void 0?void 0:y.find(F=>Ge(F)&&F.endpoint&&(F.endpoint.payload.browseId.startsWith("MPR")||F.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))));M&&Ge(M)&&(this.album={id:(S=(b=M.endpoint)===null||b===void 0?void 0:b.payload)===null||S===void 0?void 0:S.browseId,name:M.text,endpoint:M.endpoint});let W=(E=(k=this.flex_columns[1])===null||k===void 0?void 0:k.key("title").instanceof(c).runs)===null||E===void 0?void 0:E.filter(F=>Ge(F)&&F.endpoint&&(F.endpoint.payload.browseId.startsWith("UC")||F.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));W&&(this.artists=W.map(F=>{var le,xe;return{name:F.text,channel_id:Ge(F)?(xe=(le=F.endpoint)===null||le===void 0?void 0:le.payload)===null||xe===void 0?void 0:xe.browseId:void 0,endpoint:Ge(F)?F.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),ub=n(function(){var e,i,o,s,r,u,p,f,m,_;this.id=l(this,Ic,"f").video_id,this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c),this.views=(o=(i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.find(S=>S.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let y=(r=(s=this.flex_columns[1])===null||s===void 0?void 0:s.key("title").instanceof(c).runs)===null||r===void 0?void 0:r.filter(S=>Ge(S)&&S.endpoint&&(S.endpoint.payload.browseId.startsWith("UC")||S.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));y&&(this.authors=y.map(S=>{var k,E;return{name:S.text,channel_id:Ge(S)?(E=(k=S.endpoint)===null||k===void 0?void 0:k.payload)===null||E===void 0?void 0:E.browseId:void 0,endpoint:Ge(S)?S.endpoint:void 0}}));let b=((p=(u=this.flex_columns[1].key("title").instanceof(c).runs)===null||u===void 0?void 0:u.find(S=>/^\d+$/.test(S.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(S=>/^\d+$/.test(S.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);b&&(this.duration={text:b,seconds:Ue(b)})},"_MusicResponsiveListItem_parseVideo"),db=n(function(){var e,i,o,s,r,u;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c),this.subscribers=((u=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||u===void 0?void 0:u.text)||""},"_MusicResponsiveListItem_parseArtist"),pb=n(function(){var e,i,o,s;this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c),this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),fb=n(function(){var e,i,o,s,r,u,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let _=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(y=>Ge(y)&&y.endpoint&&(y.endpoint.payload.browseId.startsWith("UC")||y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&Ge(_)&&(this.author={name:_.text,channel_id:(u=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||u===void 0?void 0:u.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns[1])===null||p===void 0?void 0:p.key("title").instanceof(c).runs)===null||f===void 0?void 0:f.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),hb=n(function(){var e,i,o,s,r,u,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let m=(s=(o=this.flex_columns[1])===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(y=>y.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(u=(r=this.flex_columns[1])===null||r===void 0?void 0:r.key("title").instanceof(c).runs)===null||u===void 0?void 0:u.find(y=>Ge(y)&&y.endpoint&&(y.endpoint.payload.browseId.startsWith("UC")||y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&Ge(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Cc.type="MusicResponsiveListItem";var Yi=Cc;var Ec=class extends a{constructor(e){var i,o,s,r,u,p,f,m,_,y,b,S,k,E,P,M,W,F,le,xe,Ve,Oe;switch(super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new c(e.subtitle),this.badges=d.parse(e.subtitleBadges),(m=(f=(p=(u=this.endpoint)===null||u===void 0?void 0:u.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((y=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||y===void 0?void 0:y.api_url)==="/next"?this.item_type="endpoint":!((b=this.subtitle.runs)===null||b===void 0)&&b[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(q=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(q.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let q=(E=this.subtitle.runs)===null||E===void 0?void 0:E.find(K=>K.text.match(/\d+ songs|song/));this.item_count=q?q.text:null}else if(this.item_type=="album"){let q=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(K=>{var te,ee;return(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId.startsWith("UC")});q&&(this.artists=q.map(K=>{var te,ee;return{name:K.text,channel_id:(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId,endpoint:K.endpoint}})),this.year=(M=this.subtitle.runs)===null||M===void 0?void 0:M.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((F=(W=this===null||this===void 0?void 0:this.subtitle.runs)===null||W===void 0?void 0:W.find(K=>K==null?void 0:K.text.match(/(.*?) views/)))===null||F===void 0?void 0:F.text)||"N/A";let q=(le=this.subtitle.runs)===null||le===void 0?void 0:le.find(K=>{var te,ee,Ze;return(Ze=(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId)===null||Ze===void 0?void 0:Ze.startsWith("UC")});q&&(this.author={name:q==null?void 0:q.text,channel_id:(Ve=(xe=q==null?void 0:q.endpoint)===null||xe===void 0?void 0:xe.payload)===null||Ve===void 0?void 0:Ve.browseId,endpoint:q==null?void 0:q.endpoint})}else if(this.item_type=="song"){let q=(Oe=this.subtitle.runs)===null||Oe===void 0?void 0:Oe.filter(K=>{var te,ee;return(ee=(te=K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId.startsWith("UC")});q&&(this.artists=q.map(K=>{var te,ee;return{name:K==null?void 0:K.text,channel_id:(ee=(te=K==null?void 0:K.endpoint)===null||te===void 0?void 0:te.payload)===null||ee===void 0?void 0:ee.browseId,endpoint:K==null?void 0:K.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,ji),this.menu=d.parseItem(e.menu,U)}};n(Ec,"MusicTwoRowItem");Ec.type="MusicTwoRowItem";var Yn=Ec;var Pc=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Nm),this.contents=d.parseArray(e.contents,[Yn,Yi,jn]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Pc,"MusicCarouselShelf");Pc.type="MusicCarouselShelf";var Ee=Pc;var Nc=class extends a{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};n(Nc,"MusicDescriptionShelf");Nc.type="MusicDescriptionShelf";var _i=Nc;var Ac=class extends a{constructor(e){var i,o,s,r,u,p,f,m,_;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(u=this.second_subtitle.runs)===null||u===void 0?void 0:u[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=d.parseArray(e.subtitleBadges);let y=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(b=>{var S,k,E,P;return((k=(S=b==null?void 0:b.endpoint)===null||S===void 0?void 0:S.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC"))||((P=(E=b==null?void 0:b.endpoint)===null||E===void 0?void 0:E.payload)===null||P===void 0?void 0:P.browseId.startsWith("FEmusic_library_privately_owned_artist"))});y&&(this.author={name:y.text,channel_id:(_=(m=y.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:y.endpoint}),this.menu=d.parseItem(e.menu)}};n(Ac,"MusicDetailHeader");Ac.type="MusicDetailHeader";var wo=Ac;var Rc=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Rc,"MusicDownloadStateBadge");Rc.type="MusicDownloadStateBadge";var mb=Rc;var Mc=class extends a{constructor(e){super(),this.header=d.parseItem(e.header)}};n(Mc,"MusicEditablePlaylistDetailHeader");Mc.type="MusicEditablePlaylistDetailHeader";var Mm=Mc;var Vc=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?d.parseItem(e,Rn):null}};n(Vc,"MusicElementHeader");Vc.type="MusicElementHeader";var Oc=Vc;var Bc=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};n(Bc,"MusicHeader");Bc.type="MusicHeader";var Ui=Bc;var Dc=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=d.parseItem(e.thumbnail,ut),this.play_button=d.parseItem(e.playButton,I),this.start_radio_button=d.parseItem(e.startRadioButton,I)}};n(Dc,"MusicImmersiveHeader");Dc.type="MusicImmersiveHeader";var Vm=Dc;var Lc=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Lc,"ActionButton");Lc.type="ActionButton";var Fc=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Lc(i))}};n(Fc,"Panel");Fc.type="Panel";var jc=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Fc(i))}};n(jc,"MusicLargeCardItemCarousel");jc.type="MusicLargeCardItemCarousel";var _b=jc;var Yc=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=d.parseArray(e.contents,Yi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(Yc,"MusicPlaylistShelf");Yc.type="MusicPlaylistShelf";var To=Yc;var Uc=class extends a{constructor(e){var i,o,s,r,u;super(),this.title=new c(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:Ue(new c(e.lengthText).toString())};let p=(i=new c(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,y,b,S,k,E;return((b=(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId)===null||b===void 0?void 0:b.startsWith("MPR"))||((E=(k=(S=m.endpoint)===null||S===void 0?void 0:S.payload)===null||k===void 0?void 0:k.browseId)===null||E===void 0?void 0:E.startsWith("FEmusic_library_privately_owned_release"))}),f=(o=new c(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var _,y,b,S,k,E;return((b=(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId)===null||b===void 0?void 0:b.startsWith("UC"))||((E=(k=(S=m.endpoint)===null||S===void 0?void 0:S.payload)===null||k===void 0?void 0:k.browseId)===null||E===void 0?void 0:E.startsWith("FEmusic_library_privately_owned_artist"))});this.author=new c(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(u=new c(e.longBylineText).runs)===null||u===void 0?void 0:u.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,y;return{name:m.text,channel_id:(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId,endpoint:m.endpoint}})),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId,this.long_by_line_text=new c(e.longBylineText)}};n(Uc,"PlaylistPanelVideo");Uc.type="PlaylistPanelVideo";var vi=Uc;var Wc=class extends a{constructor(e){super(),this.primary=d.parseItem(e.primaryRenderer,vi),Reflect.has(e,"counterpart")&&(this.counterpart=ue(e.counterpart.map(i=>d.parseItem(i.counterpartRenderer,vi))||[]))}};n(Wc,"PlaylistPanelVideoWrapper");Wc.type="PlaylistPanelVideoWrapper";var Om=Wc;var Hc=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=d.parseArray(e.contents,[Om,vi,Li]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Hc,"PlaylistPanel");Hc.type="PlaylistPanel";var ti=Hc;var Jc=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,ti)}};n(Jc,"MusicQueue");Jc.type="MusicQueue";var Un=Jc;var Gc=class extends a{constructor(e){super(),this.thumbnail=J.parseItem(e.thumbnail,ut),this.buttons=J.parseArray(e.buttons,[Wh,Ae,Fn,I,U]),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.strapline_text_one=new c(e.straplineTextOne),this.strapline_thumbnail=J.parseItem(e.straplineThumbnail,ut),this.second_subtitle=new c(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=J.parseArray(e.subtitleBadge,Ln)),Reflect.has(e,"description")&&(this.description=J.parseItem(e.description,_i))}};n(Gc,"MusicResponsiveHeader");Gc.type="MusicResponsiveHeader";var vb=Gc;var zc=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents,Yi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=d.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=d.parseArray(e.subheaders))}};n(zc,"MusicShelf");zc.type="MusicShelf";var be=zc;var Kc=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=d.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(Kc,"MusicSideAlignedItem");Kc.type="MusicSideAlignedItem";var Bm=Kc;var $c=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=d.parseItem(e.menu,Sm)}};n($c,"MusicSortFilterButton");$c.type="MusicSortFilterButton";var qc=$c;var Xc=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Xc,"MusicTastebuilderShelfThumbnail");Xc.type="MusicTastebuilderShelfThumbnail";var Dm=Xc;var Qc=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,Dm),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=d.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(Qc,"MusicTasteBuilderShelf");Qc.type="MusicTasteBuilderShelf";var Lm=Qc;var Zc=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=d.parseItem(e.menu,U),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Zc,"MusicVisualHeader");Zc.type="MusicVisualHeader";var Fm=Zc;var ed=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=d.parseItem(e.contextualMenu),this.read=e.read}};n(ed,"Notification");ed.type="Notification";var jm=ed;var td=class extends a{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(td,"PageIntroduction");td.type="PageIntroduction";var Ym=td;var id=class extends a{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=d.parseItem(e.proceedButton,I),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(id,"PlayerErrorMessage");id.type="PlayerErrorMessage";var gb=id;var od=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(od,"PlayerLegacyDesktopYpcOffer");od.type="PlayerLegacyDesktopYpcOffer";var xb=od;var nd=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(nd,"YpcTrailer");nd.type="YpcTrailer";var Um=nd;var sd=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=J.parseItem(e.ypcTrailer,Um)}};n(sd,"PlayerLegacyDesktopYpcTrailer");sd.type="PlayerLegacyDesktopYpcTrailer";var rd=sd;var ad=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(ad,"PlayerMicroformat");ad.type="PlayerMicroformat";var It=ad;var ud=class extends a{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.byline),this.cancel_button=d.parseItem(e.cancelButton,I),this.next_button=d.parseItem(e.nextButton,I),this.close_button=d.parseItem(e.closeButton,I)}};n(ud,"PlayerOverlayAutoplay");ud.type="PlayerOverlayAutoplay";var Wm=ud;var ld=class extends a{constructor(e){super(),this.results=d.parseArray(e.results,[Gh,Jh]),this.title=new c(e.title).toString()}};n(ld,"WatchNextEndScreen");ld.type="WatchNextEndScreen";var Hm=ld;var cd=class extends a{constructor(e){super(),this.end_screen=d.parseItem(e.endScreen,Hm),this.autoplay=d.parseItem(e.autoplay,Wm),this.share_button=d.parseItem(e.shareButton,I),this.add_to_menu=d.parseItem(e.addToMenu,U),this.fullscreen_engagement=d.parseItem(e.fullscreenEngagement),this.actions=d.parseArray(e.actions),this.browser_media_session=d.parseItem(e.browserMediaSession),this.decorated_player_bar=d.parseItem(e.decoratedPlayerBarRenderer,Yh)}};n(cd,"PlayerOverlay");cd.type="PlayerOverlay";var Wi=cd;var dd=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(dd,"PlaylistCustomThumbnail");dd.type="PlaylistCustomThumbnail";var Jm=dd;var pd=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=new O(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null),this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=d.parseItem(e.saveButton),this.shuffle_play_button=d.parseItem(e.shufflePlayButton),this.menu=d.parseItem(e.moreActionsMenu),this.banner=d.parseItem(e.playlistHeaderBanner)}};n(pd,"PlaylistHeader");pd.type="PlaylistHeader";var Gm=pd;var fd=class extends a{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new g(e.action)}};n(fd,"PlaylistInfoCardContent");fd.type="PlaylistInfoCardContent";var yb=fd;var hd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(hd,"PlaylistMetadata");hd.type="PlaylistMetadata";var zm=hd;var md=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(md,"PlaylistSidebar");md.type="PlaylistSidebar";var bb=md;var _d=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=d.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new c(e.description)}};n(_d,"PlaylistSidebarPrimaryInfo");_d.type="PlaylistSidebarPrimaryInfo";var Km=_d;var vd=class extends a{constructor(e){super(),this.owner=d.parseItem(e.videoOwner),this.button=d.parseItem(e.button)}};n(vd,"PlaylistSidebarSecondaryInfo");vd.type="PlaylistSidebarSecondaryInfo";var $m=vd;var gd=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new O(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=d.parseItem(e.menu,U),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(gd,"PlaylistVideo");gd.type="PlaylistVideo";var qm=gd;var xd=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=d.parseArray(e.contents)}};n(xd,"PlaylistVideoList");xd.type="PlaylistVideoList";var wb=xd;var yd=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(yd,"PlaylistVideoThumbnail");yd.type="PlaylistVideoThumbnail";var Xm=yd;var bd=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(bd,"Poll");bd.type="Poll";var Tb=bd;var wd=class extends Fi{constructor(e){super(e)}};n(wd,"Post");wd.type="Post";var Qm=wd;var Td=class extends a{constructor(e){super(),this.images=d.parseArray(e.images,ch)}};n(Td,"PostMultiImage");Td.type="PostMultiImage";var Sb=Td;var Sd=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Sd,"ProfileColumn");Sd.type="ProfileColumn";var kb=Sd;var kd=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(kd,"ProfileColumnStats");kd.type="ProfileColumnStats";var Zm=kd;var Id=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};n(Id,"ProfileColumnStatsEntry");Id.type="ProfileColumnStatsEntry";var Ib=Id;var Cd=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};n(Cd,"ProfileColumnUserInfo");Cd.type="ProfileColumnUserInfo";var e_=Cd;var Ed=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=d.parseItem(e.button,I),this.surface=e.surface}};n(Ed,"RecognitionShelf");Ed.type="RecognitionShelf";var Cb=Ed;var Pd=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Pd,"ReelItem");Pd.type="ReelItem";var t_=Pd;var Nd=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};n(Nd,"ReelShelf");Nd.type="ReelShelf";var i_=Nd;var Ad=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Ad,"RelatedChipCloud");Ad.type="RelatedChipCloud";var o_=Ad;var Rd=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.contents=d.parseArray(e.contents)}};n(Rd,"RichGrid");Rd.type="RichGrid";var Hi=Rd;var Md=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Md,"RichItem");Md.type="RichItem";var Eb=Md;var Vd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Vd,"RichListHeader");Vd.type="RichListHeader";var Pb=Vd;var Od=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};n(Od,"RichMetadata");Od.type="RichMetadata";var Bd=Od;var Dd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Dd,"RichMetadataRow");Dd.type="RichMetadataRow";var Ld=Dd;var Fd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Fd,"RichSection");Fd.type="RichSection";var Nb=Fd;var jd=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};n(jd,"RichShelf");jd.type="RichShelf";var n_=jd;var Yd=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=d.parseItem(e.searchButton,I),this.clear_button=d.parseItem(e.clearButton,I),this.placeholder_text=new c(e.placeholderText)}};n(Yd,"SearchBox");Yd.type="SearchBox";var Ab=Yd;var Ud=class extends a{constructor(e){super(),this.label=new c(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Ud,"SearchFilter");Ud.type="SearchFilter";var s_=Ud;var Wd=class extends a{constructor(e){super(),this.title=new c(e.title),this.filters=J.parseArray(e.filters,s_)}};n(Wd,"SearchFilterGroup");Wd.type="SearchFilterGroup";var r_=Wd;var Hd=class extends a{constructor(e){super(),this.title=new c(e.title),this.groups=d.parseArray(e.groups,r_),this.button=d.parseItem(e.button,Ae)}};n(Hd,"SearchSubMenu");Hd.type="SearchSubMenu";var a_=Hd;var Jd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Jd,"SearchSuggestionsSection");Jd.type="SearchSuggestionsSection";var u_=Jd;var Gd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Gd,"SecondarySearchContainer");Gd.type="SecondarySearchContainer";var Rb=Gd;var zd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?(this.continuation=e.continuations[0].nextContinuationData.continuation,this.continuation_type="next"):Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation,this.continuation_type="reload")),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=d.parseItem(e.subMenu))}};n(zd,"SectionList");zd.type="SectionList";var Q=zd;var Kd=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,[Ae,I]),this.dislike_button=d.parseItem(e.dislikeButton,[Ae,I])}};n(Kd,"SegmentedLikeDislikeButton");Kd.type="SegmentedLikeDislikeButton";var So=Kd;var $d=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};n($d,"SettingBoolean");$d.type="SettingBoolean";var Mb=$d;var qd=class extends a{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(qd,"SettingsCheckbox");qd.type="SettingsCheckbox";var l_=qd;var Xd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};n(Xd,"SettingsSwitch");Xd.type="SettingsSwitch";var Wn=Xd;var Qd=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=d.parseArray(e.options,[Wn,Tn,Dh,l_,xh]))}};n(Qd,"SettingsOptions");Qd.type="SettingsOptions";var Hn=Qd;var Zd=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items,An)}get contents(){return this.items}};n(Zd,"SettingsSidebar");Zd.type="SettingsSidebar";var c_=Zd;var ep=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=J.parseItem(e.actionMenu,U),this.original_post=J.parseItem(e.originalPost,Fi),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=J.parseItem(e.expandButton,I),this.author=new O(e.displayName,void 0)}};n(ep,"SharedPost");ep.type="SharedPost";var d_=ep;var tp=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=d.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=d.parseItem(e.playAllButton,I))}};n(tp,"Shelf");tp.type="Shelf";var Jn=tp;var ip=class extends a{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};n(ip,"ShowingResultsFor");ip.type="ShowingResultsFor";var p_=ip;var op=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new g(e.command)}};n(op,"SimpleCardContent");op.type="SimpleCardContent";var Vb=op;var np=class extends a{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};n(np,"SimpleCardTeaser");np.type="SimpleCardTeaser";var Ob=np;var sp=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};n(sp,"SimpleTextSection");sp.type="SimpleTextSection";var Bb=sp;var rp=class extends a{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};n(rp,"SingleActionEmergencySupport");rp.type="SingleActionEmergencySupport";var Db=rp;var ap=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=d.parseItem(e.content,[Q,Un,Hi])}};n(ap,"Tab");ap.type="Tab";var _e=ap;var up=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,_e)}};n(up,"SingleColumnBrowseResults");up.type="SingleColumnBrowseResults";var ii=up;var lp=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(lp,"SingleColumnMusicWatchNextResults");lp.type="SingleColumnMusicWatchNextResults";var Lb=lp;var cp=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};n(cp,"SingleHeroImage");cp.type="SingleHeroImage";var Fb=cp;var dp=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,Ye)}};n(dp,"SlimOwner");dp.type="SlimOwner";var jb=dp;var pp=class extends a{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=d.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};n(pp,"SlimVideoMetadata");pp.type="SlimVideoMetadata";var f_=pp;var fp=class extends a{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};n(fp,"SubFeedOption");fp.type="SubFeedOption";var h_=fp;var hp=class extends a{constructor(e){super(),this.title=new c(e.title),this.options=d.parseArray(e.options,h_)}};n(hp,"SubFeedSelector");hp.type="SubFeedSelector";var Yb=hp;var mp=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(mp,"Tabbed");mp.type="Tabbed";var Ub=mp;var _p=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,_e)}};n(_p,"TabbedSearchResults");_p.type="TabbedSearchResults";var m_=_p;var vp=class extends a{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};n(vp,"TextHeader");vp.type="TextHeader";var Wb=vp;var gp=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};n(gp,"ThumbnailLandscapePortrait");gp.type="ThumbnailLandscapePortrait";var Hb=gp;var xp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(xp,"ThumbnailOverlayEndorsement");xp.type="ThumbnailOverlayEndorsement";var Jb=xp;var yp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(yp,"ThumbnailOverlayHoverText");yp.type="ThumbnailOverlayHoverText";var Gb=yp;var bp=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};n(bp,"ThumbnailOverlayInlineUnplayable");bp.type="ThumbnailOverlayInlineUnplayable";var zb=bp;var wp=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(wp,"ThumbnailOverlayLoadingPreview");wp.type="ThumbnailOverlayLoadingPreview";var Kb=wp;var Tp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(Tp,"ThumbnailOverlayNowPlaying");Tp.type="ThumbnailOverlayNowPlaying";var $b=Tp;var Sp=class extends a{constructor(e){super(),this.hack=e.hack}};n(Sp,"ThumbnailOverlayPinking");Sp.type="ThumbnailOverlayPinking";var qb=Sp;var kp=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};n(kp,"ThumbnailOverlayPlaybackStatus");kp.type="ThumbnailOverlayPlaybackStatus";var Xb=kp;var Ip=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Ip,"ThumbnailOverlayResumePlayback");Ip.type="ThumbnailOverlayResumePlayback";var Qb=Ip;var Cp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(Cp,"ThumbnailOverlaySidePanel");Cp.type="ThumbnailOverlaySidePanel";var Zb=Cp;var Ep=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};n(Ep,"ThumbnailOverlayToggleButton");Ep.type="ThumbnailOverlayToggleButton";var ew=Ep;var Pp=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};n(Pp,"TimedMarkerDecoration");Pp.type="TimedMarkerDecoration";var tw=Pp;var Np=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Np,"TitleAndButtonListHeader");Np.type="TitleAndButtonListHeader";var iw=Np;var Ap=class extends a{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};n(Ap,"ToggleMenuServiceItem");Ap.type="ToggleMenuServiceItem";var ow=Ap;var Rp=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Rp,"Tooltip");Rp.type="Tooltip";var nw=Rp;var Mp=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=d.parseItem(e.subscribeButton,Ye),this.endpoint=new g(e.navigationEndpoint)}};n(Mp,"TopicChannelDetails");Mp.type="TopicChannelDetails";var sw=Mp;var Vp=class extends a{constructor(e){super(),this.tabs=d.parse(e.tabs),this.secondary_contents=d.parse(e.secondaryContents)}};n(Vp,"TwoColumnBrowseResults");Vp.type="TwoColumnBrowseResults";var Ji=Vp;var Op=class extends a{constructor(e){super(),this.primary_contents=d.parse(e.primaryContents),this.secondary_contents=d.parse(e.secondaryContents)}};n(Op,"TwoColumnSearchResults");Op.type="TwoColumnSearchResults";var __=Op;var v_,N0,Bp=class extends a{constructor(e){var i,o,s,r,u;super(),v_.add(this),this.results=d.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=d.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=d.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new c(p.shortBylineText):new O(p.longBylineText),contents:d.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:d.parseItem(p.menu,U)});let f=(u=e.autoplay)===null||u===void 0?void 0:u.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>l(this,v_,"m",N0).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>l(this,v_,"m",N0).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(Bp,"TwoColumnWatchNextResults");v_=new WeakSet,N0=n(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Bp.type="TwoColumnWatchNextResults";var Gn=Bp;var Dp=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.call_to_action=d.parseItem(e.callToAction),this.sections=d.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};n(Dp,"UniversalWatchCard");Dp.type="UniversalWatchCard";var g_=Dp;var Lp=class extends a{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=d.parseItem(e.actionButton,I),this.dismiss_button=d.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(Lp,"UpsellDialog");Lp.type="UpsellDialog";var rw=Lp;var Fp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};n(Fp,"VerticalList");Fp.type="VerticalList";var aw=Fp;var jp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};n(jp,"VerticalWatchCardList");jp.type="VerticalWatchCardList";var uw=jp;var Yp=class extends a{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new g(e.action)}};n(Yp,"VideoInfoCardContent");Yp.type="VideoInfoCardContent";var lw=Yp;var Up=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new c(e.subscriberCountText),this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Up,"VideoOwner");Up.type="VideoOwner";var zn=Up;var Wp=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new c(e.superTitleLink)),this.view_count=new c((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new c((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=d.parseArray(e.badges,tt),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=d.parseItem(e.videoActions,U)}};n(Wp,"VideoPrimaryInfo");Wp.type="VideoPrimaryInfo";var x_=Wp;var A0,cw,Hp=class extends a{constructor(e){super(),A0.add(this),this.owner=d.parseItem(e.owner,zn),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=new c(l(this,A0,"m",cw).call(this,e.attributedDescription))),this.subscribe_button=d.parseItem(e.subscribeButton,[Ye,I]),this.metadata=d.parseItem(e.metadataRowContainer,Cm),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Hp,"VideoSecondaryInfo");A0=new WeakSet,cw=n(function(e){let i=[],o=e.content,s=e.commandRuns,r=0;if(s){for(let u of s){let p=u.length,f=u.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(u,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let y of _)if(y.startIndex-2==f){m=y;break}}m?i.push({text:o.slice(f,f+p),navigationEndpoint:u.onTap,attachment:m}):i.push({text:o.slice(f,f+p),navigationEndpoint:u.onTap})}r=f+p}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return{runs:i}},"_VideoSecondaryInfo_convertAttributedDescriptionToRuns");Hp.type="VideoSecondaryInfo";var Jp=Hp;var Gp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:Ue(e.lengthText.simpleText)},this.style=e.style}};n(Gp,"WatchCardCompactVideo");Gp.type="WatchCardCompactVideo";var y_=Gp;var zp=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=d.parseItem(e.callToActionButton),this.hero_image=d.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(zp,"WatchCardHeroVideo");zp.type="WatchCardHeroVideo";var dw=zp;var Kp=class extends a{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new O(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Kp,"WatchCardRichHeader");Kp.type="WatchCardRichHeader";var pw=Kp;var $p=class extends a{constructor(e){super(),this.lists=d.parseArray(e.lists)}};n($p,"WatchCardSectionSequence");$p.type="WatchCardSectionSequence";var fw=$p;var qp=class extends Ji{constructor(e){super(e)}};n(qp,"WatchNextTabbedResults");qp.type="WatchNextTabbedResults";var b_=qp;var Xp=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=d.parseItem(e.content,Q),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Xp,"AnchoredSection");Xp.type="AnchoredSection";var w_=Xp;var Qp=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};n(Qp,"KidsCategoryTab");Qp.type="KidsCategoryTab";var Kn=Qp;var Zp=class extends a{constructor(e){super(),this.category_tabs=d.parseArray(e.categoryTabs,Kn),this.privacy_button=d.parseItem(e.privacyButtonRenderer,I)}};n(Zp,"KidsCategoriesHeader");Zp.type="kidsCategoriesHeader";var T_=Zp;var ef=class extends a{constructor(e){super(),this.anchors=d.parseArray(e.anchors,w_)}};n(ef,"KidsHomeScreen");ef.type="kidsHomeScreen";var S_=ef;var M0={};j(M0,{YTNodeGenerator:()=>We});var ve,_w,k_,$n,vw,gw,gi,R0,hw,mw,xw,We=class{static isIgnoredKey(e){return typeof e=="string"&&l(this,ve,"f",_w).has(e)}static mergeKeyInfo(e,i){let o=new Map,s=new Set(e.map(([S])=>S)),r=new Set(i.map(([S])=>S)),u=i.filter(([S])=>!s.has(S)),p=e.filter(([S])=>!r.has(S)),f=e.filter(([S])=>r.has(S)),m=new Map(i);for(let[S,k]of f){let E=m.get(S);if(!!E){if(k.type!==E.type){o.set(S,{type:"unknown",optional:!0});continue}switch(k.type){case"object":{if(E.type!=="object")continue;let{resolved_key_info:P}=this.mergeKeyInfo(k.keys,E.keys),M={type:"object",keys:P,optional:k.optional||E.optional};JSON.stringify(M)!==JSON.stringify(k)&&o.set(S,M)}break;case"renderer":{if(E.type!=="renderer")continue;let P=Object.assign(Object.assign({},k.renderers),E.renderers),M=k.optional||E.optional,W={type:"renderer",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},W),{renderers:Object.keys(W.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},k),{renderers:Object.keys(k.renderers)}))&&o.set(S,W)}break;case"renderer_list":{if(E.type!=="renderer_list")continue;let P=Object.assign(Object.assign({},k.renderers),E.renderers),M=k.optional||E.optional,W={type:"renderer_list",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},W),{renderers:Object.keys(W.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},k),{renderers:Object.keys(k.renderers)}))&&o.set(S,W)}break;case"misc":{if(E.type!=="misc")continue;switch(k.misc_type!==E.misc_type&&o.set(S,{type:"unknown",optional:!0}),k.misc_type){case"Author":{if(E.misc_type!=="Author")break;let P=k.params[1]||E.params[1],M=k.optional||E.optional,W={type:"misc",misc_type:"Author",optional:M,params:[E.params[0],P]};JSON.stringify(W)!==JSON.stringify(k)&&o.set(S,W)}break}}break;case"primative":{if(E.type!=="primative")continue;let P={type:"primative",typeof:Array.from(new Set([...E.typeof,...k.typeof])),optional:k.optional||E.optional};JSON.stringify(P)!==JSON.stringify(k)&&o.set(S,P)}break}}}for(let[S,k]of u)o.set(S,Object.assign(Object.assign({},k),{optional:!0}));for(let[S,k]of p)o.set(S,Object.assign(Object.assign({},k),{optional:!0}));let _=e.filter(([S])=>!o.has(S));return{resolved_key_info:[...new Map([..._,...o]).entries()],changed_keys:[...o.entries()]}}static createRuntimeClass(e,i){var o,s;l(this,ve,"m",vw).call(this,e,i);let r=(o=n(class extends a{static set key_info(u){T(this,o,new Map(u),"f",s)}static get key_info(){return[...l(this,o,"f",s).entries()]}constructor(u){super();let{key_info:p,unimplemented_dependencies:f}=We.introspect(u),{resolved_key_info:m,changed_keys:_}=We.mergeKeyInfo(r.key_info,p);_.length>0&&(r.key_info=m,l(We,ve,"m",gw).call(We,e,r.key_info,_));for(let[b,S]of f)We.generateRuntimeClass(b,S);for(let[b,S]of p){let k=l(We,ve,"m",$n).call(We,b);S.type==="misc"&&S.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,We.parse(b,S,u))}}},"_b"),Rg(o,"node"),o.type=e,s={value:new Map},o);return r.key_info=i,Object.defineProperty(r,"name",{value:e,writable:!1}),r}static introspect(e){let i=l(this,ve,"m",xw).call(this,e),o=new Map;for(let[,r]of i)if(r.type==="renderer"||r.type==="renderer_list")for(let u of r.renderers){let p=l(this,ve,"f",k_)[u];p&&o.set(u,p)}let s=Array.from(o).filter(([r])=>!J.hasParser(r));return{key_info:i,unimplemented_dependencies:s}}static generateRuntimeClass(e,i){let{key_info:o,unimplemented_dependencies:s}=this.introspect(i),r=this.createRuntimeClass(e,o);J.addRuntimeParser(e,r);for(let[u,p]of s)this.generateRuntimeClass(u,p);return r}static generateTypescriptClass(e,i){let o=[],s=["super();"];for(let[r,u]of i){let p=l(this,ve,"m",$n).call(this,r);u.type==="misc"&&u.misc_type==="NavigationEndpoint"&&(p="endpoint"),o.push(`${p}${u.optional?"?":""}: ${this.toTypeDeclaration(u)};`),s.push(`this.${p} = ${this.toParser(r,u)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${o.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}static toTypeDeclaration(e,i=0){switch(e.type){case"renderer":return`${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([o,s])=>`${" ".repeat((i+2)*2)}${l(this,ve,"m",$n).call(this,o)}${s.optional?"?":""}: ${this.toTypeDeclaration(s,i+1)}`).join(`,
`)}
${" ".repeat((i+1)*2)}}`;case"misc":switch(e.misc_type){case"Thumbnail":return"Thumbnail[]";default:return e.misc_type}case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}static toParser(e,i,o=["data"],s=1){let r="undefined";switch(i.type){case"renderer":r=`Parser.parseItem(${o.join(".")}.${e}, [ ${i.renderers.map(u=>`YTNodes.${u}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${o.join(".")}.${e}, true, [ ${i.renderers.map(u=>`YTNodes.${u}`).join(", ")} ])`;break;case"object":{let u=[...o,e];r=`{
${i.keys.map(([p,f])=>`${" ".repeat((s+2)*2)}${l(this,ve,"m",$n).call(this,p)}: ${this.toParser(p,f,u,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}break;case"misc":switch(i.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${o.join(".")}.${e})`;break;case"Author":{let u=`new Author(${o.join(".")}.${i.params[0]}, ${i.params[1]?`${o.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${o.join(".")}, '${i.params[0]}') ? ${u} : undefined`:u}default:r=`new ${i.misc_type}(${o.join(".")}.${e})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${o.join(".")}.${e}`;break}return i.optional?`Reflect.has(${o.join(".")}, '${e}') ? ${r} : undefined`:r}static parse(e,i,o,s=["data"]){let r=!i.optional||l(this,ve,"m",R0).call(this,{data:o},[...s,e]);switch(i.type){case"renderer":return r?J.parseItem(l(this,ve,"m",gi).call(this,{data:o},[...s,e]),i.renderers.map(u=>J.getParserByName(u))):void 0;case"renderer_list":return r?J.parse(l(this,ve,"m",gi).call(this,{data:o},[...s,e]),!0,i.renderers.map(u=>J.getParserByName(u))):void 0;case"object":{let u={},p=[...s,e];for(let[f,m]of i.keys)u[f]=r?this.parse(f,m,o,p):void 0;return u}case"misc":switch(i.misc_type){case"NavigationEndpoint":return r?new g(l(this,ve,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Text":return r?new c(l(this,ve,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Thumbnail":return r?w.fromResponse(l(this,ve,"m",gi).call(this,{data:o},[...s,e])):void 0;case"Author":return!i.optional||l(this,ve,"m",R0).call(this,{data:o},[...s,i.params[0]])?new O(l(this,ve,"m",gi).call(this,{data:o},[...s,i.params[0]]),i.params[1]?l(this,ve,"m",gi).call(this,{data:o},[...s,i.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return l(this,ve,"m",gi).call(this,{data:o},[...s,e])}}static inferType(e,i){let o=!1;if(o=this.isRenderer(i))return l(this,ve,"f",k_)[o]=i[Reflect.ownKeys(i)[0]],{type:"renderer",renderers:[o],optional:!1};if(o=this.isRendererList(i)){for(let[r,u]of Object.entries(o))l(this,ve,"f",k_)[r]=u;return{type:"renderer_list",renderers:Object.keys(o),optional:!1}}if(o=this.isMiscType(e,i))return o;let s=typeof i;return s==="object"?{type:"object",keys:Object.entries(i).map(([r,u])=>[r,this.inferType(r,u)]),optional:!1}:{type:"primative",typeof:[s],optional:!1}}static isRendererList(e){return Array.isArray(e)&&e.every(s=>this.isRenderer(s))?Object.fromEntries(e.map(s=>{let r=Reflect.ownKeys(s)[0].toString();return[J.sanitizeClassName(r),s[r]]})):!1}static isMiscType(e,i){if((e.endsWith("Endpoint")||e.endsWith("Command")||e==="endpoint")&&typeof i=="object")return{type:"misc",endpoint:new g(i),optional:!1,misc_type:"NavigationEndpoint"};if(typeof i=="object"&&(Reflect.has(i,"simpleText")||Reflect.has(i,"runs"))){let o=new c(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:o.endpoint,text:o.toString()}}return typeof i=="object"&&Reflect.has(i,"thumbnails")&&Array.isArray(i.thumbnails)?{type:"misc",misc_type:"Thumbnail",optional:!1}:!1}static isRenderer(e){if(!(typeof e=="object"))return!1;let o=Reflect.ownKeys(e);return o.length===1&&o[0].toString().includes("Renderer")?J.sanitizeClassName(o[0].toString()):!1}};n(We,"YTNodeGenerator");ve=We,$n=n(function(e){return e.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)},"_YTNodeGenerator_camelToSnake"),vw=n(function(e,i){console.warn(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${V.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${V.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logNewClass"),gw=n(function(e,i,o){console.warn(`${e} changed!
The following keys where altered: ${o.map(([s])=>l(this,ve,"m",$n).call(this,s)).join(", ")}
The class has changed to:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logChangedKeys"),gi=n(function(e,i){let o=e;for(let s of i)o=o[s];return o},"_YTNodeGenerator_accessDataFromKeyPath"),R0=n(function(e,i){let o=e;for(let s of i)if(Reflect.has(o,s))o=o[s];else return!1;return!0},"_YTNodeGenerator_hasDataFromKeyPath"),hw=n(function(e){return Reflect.ownKeys(e).filter(s=>!this.isIgnoredKey(s)).filter(s=>typeof s=="string").map(s=>{let r=e[s],u=this.inferType(s,r);return[s,u]})},"_YTNodeGenerator_passOne"),mw=n(function(e){var i;let s=e.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)===null||m===void 0?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),r=new Set,u=s[0],p;if(u){r.add(u[0]);let m=e.map(([k])=>k).filter(k=>k.endsWith("Badges")||k==="badges"),y=(i=m.filter(k=>k.startsWith("owner")||k.startsWith("author"))[0])!==null&&i!==void 0?i:m[0],b=e.find(([k])=>k===y),S=b?b[1].type==="renderer_list"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;S&&y&&r.add(y),p={type:"misc",misc_type:"Author",optional:!1,params:[u[0],S?y:void 0]}}return p&&e.push(["author",p]),e.filter(([f])=>!r.has(f))},"_YTNodeGenerator_passTwo"),xw=n(function(e){let i=l(this,ve,"m",hw).call(this,e);return l(this,ve,"m",mw).call(this,i)},"_YTNodeGenerator_introspect");_w={value:new Set(["trackingParams","accessibility","accessibilityData"])};k_={value:{}};var H,V0,Gi,Ct,Et,yw,Pt,bw,I_,O0,ie=class{static setParserErrorHandler(e){T(this,H,e,"f",V0)}static parseResponse(e){var i,o,s,r;let u={};l(this,H,"m",Et).call(this);let p=this.parse(e.contents),f=l(this,H,"m",Pt).call(this);p&&(u.contents=p,u.contents_memo=f),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let m=e.onResponseReceivedActions?this.parseRR(e.onResponseReceivedActions):null,_=l(this,H,"m",Pt).call(this);m&&(u.on_response_received_actions=m,u.on_response_received_actions_memo=_),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let y=e.onResponseReceivedEndpoints?this.parseRR(e.onResponseReceivedEndpoints):null,b=l(this,H,"m",Pt).call(this);y&&(u.on_response_received_endpoints=y,u.on_response_received_endpoints_memo=b),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let S=e.onResponseReceivedCommands?this.parseRR(e.onResponseReceivedCommands):null,k=l(this,H,"m",Pt).call(this);S&&(u.on_response_received_commands=S,u.on_response_received_commands_memo=k),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let E=e.continuationContents?this.parseLC(e.continuationContents):null,P=l(this,H,"m",Pt).call(this);E&&(u.continuation_contents=E,u.continuation_contents_memo=P),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let M=e.actions?this.parseActions(e.actions):null,W=l(this,H,"m",Pt).call(this);M&&(u.actions=M,u.actions_memo=W),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let F=e.liveChatItemContextMenuSupportedRenderers?this.parseItem(e.liveChatItemContextMenuSupportedRenderers):null,le=l(this,H,"m",Pt).call(this);F&&(u.live_chat_item_context_menu_supported_renderers=F,u.live_chat_item_context_menu_supported_renderers_memo=le),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let xe=e.header?this.parse(e.header):null,Ve=l(this,H,"m",Pt).call(this);xe&&(u.header=xe,u.header_memo=Ve),l(this,H,"m",Ct).call(this),l(this,H,"m",Et).call(this);let Oe=e.sidebar?this.parseItem(e.sidebar):null,Qe=l(this,H,"m",Pt).call(this);Oe&&(u.sidebar=Oe,u.sidebar_memo=Qe),l(this,H,"m",Ct).call(this),this.applyMutations(f,(o=(i=e.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations),this.applyMutations(P,(r=(s=e.frameworkUpdates)===null||s===void 0?void 0:s.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let q=e.continuation?this.parseC(e.continuation):null;q&&(u.continuation=q);let K=this.parse(e.metadata);K&&(u.metadata=K);let te=this.parseItem(e.microformat);te&&(u.microformat=te);let ee=this.parseItem(e.overlay);ee&&(u.overlay=ee);let Ze=this.parseArray(e.alerts,ih);Ze.length&&(u.alerts=Ze);let Lt=e.refinements;Lt&&(u.refinements=Lt);let Ft=e.estimatedResults?parseInt(e.estimatedResults):null;Ft&&(u.estimated_results=Ft);let jt=this.parse(e.playerOverlays);jt&&(u.player_overlays=jt);let Yt=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Yt&&(u.playback_tracking=Yt);let Ut=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed||!1,audio_only_playablility:this.parseItem(e.playabilityStatus.audioOnlyPlayability,Uf),error_screen:this.parseItem(e.playabilityStatus.errorScreen)}:null;Ut&&(u.playability_status=Ut);let Wt=e.streamingData?{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:ie.parseFormats(e.streamingData.formats),adaptive_formats:ie.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null}:void 0;Wt&&(u.streaming_data=Wt);let Ht=e.currentVideoEndpoint?new g(e.currentVideoEndpoint):null;Ht&&(u.current_video_endpoint=Ht);let Jt=e.endpoint?new g(e.endpoint):null;Jt&&(u.endpoint=Jt);let Gt=this.parseItem(e.captions,$f);Gt&&(u.captions=Gt);let zt=e.videoDetails?new Di(e.videoDetails):null;zt&&(u.video_details=zt);let Kt=this.parseArray(e.annotations,Kf);Kt.length&&(u.annotations=Kt);let $t=this.parseItem(e.storyboards,[Xf,qf]);$t&&(u.storyboards=$t);let mt=this.parseItem(e.endscreen,zf);mt&&(u.endscreen=mt);let bn=this.parseItem(e.cards,Gf);bn&&(u.cards=bn),l(this,H,"m",Et).call(this);let ce=this.parse(e.items);return ce&&(u.items=ce,u.items_memo=l(this,H,"m",Pt).call(this)),l(this,H,"m",Ct).call(this),u}static parseItem(e,i){if(!e)return null;let o=Object.keys(e);if(!o.length)return null;let s=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(s))try{let u=this.hasParser(s)?this.getParserByName(s):We.generateRuntimeClass(s,e[o[0]]);if(i){if(Array.isArray(i)){if(!i.some(f=>f.type===u.type))throw new at(`Type mismatch, got ${s} but expected one of ${i.map(f=>f.type).join(", ")}`)}else if(u.type!==i.type)throw new at(`Type mismatch, got ${s} but expected ${i.type}`)}let p=new u(e[o[0]]);return l(this,H,"m",yw).call(this,s,p),p}catch(r){return l(this,H,"f",V0).call(this,{classname:s,classdata:e[o[0]],err:r}),null}return null}static parseArray(e,i){if(Array.isArray(e)){let o=[];for(let s of e){let r=this.parseItem(s,i);r&&o.push(r)}return ue(o)}else if(!e)return ue([]);throw new at("Expected array but got a single item")}static parse(e,i,o){if(!e)return null;if(Array.isArray(e)){let s=[];for(let u of e){let p=this.parseItem(u,o);p&&s.push(p)}let r=ue(s);return i?r:new Xt(ue(s))}else if(i)throw new at("Expected array but got a single item");return new Xt(this.parseItem(e,o))}static parseC(e){return e.timedContinuationData?new qn({continuation:e.timedContinuationData,type:"timed"}):null}static parseLC(e){return e.itemSectionContinuation?new ko(e.itemSectionContinuation):e.sectionListContinuation?new lt(e.sectionListContinuation):e.liveChatContinuation?new No(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new Eo(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new xi(e.musicShelfContinuation):e.gridContinuation?new Po(e.gridContinuation):e.playlistPanelContinuation?new nf(e.playlistPanelContinuation):null}static parseRR(e){return ue(e.map(i=>{if(i.navigateAction)return new Io(i.navigateAction);if(i.reloadContinuationItemsCommand)return new Co(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new of(i.appendContinuationItemsAction)}).filter(i=>i))}static parseActions(e){return Array.isArray(e)?ie.parse(e.map(i=>(delete i.clickTrackingParams,i))):new Xt(this.parseItem(e))}static parseFormats(e){return(e==null?void 0:e.map(i=>new Bi(i)))||[]}static applyMutations(e,i){var o,s;let r=e.getType(Tt);if(r.length>0&&!i)console.warn(new v(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${V.shim.info.bugs_url}`));else{let u=[];for(let p of r){let f=i.find(_=>{var y,b;return((b=(y=_.payload)===null||y===void 0?void 0:y.musicFormBooleanChoice)===null||b===void 0?void 0:b.id)===p.form_item_entity_key}),m=f==null?void 0:f.payload.musicFormBooleanChoice;if((m==null?void 0:m.selected)!==void 0?p.selected=m.selected:u.push(`'${p.title}'`),m!=null&&m.opaqueToken){let _=(s=(o=p.endpoint)===null||o===void 0?void 0:o.payload.commands)===null||s===void 0?void 0:s.find(y=>{var b;return(b=y.musicBrowseFormBinderCommand)===null||b===void 0?void 0:b.browseEndpoint});_&&(_.musicBrowseFormBinderCommand.browseEndpoint.formData={selectedValues:[m.opaqueToken]})}}u.length>0&&console.warn(new v(`Mutation data missing or invalid for ${u.length} out of ${r.length} MusicMultiSelectMenuItems. The titles of the failed items are: ${u.join(", ")}.
This is a bug, please report it at ${V.shim.info.bugs_url}`))}}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return this.ignore_list.has(e)}static getParserByName(e){let i=l(this,H,"f",I_).get(e);if(!i){let o=new Error(`Module not found: ${e}`);throw o.code="MODULE_NOT_FOUND",o}return i}static hasParser(e){return l(this,H,"f",I_).has(e)}static addRuntimeParser(e,i){l(this,H,"f",I_).set(e,i),l(this,H,"f",O0).set(e,i)}static getDynamicParsers(){return Object.fromEntries(l(this,H,"f",O0))}};n(ie,"Parser");H=ie,Ct=n(function(){T(ie,H,null,"f",Gi)},"_Parser_clearMemo"),Et=n(function(){T(ie,H,new Ri,"f",Gi)},"_Parser_createMemo"),yw=n(function(e,i){if(!l(ie,H,"f",Gi))return;let o=l(ie,H,"f",Gi).get(e);if(!o)return l(ie,H,"f",Gi).set(e,[i]);o.push(i)},"_Parser_addToMemo"),Pt=n(function(){if(!l(ie,H,"f",Gi))throw new Error("Parser#getMemo() called before Parser#createMemo()");return l(ie,H,"f",Gi)},"_Parser_getMemo"),bw=n(function({classname:e,classdata:i,err:o}){if(o.code=="MODULE_NOT_FOUND")return console.warn(new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${V.shim.info.repo_url.split("#")[0]}/blob/main/docs/updating-the-parser.md or report it at ${V.shim.info.bugs_url}!`,i));console.warn(new v(`Something went wrong at ${e}!
This is a bug, please report it at ${V.shim.info.bugs_url}`,{stack:o.stack}))},"_Parser_printError");V0={value:l(ie,H,"m",bw)};Gi={value:null};ie.ignore_list=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo"]);I_={value:new Map(Object.entries(tf))};O0={value:new Map};var J=ie,ko=class extends a{constructor(e){var i,o,s;super(),this.contents=ie.parseArray(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(ko,"ItemSectionContinuation");ko.type="itemSectionContinuation";var Io=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};n(Io,"NavigateAction");Io.type="navigateAction";var of=class extends a{constructor(e){super(),this.contents=ie.parseArray(e.continuationItems)}};n(of,"AppendContinuationItemsAction");of.type="appendContinuationItemsAction";var Co=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=ie.parse(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(Co,"ReloadContinuationItemsCommand");Co.type="reloadContinuationItemsCommand";var lt=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.contents=ie.parse(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null,e.header&&(this.header=ie.parse(e.header))}};n(lt,"SectionListContinuation");lt.type="sectionListContinuation";var Eo=class extends a{constructor(e){var i;super(),this.contents=ie.parse(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Eo,"MusicPlaylistShelfContinuation");Eo.type="musicPlaylistShelfContinuation";var xi=class extends a{constructor(e){var i,o,s,r;super(),this.contents=ie.parseArray(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(xi,"MusicShelfContinuation");xi.type="musicShelfContinuation";var Po=class extends a{constructor(e){var i;super(),this.items=ie.parse(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Po,"GridContinuation");Po.type="gridContinuation";var nf=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.contents=ie.parseArray(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(nf,"PlaylistPanelContinuation");nf.type="playlistPanelContinuation";var qn=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(qn,"Continuation");qn.type="continuation";var No=class extends a{constructor(e){var i,o,s,r,u,p,f,m;super(),this.actions=ie.parse((i=e.actions)===null||i===void 0?void 0:i.map(b=>(delete b.clickTrackingParams,b)),!0)||ue([]),this.action_panel=ie.parseItem(e.actionPanel),this.item_list=ie.parseItem(e.itemList,th),this.header=ie.parseItem(e.header,eh),this.participants_list=ie.parseItem(e.participantsList,Zf),this.popout_message=ie.parseItem(e.popoutMessage,je),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(b=>({emoji_id:b.emojiId,shortcuts:b.shortcuts,search_terms:b.searchTerms,image:w.fromResponse(b.image),is_custom_emoji:b.isCustomEmoji})))||[];let _,y;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(y="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((u=e.continuations)===null||u===void 0)&&u[0].invalidationContinuationData?(y="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(y="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new qn({continuation:_,type:y}),this.viewer_name=e.viewerName}};n(No,"LiveChatContinuation");No.type="liveChatContinuation";var H0={};j(H0,{AccountInfo:()=>E_,Analytics:()=>N_,Channel:()=>Re,ChannelListContinuation:()=>Vo,Comments:()=>R_,FilteredChannelList:()=>qi,Guide:()=>V_,HashtagFeed:()=>ni,History:()=>ns,HomeFeed:()=>Nt,ItemMenu:()=>L_,Library:()=>Y_,LiveChat:()=>$_,NotificationsMenu:()=>q_,Playlist:()=>yi,Search:()=>X_,Settings:()=>Q_,SmoothedQueue:()=>J_,TimeWatched:()=>ev,VideoInfo:()=>xf});var Xn,C_=class{constructor(e){if(Xn.set(this,void 0),T(this,Xn,d.parseResponse(e.data),"f"),!l(this,Xn,"f").contents)throw new v("Page contents not found");let i=l(this,Xn,"f").contents.array().as(rh).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return l(this,Xn,"f")}};n(C_,"AccountInfo");Xn=new WeakMap;var E_=C_;var sf,P_=class{constructor(e){var i;sf.set(this,void 0),T(this,sf,d.parseResponse(e.data),"f"),this.sections=(i=l(this,sf,"f").contents_memo)===null||i===void 0?void 0:i.getType(Rn).map(o=>o.model).flatMap(o=>o||[])}get page(){return l(this,sf,"f")}};n(P_,"Analytics");sf=new WeakMap;var N_=P_;var B0,it,zi,rf,ot,ww,Ki=class{constructor(e,i,o=!1){B0.add(this),it.set(this,void 0),zi.set(this,void 0),rf.set(this,void 0),ot.set(this,void 0),l(this,B0,"m",ww).call(this,i)||o?T(this,it,i,"f"):T(this,it,d.parseResponse(i.data),"f");let s=D0(l(this,it,"f").contents_memo,l(this,it,"f").continuation_contents_memo,l(this,it,"f").on_response_received_commands_memo,l(this,it,"f").on_response_received_endpoints_memo,l(this,it,"f").on_response_received_actions_memo,l(this,it,"f").sidebar_memo,l(this,it,"f").header_memo);if(!s)throw new v("No memo found in feed");T(this,ot,s,"f"),T(this,rf,e,"f")}static getVideosFromMemo(e){return e.getType(Mn,im,t_,Bh,qm,vi,y_)}static getPlaylistsFromMemo(e){return e.getType(Qt,Zh)}get videos(){return Ki.getVideosFromMemo(l(this,ot,"f"))}get posts(){return l(this,ot,"f").getType(Fi,Qm,d_)}get channels(){return l(this,ot,"f").getType(_h,Qh)}get playlists(){return Ki.getPlaylistsFromMemo(l(this,ot,"f"))}get memo(){return l(this,ot,"f")}get page_contents(){var e;let i=(e=l(this,ot,"f").getType(_e))===null||e===void 0?void 0:e.first().content,o=l(this,ot,"f").getType(Co).first(),s=l(this,ot,"f").getType(ah).first();return i||o||s}get shelves(){return l(this,ot,"f").getType(Jn,n_,i_)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=l(this,it,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=l(this,it,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Ji,__))return o.secondary_contents}get actions(){return l(this,rf,"f")}get page(){return l(this,it,"f")}get has_continuation(){return(l(this,ot,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return x(this,void 0,void 0,function*(){if(l(this,zi,"f")){if(l(this,zi,"f").length>1)throw new v("There are too many continuations, you'll need to find the correct one yourself in this.page");if(l(this,zi,"f").length===0)throw new v("There are no continuations");return yield l(this,zi,"f")[0].endpoint.call(l(this,rf,"f"),{parse:!0})}if(T(this,zi,l(this,ot,"f").getType(Le),"f"),l(this,zi,"f"))return this.getContinuationData()})}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Ki(this.actions,e,!0)})}};n(Ki,"Feed");it=new WeakMap,zi=new WeakMap,rf=new WeakMap,ot=new WeakMap,B0=new WeakSet,ww=n(function(e){return!("data"in e)},"_Feed_isParsed");var fe=Ki;var Ao,Ro,Mo=class extends fe{constructor(e,i,o=!1){var s;super(e,i,o),Ao.set(this,void 0),Ro.set(this,void 0),T(this,Ro,e,"f"),T(this,Ao,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(_e),"f")}get tabs(){var e,i;return(i=(e=l(this,Ao,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return x(this,void 0,void 0,function*(){let o=(i=l(this,Ao,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(l(this,Ro,"f"));return new Mo(l(this,Ro,"f"),s,!1)})}getTabByURL(e){var i;return x(this,void 0,void 0,function*(){let o=(i=l(this,Ao,"f"))===null||i===void 0?void 0:i.find(r=>{var u;return((u=r.endpoint.metadata.url)===null||u===void 0?void 0:u.split("/").pop())===e});if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(l(this,Ro,"f"));return new Mo(l(this,Ro,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=l(this,Ao,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(_e))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(Mo,"TabbedFeed");Ao=new WeakMap,Ro=new WeakMap;var Qn=Mo;var Zn,A_=class extends fe{constructor(e,i,o=!1){super(e,i,o),Zn.set(this,void 0)}get filter_chips(){var e,i;if(l(this,Zn,"f"))return l(this,Zn,"f")||[];if(((e=this.memo.getType(mi))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(mi))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return T(this,Zn,this.memo.getType(he),"f"),l(this,Zn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new v("Invalid filter");if(!o)throw new v("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("Failed to get filtered feed");return new fe(this.actions,s,!0)})}};n(A_,"FilterableFeed");Zn=new WeakMap;var $i=A_;var Re=class extends Qn{constructor(e,i,o=!1){var s,r,u,p,f,m;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(kn,mh,um);let _=(u=this.page.metadata)===null||u===void 0?void 0:u.item().as(gh),y=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Zt);if(this.page.alerts){let b=this.page.alerts.first();if((b==null?void 0:b.alert_type)==="ERROR")throw new es(b.text.toString())}if(!_&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),y||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Ye).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().key("tabs").parsed().array().filterType(_e,On).get({selected:!0})}applyFilter(e){var i;return x(this,void 0,void 0,function*(){let o,s=this.memo.getType(mi).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof he&&(o=e);if(!o)throw new v("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("No page returned",{filter:o});return new qi(this.actions,r,!0)})}applySort(e){var i,o;return x(this,void 0,void 0,function*(){let s=this.memo.getType(fi).first();if(!s)throw new v("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let u=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Re(this.actions,u,!0)})}applyContentTypeFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){let u=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Q).sub_menu)===null||s===void 0?void 0:s.as(Ta);if(!u)throw new v("Sub menu not found");let p=u.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Re(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(mi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(he).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(fi).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Q).sub_menu)===null||o===void 0?void 0:o.as(Ta);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Re(this.actions,e.page,!0)})}getVideos(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Re(this.actions,e.page,!0)})}getShorts(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Re(this.actions,e.page,!0)})}getLiveStreams(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Re(this.actions,e.page,!0)})}getPlaylists(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Re(this.actions,e.page,!0)})}getCommunity(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Re(this.actions,e.page,!0)})}getChannels(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new Re(this.actions,e.page,!0)})}getAbout(){var e;return x(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(vh))===null||e===void 0?void 0:e[0]})}search(e){var i,o;return x(this,void 0,void 0,function*(){let s=(i=this.memo.getType(On))===null||i===void 0?void 0:i[0];if(!s)throw new v("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Re(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(On))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new Vo(this.actions,i,!0)})}};n(Re,"Channel");var Vo=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new Vo(this.actions,i,!0)})}};n(Vo,"ChannelListContinuation");var qi=class extends $i{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(he).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new qi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(mi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(he)),new qi(this.actions,i,!0)})}};n(qi,"FilteredChannelList");var ts,oi,is,Oo=class{constructor(e,i,o=!1){var s,r,u;ts.set(this,void 0),oi.set(this,void 0),is.set(this,void 0),T(this,ts,o?i:d.parseResponse(i),"f"),T(this,oi,e,"f");let p=l(this,ts,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(Nn);let _=((r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.filterType(Oh))||[];this.contents=ue(_.map(y=>{var b;return(b=y.comment)===null||b===void 0||b.setActions(l(this,oi,"f")),y.setActions(l(this,oi,"f")),y})),T(this,is,(u=m==null?void 0:m.contents)===null||u===void 0?void 0:u.firstOfType(Le),"f")}applySort(e){var i,o,s,r;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let u;if(e==="TOP_COMMENTS"?u=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(u=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!u)throw new v("Could not find target button.");if(u.selected)return this;let p=yield u.endpoint.call(l(this,oi,"f"),{parse:!0});return new Oo(l(this,oi,"f"),p,!0)})}createComment(e){var i;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Vh).submit_button;if(!o)throw new v("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new v("Button does not have an endpoint.");return yield o.endpoint.call(l(this,oi,"f"),{commentText:e})})}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,is,"f"))throw new v("Continuation not found");let e=yield l(this,is,"f").endpoint.call(l(this,oi,"f"),{parse:!0}),i=Object.assign({},l(this,ts,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Oo(l(this,oi,"f"),i,!0)})}get has_continuation(){return!!l(this,is,"f")}get page(){return l(this,ts,"f")}};n(Oo,"Comments");ts=new WeakMap,oi=new WeakMap,is=new WeakMap;var R_=Oo;var af,M_=class{constructor(e){af.set(this,void 0),T(this,af,J.parseResponse(e),"f"),this.contents=l(this,af,"f").items.array().as(Bn,om)}get page(){return l(this,af,"f")}};n(M_,"Guide");af=new WeakMap;var V_=M_;var os=class extends fe{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(me),this.feed_actions=this.memo.getType(ph).first()}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new os(this.actions,e,!0)})}};n(os,"History");var ns=os;var Nt=class extends $i{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(Xh).first(),this.contents=this.memo.getType(Hi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Nt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return x(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Nt(this.actions,o.page,!0)})}};n(Nt,"HomeFeed");var ni=class extends $i{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let o=this.page.contents_memo.getType(_e).first();if(!o.content)throw new v("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(nm)),this.contents=o.content.as(Hi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ni(this.actions,o.page)})}};n(ni,"HashtagFeed");var O_,B_,uf,D_=class{constructor(e,i){O_.set(this,void 0),B_.set(this,void 0),uf.set(this,void 0),T(this,O_,e,"f"),T(this,B_,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(U))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,uf,o.as(U).items,"f")}selectItem(e){return x(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let s=l(this,uf,"f").find(r=>r.is(Dn)?r.as(Dn).icon_type===e:!1);if(!s||!s.is(Dn))throw new v(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(l(this,B_,"f"),{parse:!0})})}items(){return l(this,uf,"f")}page(){return l(this,O_,"f")}};n(D_,"ItemMenu");O_=new WeakMap,B_=new WeakMap,uf=new WeakMap;var L_=D_;var lf,F_,ss=class extends fe{constructor(e,i,o=!1){var s,r,u,p;super(e,i,o),lf.add(this);let f=this.memo.getType(Gm).first(),m=this.memo.getType(Km).first(),_=this.memo.getType($m).first();if(!m&&!_)throw new v("This playlist does not exist");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(zm)),{author:(u=(r=_==null?void 0:_.owner)===null||r===void 0?void 0:r.as(zn).author)!==null&&u!==void 0?u:f==null?void 0:f.author,thumbnails:(p=m==null?void 0:m.thumbnail_renderer)===null||p===void 0?void 0:p.as(Xm,Jm).thumbnail,total_items:l(this,lf,"m",F_).call(this,0,m),views:l(this,lf,"m",F_).call(this,1,m),last_updated:l(this,lf,"m",F_).call(this,2,m),can_share:f==null?void 0:f.can_share,can_delete:f==null?void 0:f.can_delete,is_editable:f==null?void 0:f.is_editable,privacy:f==null?void 0:f.privacy}),this.menu=m==null?void 0:m.menu,this.endpoint=m==null?void 0:m.endpoint,this.messages=this.memo.getType(je)}get items(){return this.videos}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new ss(this.actions,e,!0)})}};n(ss,"Playlist");lf=new WeakSet,F_=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var yi=ss;var L0,Tw,j_=class extends fe{constructor(e,i){if(super(e,i),L0.add(this),!this.page.contents_memo)throw new v("Page contents not found");let o=this.page.contents_memo.getType(Zm).first(),s=this.page.contents_memo.getType(e_).first();this.profile={stats:o,user_info:s};let r=this.page.contents_memo.getType(Jn);this.sections=r.map(u=>{var p;return{type:u.icon_type,title:u.title,contents:((p=u.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>l(this,L0,"m",Tw).call(this,u)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(j_,"Library");L0=new WeakSet,Tw=n(function(e){var i;return x(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(U).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(U).top_level_buttons.firstOfType(I);if(!o)throw new v("Did not find target button.");let s=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new yi(this.actions,s,!0);case"WATCH_HISTORY":return new ns(this.actions,s,!0);case"CONTENT_CUT":return new fe(this.actions,s,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var Y_=j_;var as;kw();var U_=class extends EventTarget{constructor(){super(),as.set(this,new Map)}emit(e,...i){let o=new V.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof V.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");l(this,as,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof V.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");l(this,as,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=l(this,as,"f").get(i);o&&(this.removeEventListener(e,o),l(this,as,"f").delete(i))}};n(U_,"EventEmitterLike");as=new WeakMap;var cf=U_;var bi,Xi,Bo,vt,At,nt;function c1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(c1,"flattenQueue");var W_=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(W_,"DelayQueue");var H_=class{constructor(){bi.set(this,void 0),Xi.set(this,void 0),Bo.set(this,void 0),vt.set(this,void 0),At.set(this,void 0),nt.set(this,void 0),T(this,bi,null,"f"),T(this,Xi,null,"f"),T(this,Bo,null,"f"),T(this,vt,[],"f"),T(this,At,null,"f"),T(this,nt,new W_,"f")}enqueueActionGroup(e){if(l(this,bi,"f")!==null){let i=Date.now()-l(this,bi,"f");l(this,nt,"f").back.push(i),5<l(this,nt,"f").front.length+l(this,nt,"f").back.length&&(l(this,nt,"f").front.length||(l(this,nt,"f").front=l(this,nt,"f").back,l(this,nt,"f").front.reverse(),l(this,nt,"f").back=[]),l(this,nt,"f").front.pop()),T(this,Xi,Math.max(...l(this,nt,"f").getValues()),"f")}T(this,bi,Date.now(),"f"),l(this,vt,"f").push(e),l(this,At,"f")===null&&T(this,At,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,At,null,"f"),l(this,vt,"f").length){let e=1e4;l(this,Xi,"f")!==null&&l(this,bi,"f")!==null&&(e=l(this,Xi,"f")-Date.now()+l(this,bi,"f")),e=l(this,vt,"f").length<e/80?1:Math.ceil(l(this,vt,"f").length/(e/80));let i=c1(l(this,vt,"f").splice(0,e));l(this,Bo,"f")&&l(this,Bo,"f").call(this,i),l(this,vt,"f")!==null&&(e==1?(e=l(this,Xi,"f")/l(this,vt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,At,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){l(this,At,"f")!==null&&(clearTimeout(l(this,At,"f")),T(this,At,null,"f")),T(this,vt,[],"f")}set callback(e){T(this,Bo,e,"f")}get callback(){return l(this,Bo,"f")}get action_queue(){return l(this,vt,"f")}get estimated_update_interval(){return l(this,Xi,"f")}get last_update_time(){return l(this,bi,"f")}get next_update_id(){return l(this,At,"f")}get poll_response_delay_queue(){return l(this,nt,"f")}};n(H_,"SmoothedQueue");bi=new WeakMap,Xi=new WeakMap,Bo=new WeakMap,vt=new WeakMap,At=new WeakMap,nt=new WeakMap;var J_=H_;var Be,wi,ff,G_,Lo,df,pf,F0,z_,Iw,Do,K_=class extends cf{constructor(e){var i,o;super(),Be.add(this),wi.set(this,void 0),ff.set(this,void 0),G_.set(this,void 0),Lo.set(this,void 0),df.set(this,void 0),pf.set(this,0),this.running=!1,this.is_replay=!1,T(this,ff,e.basic_info.id,"f"),T(this,G_,e.basic_info.channel_id,"f"),T(this,wi,e.actions,"f"),T(this,Lo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new J_,this.smoothed_queue.callback=s=>x(this,void 0,void 0,function*(){s.length?s.length<10?yield l(this,Be,"m",z_).call(this,s):this.is_replay?(l(this,Be,"m",z_).call(this,s),yield l(this,Be,"m",Do).call(this,2e3)):l(this,Be,"m",z_).call(this,s):yield l(this,Be,"m",Do).call(this,2e3),this.running&&l(this,Be,"m",F0).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,l(this,Be,"m",F0).call(this),l(this,Be,"m",Iw).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return x(this,void 0,void 0,function*(){let i=yield l(this,wi,"f").execute("/live_chat/send_message",{params:ye.encodeMessageParams(l(this,G_,"f"),l(this,ff,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:V.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(mm)})}applyFilter(e){var i,o,s,r,u,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let m=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=m==null?void 0:m.at(0))===null||r===void 0)&&r.selected)return;T(this,Lo,(u=m==null?void 0:m.at(0))===null||u===void 0?void 0:u.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;T(this,Lo,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return x(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(l(this,wi,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new L_(i,l(this,wi,"f"))})}selectButton(e){return x(this,void 0,void 0,function*(){return yield e.endpoint.call(l(this,wi,"f"),{parse:!0})})}};n(K_,"LiveChat");wi=new WeakMap,ff=new WeakMap,G_=new WeakMap,Lo=new WeakMap,df=new WeakMap,pf=new WeakMap,Be=new WeakSet,F0=n(function t(){x(this,void 0,void 0,function*(){var e,i;try{let o=yield l(this,wi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:l(this,Lo,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new v("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof No)){this.stop(),this.emit("end");return}T(this,Lo,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&l(this,Be,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,pf,0,"f")}catch(o){this.emit("error",o),T(this,pf,(i=l(this,pf,"f"),e=i++,i),"f"),e<10?(yield l(this,Be,"m",Do).call(this,2e3),l(this,Be,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),z_=n(function(e){return x(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield l(this,Be,"m",Do).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),Iw=n(function t(){x(this,void 0,void 0,function*(){var e,i,o,s,r,u,p,f,m,_,y;try{let b={videoId:l(this,ff,"f")};l(this,df,"f")&&(b.continuation=l(this,df,"f"));let S=yield l(this,wi,"f").execute("/updated_metadata",b),k=d.parseResponse(S.data);T(this,df,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(ym))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=k.actions)===null||s===void 0?void 0:s.array().firstOfType(xm))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((u=k.actions)===null||u===void 0?void 0:u.array().firstOfType(wm))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(bm))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=k.actions)===null||_===void 0?void 0:_.array().firstOfType(gm))||((y=this.metadata)===null||y===void 0?void 0:y.date)},this.emit("metadata-update",this.metadata),yield l(this,Be,"m",Do).call(this,5e3),this.running&&l(this,Be,"m",t).call(this)}catch(b){yield l(this,Be,"m",Do).call(this,2e3),this.running&&l(this,Be,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Do=n(function(e){return x(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var $_=K_;var Fo,hf,us=class{constructor(e,i){Fo.set(this,void 0),hf.set(this,void 0),T(this,hf,e,"f"),T(this,Fo,d.parseResponse(i.data),"f"),this.header=l(this,Fo,"f").actions_memo.getType(km).first(),this.contents=l(this,Fo,"f").actions_memo.getType(jm)}getContinuation(){return x(this,void 0,void 0,function*(){let e=l(this,Fo,"f").actions_memo.getType(Le).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(l(this,hf,"f"),{parse:!1});return new us(l(this,hf,"f"),i)})}get page(){return l(this,Fo,"f")}};n(us,"NotificationsMenu");Fo=new WeakMap,hf=new WeakMap;var q_=us;var jo=class extends fe{constructor(e,i,o=!1){var s,r,u,p,f,m;super(e,i,o);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(Q).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new v("No contents found in search response");this.results=(u=_.find(y=>y.is(me)&&y.contents&&y.contents.length>0))===null||u===void 0?void 0:u.as(me).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(a_).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(g_).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Vn)}selectRefinementCard(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(vo),!s)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new v("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new jo(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(vo).map(i=>i.query))||[]}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new jo(this.actions,e,!0)})}};n(jo,"Search");var X_=jo;var Yo,mf,ls=class{constructor(e,i){var o,s,r,u;if(Yo.set(this,void 0),mf.set(this,void 0),T(this,mf,e,"f"),T(this,Yo,d.parseResponse(i.data),"f"),this.sidebar=(o=l(this,Yo,"f").sidebar)===null||o===void 0?void 0:o.as(c_),!l(this,Yo,"f").contents)throw new v("Page contents not found");let p=l(this,Yo,"f").contents.item().as(Ji).tabs.array().as(_e).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q).contents.as(me);this.introduction=(u=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||u===void 0?void 0:u.firstOfType(Ym),this.sections=f==null?void 0:f.map(m=>{var _;return{title:((_=m.header)===null||_===void 0?void 0:_.title.toString())||null,contents:m.contents}})}selectSidebarItem(e){return x(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(An))i=e;else throw new v("Invalid item",{target_item:e});let o=yield i.endpoint.call(l(this,mf,"f"),{parse:!1});return new ls(l(this,mf,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(Hn).options;if(r){for(let u of r)if(u.is(Wn)&&((i=u.title)===null||i===void 0?void 0:i.toString())===e)return u}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Hn).options&&(e=e.concat(o.as(Hn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return l(this,Yo,"f")}};n(ls,"Settings");Yo=new WeakMap,mf=new WeakMap;var Q_=ls;var cs,Z_=class{constructor(e){var i;if(cs.set(this,void 0),T(this,cs,d.parseResponse(e.data),"f"),!l(this,cs,"f").contents)throw new v("Page contents not found");let o=l(this,cs,"f").contents.item().as(ii).tabs.get({selected:!0});if(!o)throw new v("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Q).contents.as(me)}get page(){return l(this,cs,"f")}};n(Z_,"TimeWatched");cs=new WeakMap;var ev=Z_;var W0={};j(W0,{Feed:()=>fe,FilterableFeed:()=>$i,MediaInfo:()=>Qi,TabbedFeed:()=>Qn});var Ie,ze,Pw,Cw,j0,Y0,Ew,_f=class{static download(e,i,o,s,r,u){return x(this,void 0,void 0,function*(){if((o==null?void 0:o.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((o==null?void 0:o.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),f=this.chooseFormat(p,s),m=f.decipher(r);if(p.type==="video+audio"&&!e.range){let P=yield i.session.http.fetch_function(`${m}&cpn=${u}`,{method:"GET",headers:mr,redirect:"follow"});if(!P.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:P});let M=P.body;if(!M)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:P});return M}let _=1048576*10,y=e.range?e.range.start:0,b=e.range?e.range.end:_,S=!1,k;return new V.shim.ReadableStream({start(){},pull:P=>x(this,void 0,void 0,function*(){if(S){P.close();return}return(b>=(f.content_length?f.content_length:0)||e.range)&&(S=!0),new Promise((M,W)=>x(this,void 0,void 0,function*(){var F,le,xe,Ve;try{k=new AbortController;let K=yield i.session.http.fetch_function(`${m}&cpn=${u}&range=${y}-${b||""}`,{method:"GET",headers:Object.assign({},mr),signal:k.signal}),te=K.body;if(!te)throw new v("Could not get ReadableStream from fetch Response.",{video:this,error_type:"FETCH_FAILED",response:K});try{for(var Oe=!0,Qe=Vg(U0(te)),q;q=yield Qe.next(),F=q.done,!F;Oe=!0){Ve=q.value,Oe=!1;let ee=Ve;P.enqueue(ee)}}catch(ee){le={error:ee}}finally{try{!Oe&&!F&&(xe=Qe.return)&&(yield xe.call(Qe))}finally{if(le)throw le.error}}y=b+1,b+=_,M();return}catch(K){W(K)}}))}),cancel(P){return x(this,void 0,void 0,function*(){k.abort(P)})}},{highWaterMark:1,size(P){return P.byteLength}})})}static chooseFormat(e,i){if(!i)throw new v("Streaming data not available");let o=[...i.formats||[],...i.adaptive_formats||[]],s=e.type?e.type.includes("audio"):!0,r=e.type?e.type.includes("video"):!0,u=e.language||"original",p=e.quality||"best",f=-1,m=["best","bestefficiency"].includes(p),_=p!=="best",y=o.filter(b=>s&&!b.has_audio||r&&!b.has_video||e.format!=="any"&&!b.mime_type.includes(e.format||"mp4")||!m&&b.quality_label!==p?!1:(f<b.width&&(f=b.width),!0));if(!y.length)throw new v("No matching formats found",{options:e});if(m&&r&&(y=y.filter(b=>b.width===f)),s&&!r){let b=y.filter(S=>u!=="original"?!S.has_video&&S.language===u:!S.has_video&&S.is_original);b.length>0&&(y=b)}return _?y.sort((b,S)=>b.bitrate-S.bitrate):y.sort((b,S)=>S.bitrate-b.bitrate),y[0]}static toDash(e,i=p=>p,o,s,r,u){return x(this,void 0,void 0,function*(){if(!e)throw new v("Streaming data not available");let p;if(o?p=e.adaptive_formats.filter(b=>!o(b)):p=e.adaptive_formats,!p.length)throw new v("No adaptive formats found");let f=p[0].approx_duration_ms/1e3,m=new V.shim.DOMParser().parseFromString('<?xml version="1.0" encoding="utf-8"?><MPD />',"application/xml"),_=m.querySelector("MPD"),y=m.createElement("Period");return _.replaceWith(l(this,Ie,"m",ze).call(this,m,"MPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${f}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},[y])),yield l(this,Ie,"m",Pw).call(this,m,y,p,i,s,r,u),V.shim.serializeDOM(m)})}};n(_f,"FormatUtils");Ie=_f,ze=n(function(e,i,o,s=[]){let r=e.createElement(i);for(let[u,p]of Object.entries(o))p&&r.setAttribute(u,p);for(let u of s)typeof u>"u"||r.appendChild(u);return r},"_FormatUtils_el"),Pw=n(function(e,i,o,s,r,u,p){var f,m,_;return x(this,void 0,void 0,function*(){let y=[],b=[[]];o.forEach(k=>{if((!k.index_range||!k.init_range)&&!k.is_type_otf)return;let E=k.mime_type,P=y.indexOf(E);P>-1?b[P].push(k):(y.push(E),b.push([]),b[y.length-1].push(k))});let S=0;for(let k=0;k<y.length;k++)if(b[k][0].has_audio&&b[k][0].audio_track){let E=[],P=[[]];b[k].forEach(M=>{var W,F;let le=E.indexOf((W=M.audio_track)===null||W===void 0?void 0:W.id);le>-1?P[le].push(M):(E.push((F=M.audio_track)===null||F===void 0?void 0:F.id),P.push([]),P[E.length-1].push(M))});for(let M=0;M<E.length;M++){let W=P[M][0],F=[],le;!((f=W.audio_track)===null||f===void 0)&&f.audio_is_default?le="main":W.is_dubbed?le="dub":W.is_descriptive?le="description":le="alternate",F.push(l(this,Ie,"m",ze).call(this,e,"Role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:le}),l(this,Ie,"m",ze).call(this,e,"Label",{id:S.toString()},[e.createTextNode((m=W.audio_track)===null||m===void 0?void 0:m.display_name)]));let xe=l(this,Ie,"m",ze).call(this,e,"AdaptationSet",{id:`${S++}`,mimeType:y[k].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true",lang:W.language,label:(_=W.audio_track)===null||_===void 0?void 0:_.display_name},F);i.appendChild(xe);for(let Ve of P[M])yield l(this,Ie,"m",j0).call(this,e,xe,Ve,s,r,u,p)}}else{let E=l(this,Ie,"m",ze).call(this,e,"AdaptationSet",{id:`${S++}`,mimeType:y[k].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true"});i.appendChild(E);for(let P of b[k])P.has_video?yield l(this,Ie,"m",Cw).call(this,e,E,P,s,r,u,p):yield l(this,Ie,"m",j0).call(this,e,E,P,s,r,u,p)}})},"_FormatUtils_generateAdaptationSet"),Cw=n(function(e,i,o,s,r,u,p){var f,m,_,y,b,S;return x(this,void 0,void 0,function*(){let k=Ke(o.mime_type,'codecs="','"'),E=new URL(o.decipher(u));E.searchParams.set("cpn",r||"");let P=l(this,Ie,"m",ze).call(this,e,"Representation",{id:(f=o.itag)===null||f===void 0?void 0:f.toString(),codecs:k,bandwidth:(m=o.bitrate)===null||m===void 0?void 0:m.toString(),width:(_=o.width)===null||_===void 0?void 0:_.toString(),height:(y=o.height)===null||y===void 0?void 0:y.toString(),maxPlayoutRate:"1",frameRate:(b=o.fps)===null||b===void 0?void 0:b.toString()});i.appendChild(P),yield l(this,Ie,"m",Y0).call(this,e,P,o,(S=s(E))===null||S===void 0?void 0:S.toString(),p)})},"_FormatUtils_generateRepresentationVideo"),j0=n(function(e,i,o,s,r,u,p){var f,m,_,y,b,S;return x(this,void 0,void 0,function*(){let k=Ke(o.mime_type,'codecs="','"'),E=new URL(o.decipher(u));E.searchParams.set("cpn",r||"");let P;o.audio_track?P=`${(f=o.itag)===null||f===void 0?void 0:f.toString()}-${o.audio_track.id}`:P=(m=o.itag)===null||m===void 0?void 0:m.toString();let M=l(this,Ie,"m",ze).call(this,e,"Representation",{id:P,codecs:k,bandwidth:(_=o.bitrate)===null||_===void 0?void 0:_.toString(),audioSamplingRate:(y=o.audio_sample_rate)===null||y===void 0?void 0:y.toString()},[l(this,Ie,"m",ze).call(this,e,"AudioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:((b=o.audio_channels)===null||b===void 0?void 0:b.toString())||"2"})]);i.appendChild(M),yield l(this,Ie,"m",Y0).call(this,e,M,o,(S=s(E))===null||S===void 0?void 0:S.toString(),p)})},"_FormatUtils_generateRepresentationAudio"),Y0=n(function(e,i,o,s,r){return x(this,void 0,void 0,function*(){if(o.is_type_otf){if(!r)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:o});let{resolved_url:u,segment_durations:p}=yield l(this,Ie,"m",Ew).call(this,s,r),f=[];for(let m of p){let _;typeof m.repeat_count>"u"?_={d:m.duration.toString()}:_={d:m.duration.toString(),r:m.repeat_count.toString()},f.push(l(this,Ie,"m",ze).call(this,e,"S",_))}i.appendChild(l(this,Ie,"m",ze).call(this,e,"SegmentTemplate",{startNumber:"1",timescale:"1000",initialization:`${u}&sq=0`,media:`${u}&sq=$Number$`},[l(this,Ie,"m",ze).call(this,e,"SegmentTimeline",{},f)]))}else{if(!o.index_range||!o.init_range)throw new v("Index and init ranges not available",{format:o});i.appendChild(l(this,Ie,"m",ze).call(this,e,"BaseURL",{},[e.createTextNode(s)])),i.appendChild(l(this,Ie,"m",ze).call(this,e,"SegmentBase",{indexRange:`${o.index_range.start}-${o.index_range.end}`},[l(this,Ie,"m",ze).call(this,e,"Initialization",{range:`${o.init_range.start}-${o.init_range.end}`})]))}})},"_FormatUtils_generateSegmentInformation"),Ew=n(function(e,i){var o;return x(this,void 0,void 0,function*(){let s=yield i.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:mr,redirect:"follow"}),r=s.url.replace("&rn=0","").replace("&sq=0",""),u=yield s.text(),p=(o=Ke(u,"Segment-Durations-Ms:",`\r
`))===null||o===void 0?void 0:o.split(",");if(!p)throw new v("Failed to extract the segment durations from this OTF stream",{url:e});let f=[];for(let m of p){let _=m.trim();if(_.length===0)continue;let y,b=Ke(_,"(r=",")");b&&(y=parseInt(b)),f.push({duration:parseInt(_),repeat_count:y})}return{resolved_url:r,segment_durations:f}})},"_FormatUtils_getOTFSegmentInformation");var vf=_f;var tv,Ti,ds,gf,iv=class{constructor(e,i,o){var s,r;tv.set(this,void 0),Ti.set(this,void 0),ds.set(this,void 0),gf.set(this,void 0),T(this,Ti,i,"f");let u=d.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?d.parseResponse(e[1].data):void 0;if(T(this,tv,[u,p],"f"),T(this,ds,o,"f"),((r=u.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new v("This video is unavailable",u.playability_status);this.streaming_data=u.streaming_data,this.playability_status=u.playability_status,T(this,gf,u.playback_tracking,"f")}toDash(e,i){return x(this,void 0,void 0,function*(){return vf.toDash(this.streaming_data,e,i,l(this,ds,"f"),l(this,Ti,"f").session.player,l(this,Ti,"f"))})}chooseFormat(e){return vf.chooseFormat(e,this.streaming_data)}download(e={}){return x(this,void 0,void 0,function*(){return vf.download(e,l(this,Ti,"f"),this.playability_status,this.streaming_data,l(this,Ti,"f").session.player,this.cpn)})}addToWatchHistory(e=se.WEB.NAME,i=se.WEB.VERSION,o="https://www."){return x(this,void 0,void 0,function*(){if(!l(this,gf,"f"))throw new v("Playback tracking not available");let s={cpn:l(this,ds,"f"),fmt:251,rtn:0,rt:0},r=l(this,gf,"f").videostats_playback_url.replace("https://s.",o);return yield l(this,Ti,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return l(this,Ti,"f")}get cpn(){return l(this,ds,"f")}get page(){return l(this,tv,"f")}};n(iv,"MediaInfo");tv=new WeakMap,Ti=new WeakMap,ds=new WeakMap,gf=new WeakMap;var Qi=iv;var Zi,ps=class extends Qi{constructor(e,i,o){var s,r,u,p,f,m,_,y,b,S,k,E,P,M,W,F,le,xe,Ve,Oe,Qe,q,K,te,ee,Ze,Lt,Ft,jt,Yt,Ut,Wt,Ht,Jt,Gt,zt,Kt,$t,mt,bn;super(e,i,o),Zi.set(this,void 0);let[ce,ci]=this.page;if(ce.microformat&&!(!((s=ce.microformat)===null||s===void 0)&&s.is(It,Zt)))throw new v("Invalid microformat",ce.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},ce.video_details),{embed:!((r=ce.microformat)===null||r===void 0)&&r.is(It)?(u=ce.microformat)===null||u===void 0?void 0:u.embed:null,channel:!((p=ce.microformat)===null||p===void 0)&&p.is(It)?(f=ce.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=ce.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=ce.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((y=ce.microformat)===null||y===void 0)&&y.is(It)?(b=ce.microformat)===null||b===void 0?void 0:b.category:null,has_ypc_metadata:!((S=ce.microformat)===null||S===void 0)&&S.is(It)?(k=ce.microformat)===null||k===void 0?void 0:k.has_ypc_metadata:null,start_timestamp:!((E=ce.microformat)===null||E===void 0)&&E.is(It)?ce.microformat.start_timestamp:null,view_count:((P=ce.microformat)===null||P===void 0?void 0:P.is(It))&&isNaN((M=ce.video_details)===null||M===void 0?void 0:M.view_count)?ce.microformat.view_count:(W=ce.video_details)===null||W===void 0?void 0:W.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ce.annotations,this.storyboards=ce.storyboards,this.endscreen=ce.endscreen,this.captions=ce.captions,this.cards=ce.cards;let et=(F=ci==null?void 0:ci.contents)===null||F===void 0?void 0:F.item().as(Gn),wn=et==null?void 0:et.results,jf=et==null?void 0:et.secondary_results;if(wn&&jf){if(((le=ce.microformat)===null||le===void 0?void 0:le.is(It))&&((xe=ce.microformat)===null||xe===void 0?void 0:xe.category)==="Gaming"){let di=(Qe=(Oe=(Ve=wn.firstOfType(Jp))===null||Ve===void 0?void 0:Ve.metadata)===null||Oe===void 0?void 0:Oe.rows)===null||Qe===void 0?void 0:Qe.firstOfType(Ld);di!=null&&di.is(Ld)&&(this.game_info={title:(K=(q=di==null?void 0:di.contents)===null||q===void 0?void 0:q.firstOfType(Bd))===null||K===void 0?void 0:K.title,release_year:(ee=(te=di==null?void 0:di.contents)===null||te===void 0?void 0:te.firstOfType(Bd))===null||ee===void 0?void 0:ee.subtitle})}this.primary_info=wn.firstOfType(x_),this.secondary_info=wn.firstOfType(Jp),this.merchandise=wn.firstOfType(Im),this.related_chip_cloud=(Ze=jf.firstOfType(o_))===null||Ze===void 0?void 0:Ze.content.as(St),et!=null&&et.playlist&&(this.playlist=et.playlist),this.watch_next_feed=((Lt=jf.firstOfType(me))===null||Lt===void 0?void 0:Lt.contents)||jf,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Ft=this.watch_next_feed[this.watch_next_feed.length-1])===null||Ft===void 0?void 0:Ft.is(Le))&&T(this,Zi,(jt=this.watch_next_feed.pop())===null||jt===void 0?void 0:jt.as(Le),"f"),this.player_overlays=(Yt=ci==null?void 0:ci.player_overlays)===null||Yt===void 0?void 0:Yt.item().as(Wi),et!=null&&et.autoplay&&(this.autoplay=et.autoplay);let Je=(Wt=(Ut=this.primary_info)===null||Ut===void 0?void 0:Ut.menu)===null||Wt===void 0?void 0:Wt.top_level_buttons.firstOfType(So);((Ht=Je==null?void 0:Je.like_button)===null||Ht===void 0?void 0:Ht.is(Ae))&&((Jt=Je==null?void 0:Je.dislike_button)===null||Jt===void 0?void 0:Jt.is(Ae))&&(this.basic_info.like_count=(Gt=Je==null?void 0:Je.like_button)===null||Gt===void 0?void 0:Gt.like_count,this.basic_info.is_liked=(zt=Je==null?void 0:Je.like_button)===null||zt===void 0?void 0:zt.is_toggled,this.basic_info.is_disliked=(Kt=Je==null?void 0:Je.dislike_button)===null||Kt===void 0?void 0:Kt.is_toggled);let x0=($t=wn.get({target_id:"comments-entry-point"}))===null||$t===void 0?void 0:$t.as(me);this.comments_entry_point_header=(mt=x0==null?void 0:x0.contents)===null||mt===void 0?void 0:mt.firstOfType(Mh),this.livechat=(bn=ci==null?void 0:ci.contents_memo)===null||bn===void 0?void 0:bn.getType(pm).first()}}selectFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let u;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new v("Invalid filter",{available_filters:this.filters});u=m}else if(e!=null&&e.is(he))u=e;else throw new v("Invalid cloud chip",e);if(u.is_selected)return this;let p=yield(s=u.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){if(!l(this,Zi,"f"))throw new v("Watch next feed continuation not found");let u=yield(e=l(this,Zi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=u==null?void 0:u.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o[this.watch_next_feed.length-1])===null||s===void 0)&&s.is(Le)?T(this,Zi,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(Le),"f"):T(this,Zi,void 0,"f"),this})}like(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),s=o==null?void 0:o.like_button;if(!s)throw new v("Like button not found",{video_id:this.basic_info.id});if(!s.is(Ae))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),s=o==null?void 0:o.dislike_button;if(!s)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Ae))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return x(this,void 0,void 0,function*(){let o,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),r=s==null?void 0:s.like_button,u=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Ae))||!(u!=null&&u.is(Ae)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:u!=null&&u.is_toggled&&(o=u),!o)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new $_(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(rd).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new ps([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!l(this,Zi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(rd))}get music_tracks(){return[]}};n(ps,"VideoInfo");Zi=new WeakMap;var xf=ps;var G0={};j(G0,{Album:()=>nv,Artist:()=>av,Explore:()=>lv,HomeFeed:()=>cv,Library:()=>dv,LibraryContinuation:()=>Jo,Playlist:()=>xs,Recap:()=>fv,Search:()=>hv,TrackInfo:()=>kf});var Si,ov=class{constructor(e){var i,o,s;if(Si.set(this,void 0),T(this,Si,d.parseResponse(e.data),"f"),this.header=(i=l(this,Si,"f").header)===null||i===void 0?void 0:i.item().as(wo),this.url=((o=l(this,Si,"f").microformat)===null||o===void 0?void 0:o.as(Zt).url_canonical)||null,!l(this,Si,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=l(this,Si,"f").contents_memo.getType(be))===null||s===void 0?void 0:s.first().contents,this.sections=l(this,Si,"f").contents_memo.getType(Ee)||[]}get page(){return l(this,Si,"f")}};n(ov,"Album");Si=new WeakMap;var nv=ov;var fs,sv,rv=class{constructor(e,i){var o,s,r;fs.set(this,void 0),sv.set(this,void 0),T(this,fs,d.parseResponse(e.data),"f"),T(this,sv,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(Vm,Fm,Ui);let u=((s=l(this,fs,"f").contents_memo)===null||s===void 0?void 0:s.getType(be))||[],p=((r=l(this,fs,"f").contents_memo)===null||r===void 0?void 0:r.getType(Ee))||[];this.sections=[...u,...p]}getAllSongs(){var e,i;return x(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new v("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new v("Could not find target shelf (Songs).");if(!s.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(l(this,sv,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(To))===null||i===void 0?void 0:i.first()})}get page(){return l(this,fs,"f")}};n(rv,"Artist");fs=new WeakMap,sv=new WeakMap;var av=rv;var yf,uv=class{constructor(e){var i,o,s;yf.set(this,void 0),T(this,yf,d.parseResponse(e.data),"f");let r=(i=l(this,yf,"f").contents)===null||i===void 0?void 0:i.item().as(ii).tabs.get({selected:!0});if(!r)throw new v("Could not find target tab.");let u=(o=r.content)===null||o===void 0?void 0:o.as(Q);if(!u)throw new v("Target tab did not have any content.");this.top_buttons=((s=u.contents.firstOfType(xo))===null||s===void 0?void 0:s.items.as(jn))||[],this.sections=u.contents.filterType(Ee)}get page(){return l(this,yf,"f")}};n(uv,"Explore");yf=new WeakMap;var lv=uv;var eo,Uo,Wo,Ho=class{constructor(e,i){var o,s,r,u,p,f;eo.set(this,void 0),Uo.set(this,void 0),Wo.set(this,void 0),T(this,Uo,i,"f"),T(this,eo,d.parseResponse(e.data),"f");let m=(o=l(this,eo,"f").contents)===null||o===void 0?void 0:o.item().as(ii).tabs.get({selected:!0});if(!m)throw new v("Could not find Home tab.");if(m.key("content").isNull()){if(!l(this,eo,"f").continuation_contents)throw new v("Continuation did not have any content.");T(this,Wo,l(this,eo,"f").continuation_contents.as(lt).continuation,"f"),this.sections=(s=l(this,eo,"f").continuation_contents.as(lt).contents)===null||s===void 0?void 0:s.as(Ee);return}this.header=(u=(r=m.content)===null||r===void 0?void 0:r.as(Q).header)===null||u===void 0?void 0:u.as(St),T(this,Wo,(p=m.content)===null||p===void 0?void 0:p.as(Q).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Q).contents.as(Ee,Lm)}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,Wo,"f"))throw new v("Continuation not found.");let e=yield l(this,Uo,"f").execute("/browse",{client:"YTMUSIC",continuation:l(this,Wo,"f")});return new Ho(e,l(this,Uo,"f"))})}applyFilter(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(he).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(he)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(l(this,Uo,"f"),{client:"YTMUSIC"});return new Ho(r,l(this,Uo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(he).map(o=>o.text))||[]}get has_continuation(){return!!l(this,Wo,"f")}get page(){return l(this,eo,"f")}};n(Ho,"HomeFeed");eo=new WeakMap,Uo=new WeakMap,Wo=new WeakMap;var cv=Ho;var si,to,hs,io,bf,ms,_s=class{constructor(e,i){var o,s,r,u,p;si.set(this,void 0),to.set(this,void 0),hs.set(this,void 0),T(this,si,d.parseResponse(e.data),"f"),T(this,to,i,"f");let f=(o=l(this,si,"f").contents_memo)===null||o===void 0?void 0:o.getType(Q).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(Bm),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(xo,be),T(this,hs,(p=(u=this.contents)===null||u===void 0?void 0:u.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,s,r,u,p,f,m,_,y;return x(this,void 0,void 0,function*(){let b;if(typeof e=="string"){let P=(i=l(this,si,"f").contents_memo)===null||i===void 0?void 0:i.getType(qc).first(),M=(o=P==null?void 0:P.menu)===null||o===void 0?void 0:o.options.filter(W=>W instanceof Tt);if(b=M==null?void 0:M.find(W=>W.title===e),!b)throw new v(`Sort option "${e}" not found`,{available_filters:M.map(W=>W.title)})}else e instanceof Tt&&(b=e);if(!b)throw new v("Invalid sort option");if(b.selected)return this;let S=(p=(u=(r=(s=b.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||u===void 0?void 0:u.find(P=>P.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!S)throw new v("Failed to find sort option command");let k=yield l(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:S.continuation.reloadContinuationData.continuation,parse:!0}),E=(m=(f=l(this,si,"f").contents_memo)===null||f===void 0?void 0:f.getType(Tt))===null||m===void 0?void 0:m.find(P=>P.selected);return E&&(E.selected=!1),b.selected=!0,this.contents=(y=(_=k.continuation_contents)===null||_===void 0?void 0:_.as(lt).contents)===null||y===void 0?void 0:y.as(xo,be),this})}applyFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){let u,p=(i=l(this,si,"f").contents_memo)===null||i===void 0?void 0:i.getType(St).first();if(typeof e=="string"){if(u=p==null?void 0:p.chips.get({text:e}),!u)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof he&&(u=e);if(!u)throw new v("Invalid filter",e);let m=yield new g((r=(s=(o=u.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(l(this,to,"f"),{client:"YTMUSIC"});return new _s(m,l(this,to,"f"))})}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,hs,"f"))throw new v("No continuation available");let e=yield l(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:l(this,hs,"f")});return new Jo(e,l(this,to,"f"))})}get has_continuation(){return!!l(this,hs,"f")}get sort_options(){var e,i;let o=(e=l(this,si,"f").contents_memo)===null||e===void 0?void 0:e.getType(qc).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof Tt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=l(this,si,"f").contents_memo)===null||e===void 0?void 0:e.getType(St))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return l(this,si,"f")}};n(_s,"Library");si=new WeakMap,to=new WeakMap,hs=new WeakMap;var Jo=class{constructor(e,i){var o,s;if(io.set(this,void 0),bf.set(this,void 0),ms.set(this,void 0),T(this,io,d.parseResponse(e.data),"f"),T(this,bf,i,"f"),!l(this,io,"f").continuation_contents)throw new v("No continuation contents found");this.contents=l(this,io,"f").continuation_contents.as(xi,Po),T(this,ms,!((o=l(this,io,"f").continuation_contents)===null||o===void 0)&&o.key("continuation").isNull()?null:(s=l(this,io,"f").continuation_contents)===null||s===void 0?void 0:s.key("continuation").string(),"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,ms,"f"))throw new v("No continuation available");let e=yield l(this,bf,"f").execute("/browse",{client:"YTMUSIC",continuation:l(this,ms,"f")});return new Jo(e,l(this,bf,"f"))})}get has_continuation(){return!!l(this,ms,"f")}get page(){return l(this,io,"f")}};n(Jo,"LibraryContinuation");io=new WeakMap,bf=new WeakMap,ms=new WeakMap;var dv=_s;var J0,ct,zo,Go,vs,wf,Nw,gs=class{constructor(e,i){var o,s,r,u,p,f,m;if(J0.add(this),ct.set(this,void 0),zo.set(this,void 0),Go.set(this,void 0),vs.set(this,void 0),wf.set(this,void 0),T(this,zo,i,"f"),T(this,ct,d.parseResponse(e.data),"f"),T(this,vs,null,"f"),T(this,wf,null,"f"),l(this,ct,"f").continuation_contents){let _=(o=l(this,ct,"f").continuation_contents)===null||o===void 0?void 0:o.as(Eo);this.items=_.contents,T(this,Go,_.continuation,"f")}else((s=l(this,ct,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(u=(r=l(this,ct,"f").header)===null||r===void 0?void 0:r.item().as(Mm).header)===null||u===void 0?void 0:u.as(wo):this.header=(p=l(this,ct,"f").header)===null||p===void 0?void 0:p.item().as(wo),this.items=((f=l(this,ct,"f").contents_memo)===null||f===void 0?void 0:f.getType(To).first().contents)||null,T(this,Go,((m=l(this,ct,"f").contents_memo)===null||m===void 0?void 0:m.getType(To).first().continuation)||null,"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,Go,"f"))throw new v("Continuation not found.");let e=yield l(this,zo,"f").execute("/browse",{client:"YTMUSIC",continuation:l(this,Go,"f")});return new gs(e,l(this,zo,"f"))})}getRelated(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){let u=(i=(e=l(this,ct,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q))===null||i===void 0?void 0:i[0].continuation;for(;u;){let f=(o=(yield l(this,zo,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(lt),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ee,be),_=(r=m==null?void 0:m.matchCondition(y=>y.is(Ee)))===null||r===void 0?void 0:r.as(Ee);if(_)return _;u=f==null?void 0:f.continuation}throw new v("Target section not found.")})}getSuggestions(e=!0){return x(this,void 0,void 0,function*(){let s=yield e||!l(this,vs,"f")?l(this,J0,"m",Nw).call(this):Promise.resolve(null);return s&&(T(this,vs,s.items,"f"),T(this,wf,s.continuation,"f")),(s==null?void 0:s.items)||l(this,vs,"f")})}get page(){return l(this,ct,"f")}get has_continuation(){return!!l(this,Go,"f")}};n(gs,"Playlist");ct=new WeakMap,zo=new WeakMap,Go=new WeakMap,vs=new WeakMap,wf=new WeakMap,J0=new WeakSet,Nw=n(function(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){let u=l(this,wf,"f")||((i=(e=l(this,ct,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Q).continuation);if(u){let f=(o=(yield l(this,zo,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(lt),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ee,be),_=(r=m==null?void 0:m.matchCondition(y=>y.is(be)))===null||r===void 0?void 0:r.as(be);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var xs=gs;var oo,Tf,pv=class{constructor(e,i){var o,s,r,u,p,f,m;oo.set(this,void 0),Tf.set(this,void 0),T(this,oo,d.parseResponse(e.data),"f"),T(this,Tf,i,"f");let _=(o=l(this,oo,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(Oc)?(u=(r=(s=l(this,oo,"f").header)===null||s===void 0?void 0:s.item().as(Oc).element)===null||r===void 0?void 0:r.model)===null||u===void 0?void 0:u.as(Xu):(p=l(this,oo,"f").header)===null||p===void 0?void 0:p.item().as(Ui);let y=(f=l(this,oo,"f").contents)===null||f===void 0?void 0:f.item().as(ii).tabs.firstOfType(_e);if(!y)throw new v("Target tab not found");this.sections=(m=y.content)===null||m===void 0?void 0:m.as(Q).contents.as(me,Ee,je)}getPlaylist(){return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(Xu))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(l(this,Tf,"f"),{client:"YTMUSIC"});return new xs(i,l(this,Tf,"f"))})}get page(){return l(this,oo,"f")}};n(pv,"Recap");oo=new WeakMap,Tf=new WeakMap;var fv=pv;var ri,ki,ys,Sf,bs,Ko=class{constructor(e,i,o){var s,r,u;if(ri.set(this,void 0),ki.set(this,void 0),ys.set(this,void 0),T(this,ki,i,"f"),T(this,ri,d.parseResponse(e.data),"f"),!l(this,ri,"f").contents||!l(this,ri,"f").contents_memo)throw new v("Response did not contain any contents.");let p=l(this,ri,"f").contents.item().as(m_).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q);if(!f)throw new v("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(St),this.contents=f.contents.as(be,Pm,me),o&&T(this,ys,(u=this.contents.firstOfType(be))===null||u===void 0?void 0:u.continuation,"f")}getMore(e){return x(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(l(this,ki,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new Ko(i,l(this,ki,"f"),!0)})}getContinuation(){return x(this,void 0,void 0,function*(){if(!l(this,ys,"f"))throw new v("Continuation not found.");let e=yield l(this,ki,"f").execute("/search",{continuation:l(this,ys,"f"),client:"YTMUSIC"});return new ws(l(this,ki,"f"),e)})}applyFilter(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(he).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(he)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(l(this,ki,"f"),{client:"YTMUSIC"});return new Ko(r,l(this,ki,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(he).map(o=>o.text))||[]}get has_continuation(){return!!l(this,ys,"f")}get did_you_mean(){var e;return(e=l(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(Uh).first()}get showing_results_for(){var e;return(e=l(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(p_).first()}get message(){var e;return(e=l(this,ri,"f").contents_memo)===null||e===void 0?void 0:e.getType(je).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(be))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be)}get page(){return l(this,ri,"f")}};n(Ko,"Search");ri=new WeakMap,ki=new WeakMap,ys=new WeakMap;var hv=Ko,ws=class{constructor(e,i){var o,s;Sf.set(this,void 0),bs.set(this,void 0),T(this,Sf,e,"f"),T(this,bs,d.parseResponse(i.data),"f"),this.header=(o=l(this,bs,"f").header)===null||o===void 0?void 0:o.item().as(Ui),this.contents=(s=l(this,bs,"f").continuation_contents)===null||s===void 0?void 0:s.as(xi)}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield l(this,Sf,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new ws(l(this,Sf,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return l(this,bs,"f")}};n(ws,"SearchContinuation");Sf=new WeakMap,bs=new WeakMap;var mv=class extends Qi{constructor(e,i,o){var s,r,u,p,f,m,_,y,b;super(e,i,o);let[S,k]=this.page;if(!(!((s=S.microformat)===null||s===void 0)&&s.is(Zt)))throw new v("Invalid microformat",S.microformat);if(this.basic_info=Object.assign(Object.assign({},S.video_details),{description:(r=S.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(u=S.microformat)===null||u===void 0?void 0:u.is_unlisted,is_family_safe:(p=S.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=S.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=S.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=S.storyboards,this.endscreen=S.endscreen,k){let E=(y=(_=k.contents_memo)===null||_===void 0?void 0:_.getType(b_))===null||y===void 0?void 0:y[0];this.tabs=E==null?void 0:E.tabs.array().as(_e),this.current_video_endpoint=k.current_video_endpoint,this.player_overlays=(b=k.player_overlays)===null||b===void 0?void 0:b.item().as(Wi)}}getTab(e){var i,o;return x(this,void 0,void 0,function*(){if(!this.tabs)throw new v("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(u=>{var p,f;return((f=(p=u.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().key("type").string())==="Message")return r.contents.item().as(je);if(!r.contents)throw new v("Page contents was empty",r);return r.contents.item().as(Q).contents})}getUpNext(e=!0){var i,o;return x(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new v("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(ti);if(!r.playlist_id&&e){let u=r.contents.firstOfType(Li);if(!u)throw new v("Automix item not found");let p=yield(i=u.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(o=p.contents_memo.getType(ti))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return x(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return x(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(_i)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,se.YTMUSIC.NAME,se.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(mv,"TrackInfo");var kf=mv;var z0={};j(z0,{Channel:()=>_v,HomeFeed:()=>vv,Search:()=>xv,VideoInfo:()=>bv});var Ts=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(kn),this.contents=this.memo.getType(me).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(ko))}getContinuation(){var e;return x(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Ts(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Ts,"Channel");var _v=Ts;var Ss=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(T_),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(S_)}selectCategoryTab(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(Kn)&&(o=e),!o)throw new v(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new Ss(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Ss,"HomeFeed");var vv=Ss;var gv=class extends fe{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(me).first();if(!o)throw new v("No item section found in search response.");this.contents=o.contents}};n(gv,"Search");var xv=gv;var yv=class extends Qi{constructor(e,i,o){var s,r,u,p,f;super(e,i,o);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let y=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(Gn),b=y==null?void 0:y.results,S=y==null?void 0:y.secondary_results;b&&S&&(this.slim_video_metadata=(u=(r=b.firstOfType(me))===null||r===void 0?void 0:r.contents)===null||u===void 0?void 0:u.firstOfType(f_),this.watch_next_feed=((p=S.firstOfType(me))===null||p===void 0?void 0:p.contents)||S,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Wi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(yv,"VideoInfo");var bv=yv;var d=J;var dt,wv=class{constructor(e,i,o,s){var r,u,p,f,m,_,y,b,S,k,E,P,M,W,F,le,xe,Ve,Oe,Qe,q,K,te,ee,Ze,Lt,Ft,jt,Yt,Ut,Wt,Ht,Jt,Gt,zt,Kt,$t;dt.set(this,void 0),T(this,dt,new c(e),"f"),this.id=s||((m=(f=(p=(u=(r=l(this,dt,"f"))===null||r===void 0?void 0:r.runs)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.endpoint)===null||f===void 0?void 0:f.payload)===null||m===void 0?void 0:m.browseId)||((b=(y=(_=l(this,dt,"f"))===null||_===void 0?void 0:_.endpoint)===null||y===void 0?void 0:y.payload)===null||b===void 0?void 0:b.browseId)||"N/A",this.name=((S=l(this,dt,"f"))===null||S===void 0?void 0:S.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((P=(E=(k=l(this,dt,"f"))===null||k===void 0?void 0:k.runs)===null||E===void 0?void 0:E[0])===null||P===void 0?void 0:P.endpoint)||((M=l(this,dt,"f"))===null||M===void 0?void 0:M.endpoint),this.badges=Array.isArray(i)?d.parseArray(i):ue([]),this.is_moderator=(W=this.badges)===null||W===void 0?void 0:W.some(mt=>mt.icon_type=="MODERATOR"),this.is_verified=(F=this.badges)===null||F===void 0?void 0:F.some(mt=>mt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(le=this.badges)===null||le===void 0?void 0:le.some(mt=>mt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((q=(Qe=(Oe=(Ve=(xe=l(this,dt,"f"))===null||xe===void 0?void 0:xe.runs)===null||Ve===void 0?void 0:Ve[0])===null||Oe===void 0?void 0:Oe.endpoint)===null||Qe===void 0?void 0:Qe.metadata)===null||q===void 0?void 0:q.api_url)==="/browse"&&`${Te.YT_BASE}${((Lt=(Ze=(ee=(te=(K=l(this,dt,"f"))===null||K===void 0?void 0:K.runs)===null||te===void 0?void 0:te[0])===null||ee===void 0?void 0:ee.endpoint)===null||Ze===void 0?void 0:Ze.payload)===null||Lt===void 0?void 0:Lt.canonicalBaseUrl)||`/u/${(Wt=(Ut=(Yt=(jt=(Ft=l(this,dt,"f"))===null||Ft===void 0?void 0:Ft.runs)===null||jt===void 0?void 0:jt[0])===null||Yt===void 0?void 0:Yt.endpoint)===null||Ut===void 0?void 0:Ut.payload)===null||Wt===void 0?void 0:Wt.browseId}`}`||`${Te.YT_BASE}${((Gt=(Jt=(Ht=l(this,dt,"f"))===null||Ht===void 0?void 0:Ht.endpoint)===null||Jt===void 0?void 0:Jt.payload)===null||Gt===void 0?void 0:Gt.canonicalBaseUrl)||`/u/${($t=(Kt=(zt=l(this,dt,"f"))===null||zt===void 0?void 0:zt.endpoint)===null||Kt===void 0?void 0:Kt.payload)===null||$t===void 0?void 0:$t.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(wv,"Author");dt=new WeakMap;var O=wv;var Aw={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Tv,Sv,V=class{static load(e){T(V,Tv,e,"f",Sv)}static get shim(){if(!l(V,Tv,"f",Sv))throw new Error("Platform is not loaded");return l(V,Tv,"f",Sv)}};n(V,"Platform");Tv=V;Sv={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=V.shim.info.version}};n(v,"InnertubeError");var at=class extends v{};n(at,"ParsingError");var $o=class extends v{};n($o,"MissingParamError");var ai=class extends v{};n(ai,"OAuthError");var Rt=class extends Error{};n(Rt,"PlayerError");var ks=class extends Error{};n(ks,"SessionError");var es=class extends Error{};n(es,"ChannelError");function Yf(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof c;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(Yf,"deepCompare");function Ke(t,e,i){let o=new RegExp(`${$0(e)}(.*?)${$0(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(Ke,"getStringBetweenStrings");function $0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n($0,"escapeStringRegexp");function qo(t){let e=Aw[t],i=Math.floor(Math.random()*e.length);return e[i]}n(qo,"getRandomUserAgent");function q0(t){return x(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield V.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n(q0,"generateSidAuth");function gt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(gt,"generateRandomString");function Ue(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Ue,"timeToSeconds");function D0(...t){let e=new Ri;for(let i of t)if(!!i)for(let o of i)e.set(...o);return e}n(D0,"concatMemos");function oe(t){for(let[e,i]of Object.entries(t))if(!i)throw new $o(`${e} is missing`)}n(oe,"throwIfMissing");function d1(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(d1,"hasKeys");function U0(t){return Mg(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield lo(i.read());if(o)return yield lo(void 0);yield yield lo(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(U0,"streamToIterable");var p1=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",u=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${u}
' + 
    '  body:
${r}`),V.shim.fetch(t,e)},"debugFetch");function _t(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(_t,"u8ToBase64");function P0(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(P0,"base64ToU8");function Ge(t){return!("emoji"in t)}n(Ge,"isTextRun");function Q0(t){return x(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let u=0;u<s.length;++u)r.push(e[s[u]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Q0,"sha1Hash");var kv={name:"volumio-youtubei.js",version:"0.3.6",description:"Modified version of YouTube.js library for use with Volumio's YouTube Music plugin.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"Original author: LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT). Modified by Patrick Kan (https://github.com/patrickkfkan).",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/build-parser-map.cjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":`npx cpy ./src ./deno && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'linkedom';" "'https://esm.sh/linkedom';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r && npx replace "new Jinter.default" "new Jinter" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/patrickkfkan/Volumio-YouTube.js.git"},license:"MIT",dependencies:{"event-target-polyfill":"0.0.3",jintr:"^2.0.0",linkedom:"^0.14.12","node-fetch":"^2.6.7",tslib:"^2.5.0",uuid:"^9.0.0","web-streams-polyfill":"^3.2.1"},devDependencies:{"@types/jest":"^28.1.7","@types/node":"^17.0.45","@types/node-fetch":"^2.6.11","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^5.0.0"},bugs:{url:"https://github.com/patrickkfkan/Volumio-YouTube.js/issues"},homepage:"https://github.com/patrickkfkan/Volumio-YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Ef={};j(Ef,{ArrayExpression:()=>Is,ArrowFunctionExpression:()=>Cs,AssignmentExpression:()=>Es,BinaryExpression:()=>Ps,BlockStatement:()=>Ns,BreakStatement:()=>As,CallExpression:()=>Rs,ConditionalExpression:()=>Vs,ContinueStatement:()=>Os,ExpressionStatement:()=>Bs,ForOfStatement:()=>Ds,ForStatement:()=>Ls,FunctionDeclaration:()=>Fs,FunctionExpression:()=>js,Identifier:()=>Ys,IfStatement:()=>Us,Literal:()=>Ws,LogicalExpression:()=>Hs,MemberExpression:()=>Js,NewExpression:()=>Gs,ObjectExpression:()=>zs,Property:()=>Ks,ReturnStatement:()=>$s,SequenceExpression:()=>qs,SwitchCase:()=>Xs,SwitchStatement:()=>Qs,ThisExpression:()=>Zs,ThrowStatement:()=>er,TryStatement:()=>tr,UnaryExpression:()=>ir,UpdateExpression:()=>or,VariableDeclaration:()=>nr,WhileStatement:()=>sr});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var Is=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Is,"ArrayExpression");var Z0={};j(Z0,{JinterError:()=>Ii,namedFunction:()=>Xo});var Xo=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),Ii=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n(Ii,"JinterError");var Cs=class extends R{run(){let{params:e,body:i}=this.node;return Xo("anonymous function",s=>{let r=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,s[r]):console.warn("Unhandled param type",u.type),r++;return this.visitor.visitNode(i)})}};n(Cs,"ArrowFunctionExpression");var Es=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Es,"AssignmentExpression");var Ps=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Ps,"BinaryExpression");var Ns=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Ns,"BlockStatement");var As=class extends R{run(){return"break"}};n(As,"BreakStatement");var If=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Qo,Iv,Rw,Rs=class extends R{constructor(){super(...arguments),Qo.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="__continue_exec")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="__continue_exec")return r}if(this.node.callee.type==="MemberExpression"){if(Ms.has(this.node,this.visitor))return Ms.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),u=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return r||If(this,Qo,"m",Iv).call(this),typeof r[u]!="function"&&If(this,Qo,"m",Iv).call(this),r[u].toString().includes("[native code]")?r[u](...p):r[u](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&If(this,Qo,"m",Iv).call(this),o(s)}};n(Rs,"CallExpression");Qo=new WeakSet,Iv=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=If(this,Qo,"m",Rw).call(this,this.node.callee);throw new Ii(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Ii(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),Rw=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=If(this,Qo,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Ms=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Ms,"Builtins");Ms.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Vs=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Vs,"ConditionalExpression");var Os=class extends R{run(){return"continue"}};n(Os,"ContinueStatement");var Bs=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(Bs,"ExpressionStatement");var Ds=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Ds,"ForOfStatement");var Ls=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Ls,"ForStatement");var Fs=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=Xo(o,r=>{let u=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[u]):console.warn("Unhandled param type",p.type),u++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(Fs,"FunctionDeclaration");var js=class extends R{run(){let{params:e,body:i}=this.node;return Xo("anonymous function",s=>{let r=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,s[r]):console.warn("Unhandled param type",u.type),r++;return this.visitor.visitNode(i)})}};n(js,"FunctionExpression");var Ys=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Ys,"Identifier");var Us=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Us,"IfStatement");var Ws=class extends R{run(){return this.node.value}};n(Ws,"Literal");var Hs=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Hs,"LogicalExpression");var Js=class extends R{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let u=this.visitor.listeners[r](this.node,this.visitor);if(u!=="__continue_exec")return u}return s==null?void 0:s[r]}}};n(Js,"MemberExpression");var Gs=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(Gs,"NewExpression");var zs=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(zs,"ObjectExpression");var eg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Cf,Mw,Vw,Ow,Ks=class extends R{constructor(){super(...arguments),Cf.add(this)}run(){switch(this.node.kind){case"init":return eg(this,Cf,"m",Mw).call(this);case"get":return eg(this,Cf,"m",Vw).call(this);case"set":return eg(this,Cf,"m",Ow).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Ks,"Property");Cf=new WeakSet,Mw=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),Vw=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),Ow=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var $s=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n($s,"ReturnStatement");var qs=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(qs,"SequenceExpression");var Xs=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Xs,"SwitchCase");var Qs=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let u=this.visitor.visitNode(r);if(u==="break")break;if(u==="continue")return u;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(Qs,"SwitchStatement");var Zs=class extends R{run(){return this.visitor.scope.get("_this")}};n(Zs,"ThisExpression");var er=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(er,"ThrowStatement");var tr=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(tr,"TryStatement");var ir=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(ir,"UnaryExpression");var or=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(or,"UpdateExpression");var nr=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(nr,"VariableDeclaration");var sr=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(sr,"WhileStatement");var h1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},tg,Bw,rr=class{constructor(){tg.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=h1(this,tg,"m",Bw).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(rr,"Visitor");tg=new WeakSet,Bw=n(function(e){let i=Ef[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var m1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],Yw=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],_1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Uw="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ig={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},og="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",v1={5:og,"5module":og+" export import",6:og+" const class extends export import super"},g1=/^in(stanceof)?$/,x1=new RegExp("["+Uw+"]"),y1=new RegExp("["+Uw+_1+"]");function sg(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}}n(sg,"isInAstralSet");function Ei(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&x1.test(String.fromCharCode(t)):e===!1?!1:sg(t,Yw)}n(Ei,"isIdentifierStart");function ar(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&y1.test(String.fromCharCode(t)):e===!1?!1:sg(t,Yw)||sg(t,m1)}n(ar,"isIdentifierChar");var ne=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function xt(t,e){return new ne(t,{beforeExpr:!0,binop:e})}n(xt,"binop");var yt={beforeExpr:!0},st={startsExpr:!0},ug={};function Z(t,e){return e===void 0&&(e={}),e.keyword=t,ug[t]=new ne(t,e)}n(Z,"kw");var h={num:new ne("num",st),regexp:new ne("regexp",st),string:new ne("string",st),name:new ne("name",st),privateId:new ne("privateId",st),eof:new ne("eof"),bracketL:new ne("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ne("]"),braceL:new ne("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ne("}"),parenL:new ne("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ne(")"),comma:new ne(",",yt),semi:new ne(";",yt),colon:new ne(":",yt),dot:new ne("."),question:new ne("?",yt),questionDot:new ne("?."),arrow:new ne("=>",yt),template:new ne("template"),invalidTemplate:new ne("invalidTemplate"),ellipsis:new ne("...",yt),backQuote:new ne("`",st),dollarBraceL:new ne("${",{beforeExpr:!0,startsExpr:!0}),eq:new ne("=",{beforeExpr:!0,isAssign:!0}),assign:new ne("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ne("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ne("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:xt("||",1),logicalAND:xt("&&",2),bitwiseOR:xt("|",3),bitwiseXOR:xt("^",4),bitwiseAND:xt("&",5),equality:xt("==/!=/===/!==",6),relational:xt("</>/<=/>=",7),bitShift:xt("<</>>/>>>",8),plusMin:new ne("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:xt("%",10),star:xt("*",10),slash:xt("/",10),starstar:new ne("**",{beforeExpr:!0}),coalesce:xt("??",1),_break:Z("break"),_case:Z("case",yt),_catch:Z("catch"),_continue:Z("continue"),_debugger:Z("debugger"),_default:Z("default",yt),_do:Z("do",{isLoop:!0,beforeExpr:!0}),_else:Z("else",yt),_finally:Z("finally"),_for:Z("for",{isLoop:!0}),_function:Z("function",st),_if:Z("if"),_return:Z("return",yt),_switch:Z("switch"),_throw:Z("throw",yt),_try:Z("try"),_var:Z("var"),_const:Z("const"),_while:Z("while",{isLoop:!0}),_with:Z("with"),_new:Z("new",{beforeExpr:!0,startsExpr:!0}),_this:Z("this",st),_super:Z("super",st),_class:Z("class",st),_extends:Z("extends",yt),_export:Z("export"),_import:Z("import",st),_null:Z("null",st),_true:Z("true",st),_false:Z("false",st),_in:Z("in",{beforeExpr:!0,binop:7}),_instanceof:Z("instanceof",{beforeExpr:!0,binop:7}),_typeof:Z("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Z("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Z("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,b1=new RegExp(wt.source,"g");function ur(t){return t===10||t===13||t===8232||t===8233}n(ur,"isNewLine");function Ww(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(ur(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(Ww,"nextLineBreak");var Hw=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,bt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Jw=Object.prototype,w1=Jw.hasOwnProperty,T1=Jw.toString,Rf=Object.hasOwn||function(t,e){return w1.call(t,e)},Dw=Array.isArray||function(t){return T1.call(t)==="[object Array]"};function Zo(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(Zo,"wordsRegexp");function no(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(no,"codePointToString");var S1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Nf=n(function(e,i){this.line=e,this.column=i},"Position");Nf.prototype.offset=n(function(e){return new Nf(this.line,this.column+e)},"offset");var Av=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Gw(t,e){for(var i=1,o=0;;){var s=Ww(t,o,e);if(s<0)return new Nf(i,e-o);++i,o=s}}n(Gw,"getLineInfo");var rg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Lw=!1;function k1(t){var e={};for(var i in rg)e[i]=t&&Rf(t,i)?t[i]:rg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Lw&&typeof console=="object"&&console.warn&&(Lw=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),t.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),Dw(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return Dw(e.onComment)&&(e.onComment=I1(e,e.onComment)),e}n(k1,"getOptions");function I1(t,e){return function(i,o,s,r,u,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new Av(this,u,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(I1,"pushComment");var Af=1,lr=2,lg=4,zw=8,Kw=16,$w=32,cg=64,qw=128,Mf=256,dg=Af|lr|Mf;function pg(t,e){return lr|(t?lg:0)|(e?zw:0)}n(pg,"functionFlags");var Ev=0,fg=1,Ci=2,Xw=3,Qw=4,Zw=5,Me=n(function(e,i,o){this.options=e=k1(e),this.sourceFile=e.sourceFile,this.keywords=Zo(v1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=ig[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=Zo(s);var r=(s?s+" ":"")+ig.strict;this.reservedWordsStrict=Zo(r),this.reservedWordsStrictBind=Zo(r+" "+ig.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Af),this.regexpState=null,this.privateNameStack=[]},"Parser"),ui={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Me.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");ui.inFunction.get=function(){return(this.currentVarScope().flags&lr)>0};ui.inGenerator.get=function(){return(this.currentVarScope().flags&zw)>0&&!this.currentVarScope().inClassFieldInit};ui.inAsync.get=function(){return(this.currentVarScope().flags&lg)>0&&!this.currentVarScope().inClassFieldInit};ui.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Mf)return!1;if(e.flags&lr)return(e.flags&lg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};ui.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&cg)>0||i||this.options.allowSuperOutsideMethod};ui.allowDirectSuper.get=function(){return(this.currentThisScope().flags&qw)>0};ui.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};ui.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(lr|Mf))>0||i};ui.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Mf)>0};Me.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Me.parse=n(function(e,i){return new this(i,e).parse()},"parse");Me.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Me.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Me.prototype,ui);var $e=Me.prototype,C1=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;$e.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){bt.lastIndex=t,t+=bt.exec(this.input)[0].length;var e=C1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){bt.lastIndex=t+e[0].length;var i=bt.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||wt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,bt.lastIndex=t,t+=bt.exec(this.input)[0].length,this.input[t]===";"&&t++}};$e.eat=function(t){return this.type===t?(this.next(),!0):!1};$e.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};$e.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};$e.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};$e.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))};$e.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};$e.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};$e.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};$e.expect=function(t){this.eat(t)||this.unexpected()};$e.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Rv=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");$e.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};$e.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};$e.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};$e.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Y=Me.prototype;Y.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var hg={kind:"loop"},E1={kind:"switch"};Y.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;bt.lastIndex=this.pos;var e=bt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92||o>55295&&o<56320)return!0;if(t)return!1;if(o===123)return!0;if(Ei(o,!0)){for(var s=i+1;ar(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!g1.test(r))return!0}return!1};Y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;bt.lastIndex=this.pos;var t=bt.exec(this.input),e=this.pos+t[0].length,i;return!wt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(ar(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};Y.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=h._var,r="let"),o){case h._break:case h._continue:return this.parseBreakContinueStatement(s,o.keyword);case h._debugger:return this.parseDebuggerStatement(s);case h._do:return this.parseDoStatement(s);case h._for:return this.parseForStatement(s);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(s,!0);case h._if:return this.parseIfStatement(s);case h._return:return this.parseReturnStatement(s);case h._switch:return this.parseSwitchStatement(s);case h._throw:return this.parseThrowStatement(s);case h._try:return this.parseTryStatement(s);case h._const:case h._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case h._while:return this.parseWhileStatement(s);case h._with:return this.parseWithStatement(s);case h.braceL:return this.parseBlock(!0,s);case h.semi:return this.parseEmptyStatement(s);case h._export:case h._import:if(this.options.ecmaVersion>10&&o===h._import){bt.lastIndex=this.pos;var u=bt.exec(this.input),p=this.pos+u[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===h._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var m=this.value,_=this.parseExpression();return o===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(s,m,_,t):this.parseExpressionStatement(s,_)}};Y.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};Y.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Y.parseDoStatement=function(t){return this.next(),this.labels.push(hg),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Y.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hg),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),u=!1,p=new Rv,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&u&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};Y.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Pf|(i?0:ag),!1,e)};Y.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Y.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Y.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(E1),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var o=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Y.parseThrowStatement=function(t){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var P1=[];Y.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();if(this.next(),this.eat(h.parenL)){e.param=this.parseBindingAtom();var i=e.param.type==="Identifier";this.enterScope(i?$w:0),this.checkLValPattern(e.param,i?Qw:Ci),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Y.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Y.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(hg),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Y.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Y.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Y.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var u=r[s];u.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};Y.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Y.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Y.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Y.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};Y.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(h.eq)?o.init=this.parseMaybeAssign(e):i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(h.comma))break}return t};Y.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?fg:Ci,!1)};var Pf=1,ag=2,eT=4;Y.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===h.star&&e&ag&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Pf&&(t.id=e&eT&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&ag)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?fg:Ci:Xw));var r=this.yieldPos,u=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(pg(t.async,t.generator)),e&Pf||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=u,this.awaitIdentPos=p,this.finishNode(t,e&Pf?"FunctionDeclaration":"FunctionExpression")};Y.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Y.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(h.braceL);this.type!==h.braceR;){var u=this.parseClassElement(t.superClass!==null);u&&(s.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(r&&this.raise(u.start,"Duplicate constructor in the same class"),r=!0):u.key&&u.key.type==="PrivateIdentifier"&&N1(o,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Y.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,u="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(h.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||u!=="method"||s||r){var m=!i.static&&Pv(i,"constructor"),_=m&&t;m&&u!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":u,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};Y.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};Y.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Y.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&Pv(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Y.parseClassField=function(t){if(Pv(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Pv(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Y.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Mf|cg);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Y.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ci,!1)):(e===!0&&this.unexpected(),t.id=null)};Y.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(!1):null};Y.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Y.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var u=i[r];Rf(e,u.name)||(s?s.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function N1(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n(N1,"isPrivateNameConflicted");function Pv(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Pv,"checkKeyName");Y.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===h._function||(i=this.isAsyncFunction())){var o=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(o,Pf|eT,!1,i)}else if(this.type===h._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,u=t.specifiers;r<u.length;r+=1){var p=u[r];this.checkUnreserved(p.local),this.checkLocalExport(p.local),p.local.type==="Literal"&&this.raise(p.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Y.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Rf(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};Y.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var u=0,p=e.elements;u<p.length;u+=1){var f=p[u];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};Y.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};Y.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Y.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(t,o.exported,o.exported.start),e.push(this.finishNode(o,"ExportSpecifier"))}return e};Y.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=P1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Y.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,Ci),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(h.comma))return t}if(this.type===h.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,Ci),t.push(this.finishNode(o,"ImportNamespaceSpecifier")),t}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var s=this.startNode();s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,Ci),t.push(this.finishNode(s,"ImportSpecifier"))}return t};Y.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return S1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Y.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Y.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Vt=Me.prototype;Vt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Vt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Vt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Vt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Vt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Vt.parseBindingList=function(t,e,i){for(var o=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(h.comma),e&&this.type===h.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),o.push(r),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var u=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(u),o.push(u)}}return o};Vt.parseBindingListItem=function(t){return t};Vt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Vt.checkLValSimple=function(t,e,i){e===void 0&&(e=Ev);var o=e!==Ev;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ci&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Rf(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Zw&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Vt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Ev),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var u=0,p=t.elements;u<p.length;u+=1){var f=p[u];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Vt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Ev),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Mt=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),we={b_stat:new Mt("{",!1),b_expr:new Mt("{",!0),b_tmpl:new Mt("${",!1),p_stat:new Mt("(",!1),p_expr:new Mt("(",!0),q_tmpl:new Mt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Mt("function",!1),f_expr:new Mt("function",!0),f_expr_gen:new Mt("function",!0,!1,null,!0),f_gen:new Mt("function",!1,!1,null,!0)},cr=Me.prototype;cr.initialContext=function(){return[we.b_stat]};cr.curContext=function(){return this.context[this.context.length-1]};cr.braceIsBlock=function(t){var e=this.curContext();return e===we.f_expr||e===we.f_stat?!0:t===h.colon&&(e===we.b_stat||e===we.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===we.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};cr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};cr.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};cr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===we.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?we.b_stat:we.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(we.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?we.p_stat:we.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==we.p_stat)&&!(t===h._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===we.b_stat)?this.context.push(we.f_expr):this.context.push(we.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===we.q_tmpl?this.context.pop():this.context.push(we.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===we.f_expr?this.context[e]=we.f_expr_gen:this.context[e]=we.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $=Me.prototype;$.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var u=e[s];if(u){var p;r==="init"?p=this.strict&&u.init||u.get||u.set:p=u.init||u[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else u=e[s]={init:!1,get:!1,set:!1};u[r]=!0}};$.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===h.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};$.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,u=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,u=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Rv,o=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),u>-1&&(e.doubleProto=u),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),m};$.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(h.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};$.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};$.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==h._in)&&r>o){var u=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(r=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),m,_,r,s),b=this.buildBinary(e,i,t,y,f,u||p);return(u&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(b,e,i,o,s)}return t};$.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(t,e);return u.left=i,u.operator=s,u.right=o,this.finishNode(u,r?"LogicalExpression":"BinaryExpression")};$.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&tT(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,u=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(u=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(s,r);m.operator=this.value,m.prefix=!1,m.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,u,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return u};function tT(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&tT(t.expression)}n(tT,"isPrivateFieldAccess");$.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};$.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,u=!1;;){var p=this.parseSubscript(t,e,i,o,r,u,s);if(p.optional&&(u=!0),p===t||p.type==="ArrowFunctionExpression"){if(u){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};$.parseSubscript=function(t,e,i,o,s,r,u){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(h.parenL)){var y=new Rv,b=this.yieldPos,S=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,y);if(s&&!f&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=b,this.awaitPos=S,this.awaitIdentPos=k,this.parseArrowExpression(this.startNodeAt(e,i),E,!0,u);this.checkExpressionErrors(y,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=S||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=E,p&&(P.optional=f),t=this.finishNode(P,"CallExpression")}else if(this.type===h.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(e,i);M.tag=t,M.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(M,"TaggedTemplateExpression")}return t};$.parseExprAtom=function(t,e){this.type===h.slash&&this.readRegexp();var i,o=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(i,"Super");case h._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case h.name:var s=this.start,r=this.startLoc,u=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!u&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(we.f_expr),this.parseFunction(this.startNodeAt(s,r),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,r),[p],!1,e);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===h.name&&!u&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,r),[p],!0,e)}return p;case h.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return i=this.startNode(),i.value=this.type===h._null?null:this.type===h._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case h.parenL:var m=this.start,_=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),_;case h.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case h.braceL:return this.overrideContext(we.b_expr),this.parseObj(!1,t);case h._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};$.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};$.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};$.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};$.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};$.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,p=this.startLoc,f=[],m=!0,_=!1,y=new Rv,b=this.yieldPos,S=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){k=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var E=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(h.parenR),t&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=b,this.awaitPos=S,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(y,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=S||this.awaitPos,f.length>1?(s=this.startNodeAt(u,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",E,P)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(i,o);return M.expression=s,this.finishNode(M,"ParenthesizedExpression")}else return s};$.parseParenItem=function(t){return t};$.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var A1=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc,r=this.type===h._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),o,s,!0,!1),r&&t.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=A1,this.finishNode(t,"NewExpression")};$.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};$.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};$.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))};$.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(o)o=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};$.parseProperty=function(t,e){var i=this.startNode(),o,s,r,u;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,u=this.startLoc),t||(o=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i,e)):s=!1,this.parsePropertyValue(i,t,o,s,r,u,e,p),this.finishNode(i,"Property")};$.parsePropertyValue=function(t,e,i,o,s,r,u,p){if((i||o)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o);else if(!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(i||o)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var f=t.kind==="get"?0:1;if(t.value.params.length!==f){var m=t.value.start;t.kind==="get"?this.raiseRecoverable(m,"getter should have no params"):this.raiseRecoverable(m,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===h.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};$.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};$.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(pg(e,o.generator)|cg|(i?qw:0)),this.expect(h.parenL),o.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=u,this.finishNode(o,"FunctionExpression")};$.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(pg(i,!1)|Kw),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=u,this.finishNode(t,"ArrowFunctionExpression")};$.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==h.braceL,r=this.strict,u=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(u=this.strictDirective(this.end),u&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(t,!r&&!u&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Zw),t.body=this.parseBlock(!1,void 0,u&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};$.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};$.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,fg,e?null:i)}};$.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var u=void 0;i&&this.type===h.comma?u=null:this.type===h.ellipsis?(u=this.parseSpread(o),o&&this.type===h.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):u=this.parseMaybeAssign(!1,o),s.push(u)}return s};$.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};$.parseIdent=function(t,e){var i=this.startNode();return this.type===h.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};$.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};$.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};$.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Nv=Me.prototype;Nv.raise=function(t,e){var i=Gw(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Nv.raiseRecoverable=Nv.raise;Nv.curPosition=function(){if(this.options.locations)return new Nf(this.curLine,this.pos-this.lineStart)};var so=Me.prototype,R1=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");so.enterScope=function(t){this.scopeStack.push(new R1(t))};so.exitScope=function(){this.scopeStack.pop()};so.treatFunctionsAsVarInScope=function(t){return t.flags&lr||!this.inModule&&t.flags&Af};so.declareName=function(t,e,i){var o=!1;if(e===Ci){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&Af&&delete this.undefinedExports[t]}else if(e===Qw){var r=this.currentScope();r.lexical.push(t)}else if(e===Xw){var u=this.currentScope();this.treatFunctionsAsVar?o=u.lexical.indexOf(t)>-1:o=u.lexical.indexOf(t)>-1||u.var.indexOf(t)>-1,u.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&$w&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Af&&delete this.undefinedExports[t],f.flags&dg)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};so.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};so.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};so.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&dg)return e}};so.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&dg&&!(e.flags&Kw))return e}};var Mv=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Av(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Vf=Me.prototype;Vf.startNode=function(){return new Mv(this,this.start,this.startLoc)};Vf.startNodeAt=function(t,e){return new Mv(this,t,e)};function iT(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(iT,"finishNodeAt");Vf.finishNode=function(t,e){return iT.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Vf.finishNodeAt=function(t,e,i,o){return iT.call(this,t,e,i,o)};Vf.copyNode=function(t){var e=new Mv(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var oT="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",nT=oT+" Extended_Pictographic",sT=nT,rT=sT+" EBase EComp EMod EPres ExtPict",M1=rT,V1={9:oT,10:nT,11:sT,12:rT,13:M1},Fw="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",aT="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",uT=aT+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",lT=uT+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",cT=lT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",O1=cT+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",B1={9:aT,10:uT,11:lT,12:cT,13:O1},dT={};function D1(t){var e=dT[t]={binary:Zo(V1[t]+" "+Fw),nonBinary:{General_Category:Zo(Fw),Script:Zo(B1[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(D1,"buildUnicodeData");for(Cv=0,ng=[9,10,11,12,13];Cv<ng.length;Cv+=1)jw=ng[Cv],D1(jw);var jw,Cv,ng,D=Me.prototype,Pi=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=dT[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Pi.prototype.reset=n(function(e,i,o){var s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},"reset");Pi.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Pi.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var u=o.charCodeAt(e+1);return u>=56320&&u<=57343?(r<<10)+u-56613888:r},"at");Pi.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),u;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(u=o.charCodeAt(e+1))<56320||u>57343?e+1:e+2},"nextIndex");Pi.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Pi.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Pi.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Pi.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=0;o<i.length;o++){var s=i.charAt(o);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(s,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return pT(e)?(t.lastIntValue=e,t.advance(),!0):!1};function pT(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(pT,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!pT(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=no(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=no(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),L1(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function L1(t){return Ei(t,!0)||t===36||t===95}n(L1,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),F1(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function F1(t){return ar(t,!0)||t===36||t===95||t===8204||t===8205}n(F1,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!Vv(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return fT(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function fT(t){return t>=65&&t<=90||t>=97&&t<=122}n(fT,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(u>=56320&&u<=57343)return t.lastIntValue=(s-55296)*1024+(u-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&j1(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function j1(t){return t>=0&&t<=1114111}n(j1,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Y1(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function Y1(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(Y1,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Rf(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";hT(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function hT(t){return fT(t)||t===95}n(hT,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";U1(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function U1(t){return hT(t)||Vv(t)}n(U1,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};D.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||vT(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_eatClassControlLetter=function(t){var e=t.current();return Vv(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Vv(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Vv(t){return t>=48&&t<=57}n(Vv,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;mT(i=t.current());)t.lastIntValue=16*t.lastIntValue+_T(i),t.advance();return t.pos!==e};function mT(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(mT,"isHexDigit");function _T(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(_T,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return vT(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function vT(t){return t>=48&&t<=55}n(vT,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!mT(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+_T(s),t.advance()}return!0};var mg=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Av(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),X=Me.prototype;X.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new mg(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};X.getToken=function(){return this.next(),new mg(this)};typeof Symbol<"u"&&(X[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});X.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};X.readToken=function(t){return Ei(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};X.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};X.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=Ww(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};X.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!ur(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};X.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Hw.test(String.fromCharCode(t)))++this.pos;else break e}}};X.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};X.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};X.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};X.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(o,i)};X.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};X.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};X.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};X.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};X.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};X.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};X.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ei(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+no(e)+"'")};X.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+no(t)+"'")};X.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};X.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(wt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new Pi(this));p.reset(i,s,u),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,u)}catch(m){}return this.finishToken(h.regexp,{pattern:s,flags:u,value:f})};X.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,u=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),y=void 0;if(o&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?y=_-97+10:_>=65?y=_-65+10:_>=48&&_<=57?y=_-48:y=1/0,y>=t)break;p=_,u=u*t+y}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:u};function W1(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(W1,"stringToNumber");function gT(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(gT,"stringToBigInt");X.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=gT(this.input.slice(e,this.pos)),++this.pos):Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};X.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=gT(this.input.slice(e,this.pos));return++this.pos,Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ei(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=W1(this.input.slice(e,this.pos),i);return this.finishToken(h.num,r)};X.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};X.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ur(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var xT={};X.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===xT)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};X.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw xT;this.raise(t,e)};X.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(ur(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};X.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};X.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return no(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;return this.invalidStringToken(i,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return ur(e)?"":String.fromCharCode(e)}};X.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};X.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(ar(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?Ei:ar)(u,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=no(u),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};X.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=ug[t]),this.finishToken(e,t)};var H1="8.8.1";Me.acorn={Parser:Me,version:H1,defaultOptions:rg,Position:Nf,SourceLocation:Av,getLineInfo:Gw,Node:Mv,TokenType:ne,tokTypes:h,keywordTypes:ug,TokContext:Mt,tokContexts:we,isIdentifierChar:ar,isIdentifierStart:Ei,Token:mg,isNewLine:ur,lineBreak:wt,lineBreakG:b1,nonASCIIwhitespace:Hw};function yT(t,e){return Me.parse(t,e)}n(yT,"parse");var J1=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},G1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Ov,en=class{constructor(){Ov.set(this,[]),this.visitor=new rr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,s)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),u=o.arguments.map(f=>s.visitNode(f)),p=i[r];return p?p.apply(i,u):"__continue_exec"}return"__continue_exec"})}evaluate(e){try{let i=yT(e,{ecmaVersion:2020});J1(this,Ov,i.body,"f")}catch(i){throw new Ii(i.message)}return this.visitor.setAST(G1(this,Ov,"f")),this.visitor.run()}};n(en,"Jinter");Ov=new WeakMap;var Of,tn,bT,wT,TT,Bv=class{constructor(e){Of.add(this),tn.set(this,void 0),T(this,tn,e,"f")}get session(){return l(this,tn,"f")}stats(e,i,o){return x(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let u of Object.keys(o))s.searchParams.set(u,o[u]);return yield l(this,tn,"f").http.fetch(s)})}execute(e,i){var o,s;return x(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&l(this,Of,"m",TT).call(this,r.browseId)&&!l(this,tn,"f").logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let u=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield l(this,tn,"f").http.fetch(u,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=d.parseResponse(yield p.json());if(l(this,Of,"m",wT).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(Io);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return l(this,Of,"m",bT).call(this,p)})}};n(Bv,"Actions");tn=new WeakMap,Of=new WeakSet,bT=n(function(e){return x(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),wT=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),TT=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var _g=Bv;var on,Dv=class{constructor(e,i){on.set(this,void 0),T(this,on,new V.shim.Cache(e,i),"f")}get cache_dir(){return l(this,on,"f").cache_dir}get(e){return l(this,on,"f").get(e)}set(e,i){return l(this,on,"f").set(e,i)}remove(e){return l(this,on,"f").remove(e)}};n(Dv,"UniversalCache");on=new WeakMap;var z1=Dv;var vg,Ot,dr,Bf,ST,Lv=class{constructor(e,i,o){vg.add(this),Ot.set(this,void 0),dr.set(this,void 0),Bf.set(this,void 0),T(this,Ot,e,"f"),T(this,dr,i,"f"),T(this,Bf,o||V.shim.fetch,"f")}get fetch_function(){return l(this,Bf,"f")}fetch(e,i){return x(this,void 0,void 0,function*(){let o=Te.API.PRODUCTION_1+l(this,Ot,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),u=(i==null?void 0:i.headers)||(e instanceof V.shim.Request?e.headers:new V.shim.Headers)||new V.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof V.shim.Request?e.body:void 0),f=new V.shim.Headers(u);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",l(this,Ot,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",l(this,Ot,"f").context.client.clientVersion||""),V.shim.server&&(f.set("User-Agent",qo("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",l(this,Ot,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,y=!1,b=s===o||s===Te.YT_UPLOAD;if(m==="application/json"&&b&&typeof p=="string"){let E=JSON.parse(p),P=Object.assign(Object.assign({},E),{context:JSON.parse(JSON.stringify(l(this,Ot,"f").context))});l(this,vg,"m",ST).call(this,P.context,P.client),f.set("x-youtube-client-version",P.context.client.clientVersion),delete P.client,V.shim.server&&(P.context.client.clientName==="ANDROID"||P.context.client.clientName==="ANDROID_MUSIC")&&f.set("User-Agent",se.ANDROID.USER_AGENT),y=P.context.client.clientName==="WEB_KIDS",_=JSON.stringify(P)}if(l(this,Ot,"f").logged_in&&b&&!y){let E=l(this,Ot,"f").oauth;if(E.validateCredentials()&&(yield E.refreshIfRequired(),f.set("authorization",`Bearer ${E.credentials.access_token}`),r.searchParams.delete("key")),l(this,dr,"f")){let P=Ke(l(this,dr,"f"),"PAPISID=",";");P&&(f.set("authorization",yield q0(P)),f.set("x-goog-authuser",l(this,Ot,"f").account_index.toString())),f.set("cookie",l(this,dr,"f"))}}let S=new V.shim.Request(r,e instanceof V.shim.Request?e:i),k=yield l(this,Bf,"f").call(this,S,{body:_,headers:f,credentials:"include",redirect:e instanceof V.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(k.ok)return k;throw new v(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};n(Lv,"HTTPClient");Ot=new WeakMap,dr=new WeakMap,Bf=new WeakMap,vg=new WeakSet,ST=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=se.ANDROID.SDK_VERSION,e.client.userAgent=se.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"YTMUSIC":e.client.clientVersion=se.YTMUSIC.VERSION,e.client.clientName=se.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=se.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=se.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=se.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=se.TV_EMBEDDED.NAME,e.client.clientVersion=se.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Te.YT_BASE};break;case"YTKIDS":e.client.clientVersion=se.WEB_KIDS.VERSION,e.client.clientName=se.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var gg=Lv;var ro,ge=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let s=[`[${this.YTJS_TAG}]`];i&&s.push(`[${i}]`),this.log_map_[e](`${s.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(ge,"Log");ro=ge;ge.YTJS_TAG="YOUTUBEJS";ge.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};ge.log_map_={[ge.Level.ERROR]:(...t)=>console.error(...t),[ge.Level.WARNING]:(...t)=>console.warn(...t),[ge.Level.INFO]:(...t)=>console.info(...t),[ge.Level.DEBUG]:(...t)=>console.debug(...t)};ge.log_level_=[ge.Level.WARNING];ge.one_time_warnings_issued_=new Set;ge.warnOnce=(t,...e)=>{ro.one_time_warnings_issued_.has(t)||(ro.doLog(ge.Level.WARNING,t,e),ro.one_time_warnings_issued_.add(t))};ge.warn=(t,...e)=>ro.doLog(ge.Level.WARNING,t,e);ge.error=(t,...e)=>ro.doLog(ge.Level.ERROR,t,e);ge.info=(t,...e)=>ro.doLog(ge.Level.INFO,t,e);ge.debug=(t,...e)=>ro.doLog(ge.Level.DEBUG,t,e);var qe=ge;var ao={};j(ao,{compress:()=>K1,decompress:()=>$1});function K1(t){let e=[],i={};for(let r=0;r<256;r++)i[String.fromCharCode(r)]=r;let o="",s=256;for(let r=0;r<t.length;r++){let u=t[r],p=o+u;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=s++,o=u)}return o!==""&&e.push(i[o]),e.map(r=>String.fromCharCode(r)).join("")}n(K1,"compress");function $1(t){let e={},i=t.split(""),o=[i.shift()],s=i.length>>>0,r=256,u=o[0],p=u;for(let f=0;f<s;++f){let m=i[f].charCodeAt(0),_=m<256?i[f]:e[m]?e[m]:p+u;o.push(_),u=_.charAt(0),e[r++]=p+u,p=_}return o.join("")}n($1,"decompress");var li="Player",rt=class{constructor(e,i,o,s){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=s}static create(e,i=V.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/iframe_api",ke.URLS.YT_BASE),s=yield i(o);if(s.status!==200)throw new Rt("Failed to request player id");let r=yield s.text(),u=Ke(r,"player\\/","\\/");if(qe.info(li,`Got player id (${u}). Checking for cached players..`),!u)throw new Rt("Failed to get player id");if(e){let S=yield rt.fromCache(e,u);if(S)return qe.info(li,"Found up-to-date player data in cache."),S}let p=new URL(`/s/player/${u}/player_ias.vflset/en_US/base.js`,ke.URLS.YT_BASE);qe.info(li,`Could not find any cached player. Will download a new player from ${p}.`);let f=yield i(p,{headers:{"user-agent":qo("desktop")}});if(!f.ok)throw new Rt(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),y=this.extractSigSourceCode(m),b=this.extractNSigSourceCode(m);return qe.info(li,`Got signature timestamp (${_}) and algorithms needed to decipher signatures.`),yield rt.fromSource(e,_,y,b,u)})}decipher(e,i,o,s){if(e=e||i||o,!e)throw new Rt("No valid URL to decipher");let r=new URLSearchParams(e),u=new URL(r.get("url")||e);if(i||o){let _=V.shim.eval(this.sig_sc,{sig:r.get("s")});if(qe.info(li,`Transformed signature from ${r.get("s")} to ${_}.`),typeof _!="string")throw new Rt("Failed to decipher signature");let y=r.get("sp");y?u.searchParams.set(y,_):u.searchParams.set("signature",_)}let p=u.searchParams.get("n");if(p){let _;if(s&&s.has(p))_=s.get(p);else{if(_=V.shim.eval(this.nsig_sc,{nsig:p}),qe.info(li,`Transformed n signature from ${p} to ${_}.`),typeof _!="string")throw new Rt("Failed to decipher nsig");_.startsWith("enhanced_except_")?qe.warn(li,"Could not transform nsig, download may be throttled."):s&&s.set(p,_)}u.searchParams.set("n",_)}switch(u.searchParams.get("c")){case"WEB":u.searchParams.set("cver",ke.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":u.searchParams.set("cver",ke.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":u.searchParams.set("cver",ke.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":u.searchParams.set("cver",ke.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":u.searchParams.set("cver",ke.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":u.searchParams.set("cver",ke.CLIENTS.TV_EMBEDDED.VERSION);break}let m=u.toString();return qe.info(li,`Deciphered URL: ${m}`),u.toString()}static fromCache(e,i){return x(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==rt.LIBRARY_VERSION)return null;let u=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),_=ao.decompress(new TextDecoder().decode(f)),y=ao.decompress(new TextDecoder().decode(m));return new rt(u,_,y,i)})}static fromSource(e,i,o,s,r){return x(this,void 0,void 0,function*(){let u=new rt(i,o,s,r);return yield u.cache(e),u})}cache(e){return x(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(ao.compress(this.sig_sc)),s=i.encode(ao.compress(this.nsig_sc)),r=new ArrayBuffer(12+o.byteLength+s.byteLength),u=new DataView(r);u.setUint32(0,rt.LIBRARY_VERSION,!0),u.setUint32(4,this.sts,!0),u.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(Ke(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=Ke(e,'function(a){a=a.split("")','return a.join("")}'),u=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=Ke(e,`var ${u}={`,"};");return(!p||!r)&&qe.warn(li,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${u}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=Ke(e,'b=a.split("")','}return b.join("")}');return i?`function descramble_nsig(a) { let b=a.split("")${i}} return b.join(""); } descramble_nsig(nsig)`:(i=Ke(e,'b=String.prototype.split.call(a,"")','}return Array.prototype.join.call(b,"")}'),i?`function descramble_nsig(a) { let b=String.prototype.split.call(a, "")${i}} return Array.prototype.join.call(b, ""); } descramble_nsig(nsig)`:(qe.warn(li,"Failed to extract n-token decipher algorithm"),"function descramble_nsig(a) { return a; } descramble_nsig(nsig)"))}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ke.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};n(rt,"Player");var Ni,nn,Pe,Se,Fv,IT,yg,kT,CT,xg,jv=class{constructor(e){Ni.add(this),nn.set(this,void 0),Pe.set(this,void 0),Se.set(this,void 0),Fv.set(this,5),T(this,Pe,e,"f")}init(e){return x(this,void 0,void 0,function*(){T(this,Se,e,"f"),this.validateCredentials()?this.has_access_token_expired||l(this,Pe,"f").emit("auth",{credentials:l(this,Se,"f"),status:"SUCCESS"}):(yield l(this,Ni,"m",IT).call(this))||(yield l(this,Ni,"m",yg).call(this))})}cacheCredentials(){var e;return x(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(l(this,Se,"f")));yield(e=l(this,Pe,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return x(this,void 0,void 0,function*(){yield(e=l(this,Pe,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return x(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield l(this,Ni,"m",CT).call(this))})}revokeCredentials(){return x(this,void 0,void 0,function*(){if(!!l(this,Se,"f"))return yield this.removeCache(),l(this,Pe,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(l(this,Se,"f").access_token)}`,Te.YT_BASE),{method:"post"})})}get credentials(){return l(this,Se,"f")}get has_access_token_expired(){let e=l(this,Se,"f")?new Date(l(this,Se,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return l(this,Se,"f")&&Reflect.has(l(this,Se,"f"),"access_token")&&Reflect.has(l(this,Se,"f"),"refresh_token")&&Reflect.has(l(this,Se,"f"),"expires")||!1}};n(jv,"OAuth");nn=new WeakMap,Pe=new WeakMap,Se=new WeakMap,Fv=new WeakMap,Ni=new WeakSet,IT=n(function(){var e;return x(this,void 0,void 0,function*(){let i=yield(e=l(this,Pe,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return T(this,Se,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),l(this,Pe,"f").emit("auth",{credentials:l(this,Se,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),yg=n(function(){return x(this,void 0,void 0,function*(){T(this,nn,yield l(this,Ni,"m",xg).call(this),"f");let e={client_id:l(this,nn,"f").client_id,scope:Mi.SCOPE,device_id:V.shim.uuidv4(),device_model:Mi.MODEL_NAME},o=yield(yield l(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/device/code",Te.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();l(this,Pe,"f").emit("auth-pending",o),T(this,Fv,o.interval,"f"),l(this,Ni,"m",kT).call(this,o.device_code)})},"_OAuth_getUserCode"),kT=n(function(e){let i=setInterval(()=>x(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},l(this,nn,"f")),{code:e,grant_type:Mi.GRANT_TYPE});try{let r=yield(yield l(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/token",Te.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":l(this,Pe,"f").emit("auth-error",new ai("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":l(this,Pe,"f").emit("auth-error",new ai("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),l(this,Ni,"m",yg).call(this);break;default:break}return}let u=new Date(new Date().getTime()+r.expires_in*1e3);T(this,Se,{access_token:r.access_token,refresh_token:r.refresh_token,expires:u},"f"),l(this,Pe,"f").emit("auth",{credentials:l(this,Se,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),l(this,Pe,"f").emit("auth-error",new ai("Could not obtain user code.",{status:"FAILED",error:s}))}}),l(this,Fv,"f")*1e3)},"_OAuth_startPolling"),CT=n(function(){return x(this,void 0,void 0,function*(){if(!l(this,Se,"f"))return;T(this,nn,yield l(this,Ni,"m",xg).call(this),"f");let e=Object.assign(Object.assign({},l(this,nn,"f")),{refresh_token:l(this,Se,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield l(this,Pe,"f").http.fetch_function(new URL("/o/oauth2/token",Te.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+o.expires_in*1e3);T(this,Se,{access_token:o.access_token,refresh_token:o.refresh_token||l(this,Se,"f").refresh_token,expires:s},"f"),l(this,Pe,"f").emit("update-credentials",{credentials:l(this,Se,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),xg=n(function(){var e;return x(this,void 0,void 0,function*(){let o=yield(yield l(this,Pe,"f").http.fetch_function(new URL("/tv",Te.YT_BASE),{headers:Mi.HEADERS})).text(),s=(e=Mi.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!s)throw new ai("Could not obtain script url.",{status:"FAILED"});let u=(yield(yield l(this,Pe,"f").http.fetch(s,{baseURL:Te.YT_BASE})).text()).replace(/\n/g,"").match(Mi.REGEX.CLIENT_IDENTITY),p=u==null?void 0:u.groups;if(!p)throw new ai("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var bg=jv;var wg,Yv,Uv,sn,Wv,Hv,ET,PT,Tg;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Tg||(Tg={}));var uo=class extends cf{constructor(e,i,o,s,r,u,p,f){super(),Yv.set(this,void 0),Uv.set(this,void 0),sn.set(this,void 0),Wv.set(this,void 0),Hv.set(this,void 0),T(this,sn,e,"f"),T(this,Wv,s,"f"),T(this,Uv,i,"f"),T(this,Yv,o,"f"),T(this,Hv,r,"f"),this.http=new gg(this,u,p),this.actions=new _g(this),this.oauth=new bg(this),this.logged_in=!!u,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return x(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:s,account_index:r}=yield uo.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch);return new uo(i,o,s,r,e.retrieve_player===!1?void 0:yield rt.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,s="",r=!1,u=!1,p="desktop",f=Tg.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=V.shim.fetch){return x(this,void 0,void 0,function*(){let y;return u?y=l(this,wg,"m",PT).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s}):y=yield l(this,wg,"m",ET).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s},_),Object.assign(Object.assign({},y),{account_index:o})})}signIn(e){return x(this,void 0,void 0,function*(){return new Promise((i,o)=>x(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return x(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return l(this,Uv,"f")}get api_version(){return l(this,Yv,"f")}get client_version(){return l(this,sn,"f").client.clientVersion}get client_name(){return l(this,sn,"f").client.clientName}get account_index(){return l(this,Wv,"f")}get context(){return l(this,sn,"f")}get player(){return l(this,Hv,"f")}get lang(){return l(this,sn,"f").client.hl}};n(uo,"Session");wg=uo,Yv=new WeakMap,Uv=new WeakMap,sn=new WeakMap,Wv=new WeakMap,Hv=new WeakMap,ET=n(function(e,i=V.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",Te.YT_BASE),s=gt(11);e.visitor_data&&(s=ye.decodeVisitorData(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":qo("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new ks(`Failed to retrieve session data: ${r.status}`);let u=yield r.text(),f=JSON.parse(u.replace(/^\)\]\}'/,""))[0][2],m="v1",[[_],y]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:Te.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:y,api_version:m}})},"_Session_retrieveSessionData"),PT=n(function(e){let i=gt(11);return e.visitor_data&&(i=ye.decodeVisitorData(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:ye.encodeVisitorData(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:se.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Te.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:se.WEB.API_KEY,api_version:se.WEB.API_VERSION}},"_Session_generateSessionData");var Sg=uo;var Ig={};j(Ig,{Kids:()=>o0,Music:()=>r0,Studio:()=>u0});var kg={};j(kg,{Account:()=>un,Browse:()=>Gv,BrowseEndpoint:()=>L,Channel:()=>Ai,Comment:()=>$v,GetNotificationMenuEndpoint:()=>rn,GuideEndpoint:()=>pr,Like:()=>qv,Music:()=>Xv,NextEndpoint:()=>Ce,Notification:()=>Qv,PlayerEndpoint:()=>Xe,Playlist:()=>Zv,ResolveURLEndpoint:()=>an,SearchEndpoint:()=>pt,Subscription:()=>e0,Upload:()=>t0});var L={};j(L,{PATH:()=>q1,build:()=>X1});var q1="/browse";function X1(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(X1,"build");var rn={};j(rn,{PATH:()=>Q1,build:()=>Z1});var Q1="/notification/get_notification_menu";function Z1(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(Z1,"build");var pr={};j(pr,{PATH:()=>eS});var eS="/guide";var Ce={};j(Ce,{PATH:()=>tS,build:()=>iS});var tS="/next";function iS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(iS,"build");var Xe={};j(Xe,{PATH:()=>oS,build:()=>nS});var oS="/player";function nS(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:"8AEB"})}n(nS,"build");var an={};j(an,{PATH:()=>sS,build:()=>rS});var sS="/navigation/resolve_url";function rS(t){return Object.assign({url:t.url})}n(rS,"build");var pt={};j(pt,{PATH:()=>aS,build:()=>uS});var aS="/search";function uS(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(uS,"build");var un={};j(un,{AccountListEndpoint:()=>Jv});var Jv={};j(Jv,{PATH:()=>lS,build:()=>cS});var lS="/account/accounts_list";function cS(){return{client:"ANDROID"}}n(cS,"build");var Gv={};j(Gv,{EditPlaylistEndpoint:()=>Bt});var Bt={};j(Bt,{PATH:()=>dS,build:()=>pS});var dS="/browse/edit_playlist";function pS(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor}))}}n(pS,"build");var Ai={};j(Ai,{EditDescriptionEndpoint:()=>Kv,EditNameEndpoint:()=>zv});var zv={};j(zv,{PATH:()=>fS,build:()=>hS});var fS="/channel/edit_name";function hS(t){return{givenName:t.given_name,client:"ANDROID"}}n(hS,"build");var Kv={};j(Kv,{PATH:()=>mS,build:()=>_S});var mS="/channel/edit_description";function _S(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(_S,"build");var $v={};j($v,{CreateCommentEndpoint:()=>cn,PerformCommentActionEndpoint:()=>ln});var ln={};j(ln,{PATH:()=>vS,build:()=>gS});var vS="/comment/perform_comment_action";function gS(t){return Object.assign({actions:t.actions},{client:t.client})}n(gS,"build");var cn={};j(cn,{PATH:()=>xS,build:()=>yS});var xS="/comment/create_comment";function yS(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(yS,"build");var qv={};j(qv,{DislikeEndpoint:()=>pn,LikeEndpoint:()=>dn,RemoveLikeEndpoint:()=>fn});var dn={};j(dn,{PATH:()=>bS,build:()=>wS});var bS="/like/like";function wS(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(wS,"build");var pn={};j(pn,{PATH:()=>TS,build:()=>SS});var TS="/like/dislike";function SS(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(SS,"build");var fn={};j(fn,{PATH:()=>kS,build:()=>IS});var kS="/like/removelike";function IS(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(IS,"build");var Xv={};j(Xv,{GetSearchSuggestionsEndpoint:()=>hn});var hn={};j(hn,{PATH:()=>CS,build:()=>ES});var CS="/music/get_search_suggestions";function ES(t){return{input:t.input,client:"YTMUSIC"}}n(ES,"build");var Qv={};j(Qv,{GetUnseenCountEndpoint:()=>fr,ModifyChannelPreferenceEndpoint:()=>mn});var fr={};j(fr,{PATH:()=>PS});var PS="/notification/get_unseen_count";var mn={};j(mn,{PATH:()=>NS,build:()=>AS});var NS="/notification/modify_channel_preference";function AS(t){return Object.assign({params:t.params},{client:t.client})}n(AS,"build");var Zv={};j(Zv,{CreateEndpoint:()=>_n,DeleteEndpoint:()=>vn});var _n={};j(_n,{PATH:()=>RS,build:()=>MS});var RS="/playlist/create";function MS(t){return{title:t.title,ids:t.ids}}n(MS,"build");var vn={};j(vn,{PATH:()=>VS,build:()=>OS});var VS="/playlist/delete";function OS(t){return{playlistId:t.playlist_id}}n(OS,"build");var e0={};j(e0,{SubscribeEndpoint:()=>gn,UnsubscribeEndpoint:()=>xn});var gn={};j(gn,{PATH:()=>BS,build:()=>DS});var BS="/subscription/subscribe";function DS(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(DS,"build");var xn={};j(xn,{PATH:()=>LS,build:()=>FS});var LS="/subscription/unsubscribe";function FS(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(FS,"build");var t0={};j(t0,{CreateVideoEndpoint:()=>yn});var yn={};j(yn,{PATH:()=>jS,build:()=>YS});var jS="/upload/createvideo";function YS(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(YS,"build");var ft,i0=class{constructor(e){ft.set(this,void 0),T(this,ft,e,"f")}search(e){return x(this,void 0,void 0,function*(){let i=yield l(this,ft,"f").actions.execute(pt.PATH,pt.build({client:"YTKIDS",query:e}));return new xv(l(this,ft,"f").actions,i)})}getInfo(e){var i;return x(this,void 0,void 0,function*(){let o=Xe.build({sts:(i=l(this,ft,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ce.build({video_id:e,client:"YTKIDS"}),r=l(this,ft,"f").actions.execute(Xe.PATH,o),u=l(this,ft,"f").actions.execute(Ce.PATH,s),p=yield Promise.all([r,u]),f=gt(16);return new bv(p,l(this,ft,"f").actions,f)})}getChannel(e){return x(this,void 0,void 0,function*(){let i=yield l(this,ft,"f").actions.execute(L.PATH,L.build({browse_id:e,client:"YTKIDS"}));return new _v(l(this,ft,"f").actions,i)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield l(this,ft,"f").actions.execute(L.PATH,L.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new vv(l(this,ft,"f").actions,e)})}};n(i0,"Kids");ft=new WeakMap;var o0=i0;var n0,Df,de,NT,AT,s0=class{constructor(e){n0.add(this),Df.set(this,void 0),de.set(this,void 0),T(this,Df,e,"f"),T(this,de,e.actions,"f")}getInfo(e){if(e instanceof Yn)return l(this,n0,"m",AT).call(this,e);if(typeof e=="string")return l(this,n0,"m",NT).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return x(this,void 0,void 0,function*(){oe({query:e});let o=yield l(this,de,"f").execute(pt.PATH,pt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?ye.encodeMusicSearchFilters(i):void 0}));return new hv(o,l(this,de,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield l(this,de,"f").execute(L.PATH,L.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new cv(e,l(this,de,"f"))})}getExplore(){return x(this,void 0,void 0,function*(){let e=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new lv(e)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new dv(e,l(this,de,"f"))})}getArtist(e){return x(this,void 0,void 0,function*(){if(oe({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new av(i,l(this,de,"f"))})}getAlbum(e){return x(this,void 0,void 0,function*(){if(oe({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new nv(i)})}getPlaylist(e){return x(this,void 0,void 0,function*(){oe({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new xs(i,l(this,de,"f"))})}getUpNext(e,i=!0){var o,s,r;return x(this,void 0,void 0,function*(){oe({video_id:e});let p=(o=(yield l(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(_e),f=p==null?void 0:p.first();if(!f)throw new v("Could not find target tab.");let m=(s=f.content)===null||s===void 0?void 0:s.as(Un);if(!m||!m.content)throw new v("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(ti);if(!_.playlist_id&&i){let y=_.contents.firstOfType(Li);if(!y)throw new v("Automix item not found");let b=yield(r=y.playlist_video)===null||r===void 0?void 0:r.endpoint.call(l(this,de,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!b||!b.contents_memo)throw new v("Could not fetch automix");return b.contents_memo.getType(ti).first()}return _})}getRelated(e){var i;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield l(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(_e),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new v("Could not find target tab.");let u=yield r.endpoint.call(l(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);return u.contents.item().as(Q).contents.as(Ee,_i)})}getLyrics(e){var i;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield l(this,de,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(_e),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new v("Could not find target tab.");let u=yield r.endpoint.call(l(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);if(u.contents.item().key("type").string()==="Message")throw new v(u.contents.item().as(je).text.toString(),e);return u.contents.item().as(Q).contents.firstOfType(_i)})}getRecap(){return x(this,void 0,void 0,function*(){let e=yield l(this,de,"f").execute(L.PATH,L.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new fv(e,l(this,de,"f"))})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){let i=yield l(this,de,"f").execute(hn.PATH,Object.assign(Object.assign({},hn.build({input:e})),{parse:!0}));if(!i.contents_memo)throw new v("Unexpected response",i);return i.contents_memo.getType(u_).first().contents})}};n(s0,"Music");Df=new WeakMap,de=new WeakMap,n0=new WeakSet,NT=n(function(e){var i;return x(this,void 0,void 0,function*(){let o=Xe.build({video_id:e,sts:(i=l(this,Df,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ce.build({video_id:e,client:"YTMUSIC"}),r=l(this,de,"f").execute(Xe.PATH,o),u=l(this,de,"f").execute(Ce.PATH,s),p=yield Promise.all([r,u]),f=gt(16);return new kf(p,l(this,de,"f"),f)})},"_Music_fetchInfoFromVideoId"),AT=n(function(e){var i;return x(this,void 0,void 0,function*(){if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(l(this,de,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=l(this,Df,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(l(this,de,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=gt(16),u=yield Promise.all([o,s]);return new kf(u,l(this,de,"f"),r)})},"_Music_fetchInfoFromListItem");var r0=s0;var Lf,Dt,RT,MT,VT,a0=class{constructor(e){Lf.add(this),Dt.set(this,void 0),T(this,Dt,e,"f")}setThumbnail(e,i){return x(this,void 0,void 0,function*(){if(!l(this,Dt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new $o("One or more parameters are missing.");let o=ye.encodeCustomThumbnailPayload(e,i);return yield l(this,Dt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return x(this,void 0,void 0,function*(){if(!l(this,Dt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=ye.encodeVideoMetadataPayload(e,i);return yield l(this,Dt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return x(this,void 0,void 0,function*(){if(!l(this,Dt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=yield l(this,Lf,"m",RT).call(this),s=yield l(this,Lf,"m",MT).call(this,o.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield l(this,Lf,"m",VT).call(this,o,s,i)})}};n(a0,"Studio");Dt=new WeakMap,Lf=new WeakSet,RT=n(function(){return x(this,void 0,void 0,function*(){let e=`innertube_android:${V.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${V.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield l(this,Dt,"f").http.fetch("/upload/youtubei",{baseURL:Te.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),MT=n(function(e,i){return x(this,void 0,void 0,function*(){let o=yield l(this,Dt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new v("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),VT=n(function(e,i,o){return x(this,void 0,void 0,function*(){return yield l(this,Dt,"f").actions.execute(yn.PATH,yn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var u0=a0;var Cg={};j(Cg,{AccountManager:()=>c0,InteractionManager:()=>h0,PlaylistManager:()=>p0});var ht,l0=class{constructor(e){ht.set(this,void 0),T(this,ht,e,"f"),this.channel={editName:i=>{if(!l(this,ht,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return l(this,ht,"f").execute(Ai.EditNameEndpoint.PATH,Ai.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!l(this,ht,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return l(this,ht,"f").execute(Ai.EditDescriptionEndpoint.PATH,Ai.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return x(this,void 0,void 0,function*(){if(!l(this,ht,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield l(this,ht,"f").execute(un.AccountListEndpoint.PATH,un.AccountListEndpoint.build());return new E_(e)})}getTimeWatched(){return x(this,void 0,void 0,function*(){let e=yield l(this,ht,"f").execute(L.PATH,L.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new ev(e)})}getSettings(){return x(this,void 0,void 0,function*(){let e=yield l(this,ht,"f").execute(L.PATH,L.build({browse_id:"SPaccount_overview"}));return new Q_(l(this,ht,"f"),e)})}getAnalytics(){var e;return x(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield l(this,ht,"f").execute(L.PATH,L.build({browse_id:"FEanalytics_screen",params:ye.encodeChannelAnalyticsParams((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new N_(o)})}};n(l0,"AccountManager");ht=new WeakMap;var c0=l0;var Fe,d0=class{constructor(e){Fe.set(this,void 0),T(this,Fe,e,"f")}create(e,i){return x(this,void 0,void 0,function*(){if(oe({title:e,video_ids:i}),!l(this,Fe,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield l(this,Fe,"f").execute(_n.PATH,_n.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e}),!l(this,Fe,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield l(this,Fe,"f").execute(vn.PATH,vn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!l(this,Fe,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield l(this,Fe,"f").execute(Bt.PATH,Bt.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!l(this,Fe,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield l(this,Fe,"f").execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:`VL${e}`})),{parse:!0})),s=new yi(l(this,Fe,"f"),o,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},u=n(f=>x(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return u(_)}}),"getSetVideoIds");if(yield u(s),!r.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield l(this,Fe,"f").execute(Bt.PATH,Bt.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!l(this,Fe,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let s=yield l(this,Fe,"f").execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:`VL${e}`})),{parse:!0})),r=new yi(l(this,Fe,"f"),s,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let u={playlist_id:e,actions:[]},p,f,m=n(y=>x(this,void 0,void 0,function*(){let b=y.videos.find(k=>i===k.key("id").string()),S=y.videos.find(k=>o===k.key("id").string());if(p=p||(b==null?void 0:b.key("set_video_id").string()),f=f||(S==null?void 0:S.key("set_video_id").string()),!p||!f){let k=yield y.getContinuation();return m(k)}}),"getSetVideoIds");yield m(r),u.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield l(this,Fe,"f").execute(Bt.PATH,Bt.build(u));return{playlist_id:e,action_result:_.data.actions}})}};n(d0,"PlaylistManager");Fe=new WeakMap;var p0=d0;var De,f0=class{constructor(e){De.set(this,void 0),T(this,De,e,"f")}like(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(dn.PATH,dn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(pn.PATH,pn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(fn.PATH,fn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return x(this,void 0,void 0,function*(){if(oe({channel_id:e}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(gn.PATH,gn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return x(this,void 0,void 0,function*(){if(oe({channel_id:e}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(xn.PATH,xn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return x(this,void 0,void 0,function*(){if(oe({video_id:e,text:i}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield l(this,De,"f").execute(cn.PATH,cn.build({comment_text:i,create_comment_params:ye.encodeCommentParams(e),client:"ANDROID"}))})}translate(e,i,o={}){return x(this,void 0,void 0,function*(){oe({text:e,target_language:i});let s=ye.encodeCommentActionParams(22,Object.assign({text:e,target_language:i},o)),r=yield l(this,De,"f").execute(ln.PATH,ln.build({client:"ANDROID",actions:[s]})),u=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:u.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return x(this,void 0,void 0,function*(){if(oe({channel_id:e,type:i}),!l(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield l(this,De,"f").execute(mn.PATH,mn.build({client:"WEB",params:ye.encodeNotificationPref(e,o[i.toUpperCase()])}))})}};n(f0,"InteractionManager");De=new WeakMap;var h0=f0;var He,hr=class{constructor(e){He.set(this,void 0),T(this,He,e,"f")}static create(e={}){return x(this,void 0,void 0,function*(){return new hr(yield Sg.create(e))})}getInfo(e,i){var o,s,r,u,p;return x(this,void 0,void 0,function*(){oe({target:e});let f;if(e instanceof g)f=Ce.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(u=e.payload)===null||u===void 0?void 0:u.index});else if(typeof e=="string")f=Ce.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let m=Xe.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=l(this,He,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Xe.PATH,m),y=this.actions.execute(Ce.PATH,f),b=yield Promise.all([_,y]),S=gt(16);return new xf(b,this.actions,S)})}getBasicInfo(e,i){var o;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=yield this.actions.execute(Xe.PATH,Xe.build({video_id:e,client:i,sts:(o=l(this,He,"f").player)===null||o===void 0?void 0:o.sts})),r=gt(16);return new xf([s],this.actions,r)})}search(e,i={}){return x(this,void 0,void 0,function*(){oe({query:e});let o=yield this.actions.execute(pt.PATH,pt.build({query:e,params:i?ye.encodeSearchFilters(i):void 0}));return new X_(this.actions,o)})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){oe({query:e});let i=new URL(`${Te.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",l(this,He,"f").context.client.hl),i.searchParams.set("gl",l(this,He,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield l(this,He,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return x(this,void 0,void 0,function*(){oe({video_id:e});let o=yield this.actions.execute(Ce.PATH,Ce.build({continuation:ye.encodeCommentsSectionParams(e,{sort_by:i||"TOP_COMMENTS"})}));return new R_(this.actions,o.data)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FEwhat_to_watch"}));return new Nt(this.actions,e)})}getGuide(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(pr.PATH);return new V_(e.data)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FElibrary"}));return new Y_(this.actions,e)})}getHistory(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FEhistory"}));return new ns(this.actions,e)})}getTrending(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:"FEtrending"})),{parse:!0}));return new Qn(this.actions,e)})}getSubscriptionsFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new fe(this.actions,e)})}getChannel(e){return x(this,void 0,void 0,function*(){oe({id:e});let i=yield this.actions.execute(L.PATH,L.build({browse_id:e}));return new Re(this.actions,i)})}getNotifications(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(rn.PATH,rn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new q_(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,s;return x(this,void 0,void 0,function*(){let r=yield this.actions.execute(fr.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return x(this,void 0,void 0,function*(){oe({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(L.PATH,L.build({browse_id:e}));return new yi(this.actions,i)})}getHashtag(e){return x(this,void 0,void 0,function*(){oe({hashtag:e});let i=yield this.actions.execute(L.PATH,L.build({browse_id:"FEhashtag",params:ye.encodeHashtag(e)}));return new ni(this.actions,i)})}getStreamingData(e,i={}){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return x(this,void 0,void 0,function*(){return(yield this.actions.execute(an.PATH,Object.assign(Object.assign({},an.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new r0(l(this,He,"f"))}get studio(){return new u0(l(this,He,"f"))}get kids(){return new o0(l(this,He,"f"))}get account(){return new c0(l(this,He,"f").actions)}get playlist(){return new p0(l(this,He,"f").actions)}get interact(){return new h0(l(this,He,"f").actions)}get actions(){return l(this,He,"f").actions}get session(){return l(this,He,"f")}};n(hr,"Innertube");He=new WeakMap;var Eg=hr;var OT={};var BT=Eg;var DT="JsRuntime";function Pg(t,e){qe.debug(DT,`Evaluating JavaScript:
`,t);let i=new en;for(let[s,r]of Object.entries(e))i.scope.set(s,r);let o=i.evaluate(t);return qe.debug(DT,"Done. Result:",o),o}n(Pg,"evaluate");var Ff,m0,_0,v0,g0=class{constructor(e=!1,i){Ff.add(this),m0.set(this,void 0),_0.set(this,void 0),T(this,m0,i||"","f"),T(this,_0,e,"f")}get cache_dir(){return l(this,_0,"f")?l(this,m0,"f"):""}get(e){return x(this,void 0,void 0,function*(){let i=yield l(this,Ff,"m",v0).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var u;let p=(u=this.result)===null||u===void 0?void 0:u.v;o(p?p.buffer:void 0)}})})}set(e,i){return x(this,void 0,void 0,function*(){let o=yield l(this,Ff,"m",v0).call(this);if(!!o)return new Promise((s,r)=>{let u=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});u.onerror=r,u.onsuccess=()=>s()})})}remove(e){return x(this,void 0,void 0,function*(){let i=yield l(this,Ff,"m",v0).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(g0,"Cache");m0=new WeakMap,_0=new WeakMap,Ff=new WeakSet,v0=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");V.load({runtime:"browser",server:!1,info:{version:kv.version,bugs_url:kv.bugs.url,repo_url:kv.homepage.split("#")[0]},Cache:g0,sha1Hash:Q0,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:Pg,DOMParser:globalThis.DOMParser,serializeDOM(t){return new XMLSerializer().serializeToString(t)},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var G_e=BT;export{_g as Actions,of as AppendContinuationItemsAction,Tg as ClientType,Ig as Clients,ke as Constants,qn as Continuation,kg as Endpoints,cf as EventEmitter,vf as FormatUtils,M0 as Generator,Po as GridContinuation,gg as HTTPClient,b0 as Helpers,Eg as Innertube,ko as ItemSectionContinuation,ao as LZW,No as LiveChatContinuation,qe as Log,Cg as Managers,K0 as Misc,W0 as Mixins,Eo as MusicPlaylistShelfContinuation,xi as MusicShelfContinuation,Io as NavigateAction,bg as OAuth,d as Parser,V as Platform,rt as Player,nf as PlaylistPanelContinuation,ye as Proto,Co as ReloadContinuationItemsCommand,lt as SectionListContinuation,Sg as Session,OT as Types,z1 as UniversalCache,X0 as Utils,H0 as YT,z0 as YTKids,G0 as YTMusic,tf as YTNodes,G_e as default};
//# sourceMappingURL=browser.min.js.map
