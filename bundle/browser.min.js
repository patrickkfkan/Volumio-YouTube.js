/* eslint-disable */
var Ig=Object.defineProperty;var o=(t,e)=>Ig(t,"name",{value:e,configurable:!0});var RT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j=(t,e)=>{for(var i in e)Ig(t,i,{get:e[i],enumerable:!0})};var yw=RT(()=>{var Xo=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis;function xw(t){try{new t}catch(e){return!1}return!0}o(xw,"isConstructor");(typeof Xo.Event!="function"||!xw(Xo.Event))&&(Xo.Event=function(){function t(e,i){this.bubbles=!!i&&!!i.bubbles,this.cancelable=!!i&&!!i.cancelable,this.composed=!!i&&!!i.composed,this.type=e}return o(t,"Event"),t}());(typeof Xo.EventTarget>"u"||!xw(Xo.Event))&&(Xo.EventTarget=function(){function t(){this.__listeners=new Map}return o(t,"EventTarget"),t.prototype=Object.create(Object.prototype),t.prototype.addEventListener=function(e,i,n){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();s.has(r)||s.set(r,new Map);let l=s.get(r);l.has(i)||l.set(i,n)},t.prototype.removeEventListener=function(e,i,n){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let s=this.__listeners,r=e.toString();if(s.has(r)){let l=s.get(r);l.has(i)&&l.delete(i)}},t.prototype.dispatchEvent=function(e){if(!(e instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");let i=e.type,s=this.__listeners.get(i);if(s)for(let[r,l]of s.entries()){try{typeof r=="function"?r.call(this,e):r&&typeof r.handleEvent=="function"&&r.handleEvent(e)}catch(p){setTimeout(()=>{throw p})}l&&l.once&&s.delete(r)}return!0},t}())});function Cg(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}o(Cg,"__setFunctionName");function x(t,e,i,n){function s(r){return r instanceof i?r:new i(function(l){l(r)})}return o(s,"adopt"),new(i||(i=Promise))(function(r,l){function p(_){try{m(n.next(_))}catch(y){l(y)}}o(p,"fulfilled");function f(_){try{m(n.throw(_))}catch(y){l(y)}}o(f,"rejected");function m(_){_.done?r(_.value):s(_.value).then(p,f)}o(m,"step"),m((n=n.apply(t,e||[])).next())})}o(x,"__awaiter");function Sg(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(Sg,"__values");function nn(t){return this instanceof nn?(this.v=t,this):new nn(t)}o(nn,"__await");function Eg(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),s,r=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(b){n[b]&&(s[b]=function(k){return new Promise(function(I,E){r.push([b,k,I,E])>1||p(b,k)})})}function p(b,k){try{f(n[b](k))}catch(I){y(r[0][3],I)}}function f(b){b.value instanceof nn?Promise.resolve(b.value.v).then(m,_):y(r[0][2],b)}function m(b){p("next",b)}function _(b){p("throw",b)}function y(b,k){b(k),r.shift(),r.length&&p(r[0][0],r[0][1])}}o(Eg,"__asyncGenerator");function Pg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Sg=="function"?Sg(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(l){return new Promise(function(p,f){l=t[r](l),s(p,f,l.done,l.value)})}}function s(r,l,p,f){Promise.resolve(f).then(function(m){r({value:m,done:p})},l)}}o(Pg,"__asyncValues");function u(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}o(u,"__classPrivateFieldGet");function T(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}o(T,"__classPrivateFieldSet");var H0={};j(H0,{ChannelError:()=>Jo,InnertubeError:()=>v,MissingParamError:()=>Wn,OAuthError:()=>si,ParsingError:()=>nt,Platform:()=>V,PlayerError:()=>ut,SessionError:()=>_s,base64ToU8:()=>w0,concatMemos:()=>N0,debugFetch:()=>r1,deepCompare:()=>Mf,escapeStringRegexp:()=>U0,generateRandomString:()=>mt,generateSidAuth:()=>W0,getRandomUserAgent:()=>Hn,getStringBetweenStrings:()=>tt,hasKeys:()=>s1,isTextRun:()=>He,streamToIterable:()=>O0,throwIfMissing:()=>oe,timeToSeconds:()=>je,u8ToBase64:()=>ft});var h0={};j(h0,{Maybe:()=>sn,Memo:()=>Ci,SuperParsedResult:()=>Kt,YTNode:()=>a,observe:()=>ue});var f0,Ng,Ee,pe,zt,li,on,Ag=Symbol("ObservedArray.isObserved"),a=class{constructor(){f0.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,f0,"m",Ng).call(this,i))}as(...e){if(!this.is(...e))throw new nt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new nt(`Missing key ${e}`);return new sn(this[e])}};o(a,"YTNode");f0=new WeakSet,Ng=o(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var sn=class{constructor(e){Ee.add(this),pe.set(this,void 0),T(this,pe,e,"f")}get typeof(){return typeof u(this,pe,"f")}string(){return u(this,Ee,"m",li).call(this,"string")}isString(){return u(this,Ee,"m",zt).call(this,"string")}number(){return u(this,Ee,"m",li).call(this,"number")}isNumber(){return u(this,Ee,"m",zt).call(this,"number")}bigint(){return u(this,Ee,"m",li).call(this,"bigint")}isBigint(){return u(this,Ee,"m",zt).call(this,"bigint")}boolean(){return u(this,Ee,"m",li).call(this,"boolean")}isBoolean(){return u(this,Ee,"m",zt).call(this,"boolean")}symbol(){return u(this,Ee,"m",li).call(this,"symbol")}isSymbol(){return u(this,Ee,"m",zt).call(this,"symbol")}undefined(){return u(this,Ee,"m",li).call(this,"undefined")}isUndefined(){return u(this,Ee,"m",zt).call(this,"undefined")}null(){if(u(this,pe,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isNull(){return u(this,pe,"f")===null}object(){return u(this,Ee,"m",li).call(this,"object")}isObject(){return u(this,Ee,"m",zt).call(this,"object")}function(){return u(this,Ee,"m",li).call(this,"function")}isFunction(){return u(this,Ee,"m",zt).call(this,"function")}array(){if(!Array.isArray(u(this,pe,"f")))throw new TypeError(`Expected array, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new sn(Reflect.get(i,n))}})}isArray(){return Array.isArray(u(this,pe,"f"))}node(){if(!(u(this,pe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${u(this,pe,"f").constructor.name}`);return u(this,pe,"f")}isNode(){return u(this,pe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isObserved(){var e;return(e=u(this,pe,"f"))===null||e===void 0?void 0:e[Ag]}parsed(){if(!(u(this,pe,"f")instanceof Kt))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,pe,"f")}`);return u(this,pe,"f")}isParsed(){return u(this,pe,"f")instanceof Kt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,pe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,pe,"f").constructor.name}`);return u(this,pe,"f")}isInstanceof(e){return u(this,pe,"f")instanceof e}};o(sn,"Maybe");pe=new WeakMap,Ee=new WeakSet,zt=o(function(e){return typeof u(this,pe,"f")===e},"_Maybe_checkPrimative"),li=o(function(e){if(!u(this,Ee,"m",zt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,pe,"f")},"_Maybe_assertPrimative");var Kt=class{constructor(e){on.set(this,void 0),T(this,on,e,"f")}get is_null(){return u(this,on,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,on,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,on,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,on,"f")}};o(Kt,"SuperParsedResult");on=new WeakMap;function ue(t){return new Proxy(t,{get(e,i){return i=="get"?(n,s)=>e.find((r,l)=>{let p=Mf(n,r);return p&&s&&e.splice(l,1),p}):i==Ag?!0:i=="getAll"?(n,s)=>e.filter((r,l)=>{let p=Mf(n,r);return p&&s&&e.splice(l,1),p}):i=="matchCondition"?n=>e.find(s=>n(s)):i=="filterType"?(...n)=>ue(e.filter(s=>!!s.is(...n))):i=="firstOfType"?(...n)=>e.find(s=>!!s.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>ue(e.map(s=>{if(s.is(...n))return s;throw new nt(`Expected node of any type ${n.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}o(ue,"observe");var Ci=class extends Map{getType(...e){return e=e.flat(),ue(e.flatMap(i=>this.get(i.type)||[]))}};o(Ci,"Memo");var Y0={};j(Y0,{Author:()=>O,ChildElement:()=>Oh,EmojiRun:()=>Pi,Format:()=>Ai,Text:()=>c,TextRun:()=>Ni,Thumbnail:()=>w,VideoDetails:()=>Ri});var ot={};j(ot,{CLIENTS:()=>$,INNERTUBE_HEADERS_BASE:()=>MT,OAUTH:()=>Ei,STREAM_HEADERS:()=>ar,URLS:()=>fe});var fe=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Ei=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),$=Object.freeze({WEB:{NAME:"WEB",VERSION:"2.20230104.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),ar=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),MT=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var ur=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};o(ur,"AudioOnlyPlayability");ur.type="AudioOnlyPlayability";var Vf=ur;var lr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};o(lr,"Button");lr.type="Button";var S=lr;var cr=class extends a{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};o(cr,"DropdownItem");cr.type="DropdownItem";var Of=cr;var dr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=d.parseArray(e.entries,Of)}};o(dr,"Dropdown");dr.type="Dropdown";var _o=dr;var pr=class extends a{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=d.parseItem(e.privacyOption,_o),this.create_button=d.parseItem(e.cancelButton,S),this.cancel_button=d.parseItem(e.cancelButton,S)}};o(pr,"CreatePlaylistDialog");pr.type="CreatePlaylistDialog";var Bf=pr;var fr=class extends a{constructor(e){var i,n,s,r,l,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand);let _=Object.keys(e||{}).find(y=>y.endsWith("Endpoint")||y.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=d.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((n=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||n===void 0)&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=d.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Bf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o(fr,"NavigationEndpoint");fr.type="NavigationEndpoint";var g=fr;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new w(i)).sort((i,n)=>n.width-i.width)}};o(w,"Thumbnail");var Pi=class{constructor(e){var i,n,s,r,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(n=e.emoji)===null||n===void 0?void 0:n.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Df(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(Pi,"EmojiRun");var Ni=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Df(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};o(Ni,"TextRun");function Df(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Df,"escape");var c=class{constructor(e){var i,n,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Pi(l):new Ni(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((n=(i=this.runs)===null||i===void 0?void 0:i[0])===null||n===void 0)&&n.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(c,"Text");var hr=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};o(hr,"CardCollection");hr.type="CardCollection";var Ff=hr;var mr=class extends a{constructor(e){super(),this.elements=d.parseArray(e.elements),this.start_ms=e.startMs}};o(mr,"Endscreen");mr.type="Endscreen";var Lf=mr;var _r=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:d.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};o(_r,"PlayerAnnotationsExpanded");_r.type="PlayerAnnotationsExpanded";var jf=_r;var vr=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};o(vr,"PlayerCaptionsTracklist");vr.type="PlayerCaptionsTracklist";var Yf=vr;var gr=class extends a{constructor(){super()}};o(gr,"PlayerLiveStoryboardSpec");gr.type="PlayerLiveStoryboardSpec";var Uf=gr;var xr=class extends a{constructor(e){super();let i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((s,r)=>{let[l,p,f,m,_,y,b,k]=s.split("#");n.searchParams.set("sigh",k);let I=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{template_url:n.toString().replace("$L",r).replace("$N",b),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(y,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:I}})}};o(xr,"PlayerStoryboardSpec");xr.type="PlayerStoryboardSpec";var Wf=xr;var yr=class extends a{constructor(e){super(),this.text=new c(e.text)}};o(yr,"Message");yr.type="Message";var Fe=yr;var br=class extends a{constructor(e){super(),this.name=new c(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=d.parseArray(e.authorBadges)}};o(br,"LiveChatParticipant");br.type="LiveChatParticipant";var Hf=br;var wr=class extends a{constructor(e){super(),this.title=new c(e.title),this.participants=d.parseArray(e.participants,Hf)}};o(wr,"LiveChatParticipantsList");wr.type="LiveChatParticipantsList";var Jf=wr;var Tr=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,s;return{title:i.title,selected:i.selected,continuation:(s=(n=i.continuation)===null||n===void 0?void 0:n.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};o(Tr,"SortFilterSubMenu");Tr.type="SortFilterSubMenu";var ci=Tr;var kr=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.top_level_buttons=d.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};o(kr,"Menu");kr.type="Menu";var H=kr;var Ir=class extends a{constructor(e){super(),this.overflow_menu=d.parseItem(e.overflowMenu,H),this.collapse_button=d.parseItem(e.collapseButton,S),this.view_selector=d.parseItem(e.viewSelector,ci)}};o(Ir,"LiveChatHeader");Ir.type="LiveChatHeader";var Gf=Ir;var Sr=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=d.parseItem(e.moreCommentsBelowButton,S)}};o(Sr,"LiveChatItemList");Sr.type="LiveChatItemList";var zf=Sr;var Cr=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};o(Cr,"Alert");Cr.type="Alert";var Kf=Cr;var Er=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};o(Er,"MusicMultiSelectMenuItem");Er.type="MusicMultiSelectMenuItem";var yt=Er;var Ai=class{constructor(e){var i,n,s,r,l,p,f,m;if(this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),y=new URLSearchParams(_.get("url")||this.url);this.language=((n=(i=y.get("xtags"))===null||i===void 0?void 0:i.split(":").find(b=>b.startsWith("lang=")))===null||n===void 0?void 0:n.split("=")[1])||null,this.is_dubbed=((r=(s=y.get("xtags"))===null||s===void 0?void 0:s.split(":").find(b=>b.startsWith("acont=")))===null||r===void 0?void 0:r.split("=")[1])==="dubbed",this.is_descriptive=((p=(l=y.get("xtags"))===null||l===void 0?void 0:l.split(":").find(b=>b.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1])==="descriptive",this.is_original=((m=(f=y.get("xtags"))===null||f===void 0?void 0:f.split(":").find(b=>b.startsWith("acont=")))===null||m===void 0?void 0:m.split("=")[1])==="original"||!this.is_dubbed,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher)}};o(Ai,"Format");var Ri=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};o(Ri,"VideoDetails");var Gp={};j(Gp,{AccountChannel:()=>$f,AccountItemSection:()=>Xf,AccountItemSectionHeader:()=>qf,AccountSectionList:()=>Qf,AddBannerToLiveChatCommand:()=>_y,AddChatItemAction:()=>rm,AddLiveChatTickerItemAction:()=>vy,Alert:()=>Kf,AnalyticsMainAppKeyMetrics:()=>Mg,AnalyticsRoot:()=>Vg,AnalyticsShortsCarouselCard:()=>Og,AnalyticsVideo:()=>th,AnalyticsVodCarouselCard:()=>Bg,AnchoredSection:()=>m_,AppendContinuationItemsAction:()=>Zf,AudioOnlyPlayability:()=>Vf,AuthorCommentBadge:()=>hh,AutomixPreviewVideo:()=>Mi,BackstageImage:()=>ih,BackstagePost:()=>Vi,BackstagePostThread:()=>Lg,BrowseFeedActions:()=>oh,BrowserMediaSession:()=>jg,Button:()=>S,C4TabbedHeader:()=>go,CallToActionButton:()=>Yg,Card:()=>Ug,CardCollection:()=>Ff,CarouselHeader:()=>ah,CarouselItem:()=>Wg,Channel:()=>uh,ChannelAboutFullMetadata:()=>lh,ChannelAgeGate:()=>Hg,ChannelFeaturedContent:()=>Jg,ChannelHeaderLinks:()=>sh,ChannelMetadata:()=>ch,ChannelMobileHeader:()=>Gg,ChannelOptions:()=>dh,ChannelSubMenu:()=>ma,ChannelThumbnailWithLink:()=>zg,ChannelVideoPlayer:()=>Kg,Chapter:()=>ph,ChildVideo:()=>$g,ChipCloud:()=>bt,ChipCloudChip:()=>me,CollaboratorInfoCardContent:()=>qg,CollageHeroImage:()=>Xg,Comment:()=>wo,CommentActionButtons:()=>rn,CommentDialog:()=>Yx,CommentReplies:()=>Th,CommentReplyDialog:()=>mh,CommentSimplebox:()=>Sh,CommentThread:()=>Ch,CommentsEntryPointHeader:()=>Ih,CommentsEntryPointTeaser:()=>kh,CommentsHeader:()=>To,CompactChannel:()=>Ux,CompactLink:()=>ko,CompactMix:()=>Wx,CompactPlaylist:()=>Hx,CompactStation:()=>Jx,CompactVideo:()=>Eh,ConfirmDialog:()=>Gx,ContinuationItem:()=>Be,ConversationBar:()=>zx,CopyLink:()=>Ph,CreatePlaylistDialog:()=>Bf,CreatorHeart:()=>nh,CtaGoToCreatorStudio:()=>Dg,DataModelSection:()=>eh,DecoratedPlayerBar:()=>Mh,DefaultPromoPanel:()=>Kx,DidYouMean:()=>Vh,DimChatItemAction:()=>gy,DownloadButton:()=>$x,Dropdown:()=>_o,DropdownItem:()=>Of,Element:()=>Io,EmergencyOnebox:()=>qx,EmojiPicker:()=>wh,EmojiPickerCategory:()=>Xx,EmojiPickerCategoryButton:()=>Qx,EmojiPickerUpsellCategory:()=>Zx,EndScreenPlaylist:()=>Bh,EndScreenVideo:()=>Dh,Endscreen:()=>Lf,EndscreenElement:()=>ey,ExpandableMetadata:()=>jh,ExpandableTab:()=>Eo,ExpandedShelfContents:()=>ty,FeedFilterChipBar:()=>pi,FeedTabbedHeader:()=>Uh,GameCard:()=>Lh,GameDetails:()=>iy,Grid:()=>pn,GridChannel:()=>Wh,GridHeader:()=>ny,GridMix:()=>oy,GridMovie:()=>sy,GridPlaylist:()=>Hh,GridShow:()=>ry,GridVideo:()=>zh,GuideCollapsibleEntry:()=>ay,GuideCollapsibleSectionEntry:()=>uy,GuideDownloadsEntry:()=>ly,GuideEntry:()=>fn,GuideSection:()=>Po,GuideSubscriptionsSection:()=>Kh,HashtagHeader:()=>$h,HeatMarker:()=>Nh,Heatmap:()=>Ah,HeroPlaylistThumbnail:()=>cy,HighlightsCarousel:()=>Wu,HistorySuggestion:()=>dy,HorizontalCardList:()=>Co,HorizontalList:()=>py,HorizontalMovieList:()=>fy,IconLink:()=>Xh,InfoPanelContainer:()=>hy,InfoPanelContent:()=>Qh,InteractiveTabbedHeader:()=>Zh,ItemSection:()=>_e,ItemSectionHeader:()=>em,ItemSectionTab:()=>tm,ItemSectionTabbedHeader:()=>im,KidsCategoriesHeader:()=>__,KidsCategoryTab:()=>Lo,KidsHomeScreen:()=>v_,LikeButton:()=>my,LiveChat:()=>nm,LiveChatActionPanel:()=>um,LiveChatAuthorBadge:()=>Wy,LiveChatAutoModMessage:()=>xy,LiveChatBanner:()=>sm,LiveChatBannerHeader:()=>om,LiveChatBannerPoll:()=>yy,LiveChatDialog:()=>Hy,LiveChatHeader:()=>Gf,LiveChatItemList:()=>zf,LiveChatMembershipItem:()=>by,LiveChatMessageInput:()=>Jy,LiveChatPaidMessage:()=>wy,LiveChatPaidSticker:()=>Ty,LiveChatParticipant:()=>Hf,LiveChatParticipantsList:()=>Jf,LiveChatPlaceholderItem:()=>ky,LiveChatProductItem:()=>Iy,LiveChatRestrictedParticipation:()=>Sy,LiveChatTextMessage:()=>Cy,LiveChatTickerPaidMessageItem:()=>am,LiveChatTickerPaidStickerItem:()=>Ey,LiveChatTickerSponsorItem:()=>Py,LiveChatViewerEngagementMessage:()=>Ny,MacroMarkersListItem:()=>Fh,MarkChatItemAsDeletedAction:()=>Ry,MarkChatItemsByAuthorAsDeletedAction:()=>My,Menu:()=>H,MenuNavigationItem:()=>Gy,MenuServiceItem:()=>No,MenuServiceItemDownload:()=>zy,MerchandiseItem:()=>qy,MerchandiseShelf:()=>vm,Message:()=>Fe,MetadataBadge:()=>Xe,MetadataRow:()=>Xy,MetadataRowContainer:()=>gm,MetadataRowHeader:()=>Qy,MetadataScreen:()=>Zy,MicroformatData:()=>qt,Mix:()=>eb,Movie:()=>tb,MovingThumbnail:()=>ib,MultiMarkersPlayerBar:()=>Rh,MultiPageMenu:()=>Ky,MultiPageMenuNotificationSection:()=>$y,MusicCardShelf:()=>wm,MusicCardShelfHeaderBasic:()=>xm,MusicCarouselShelf:()=>Se,MusicCarouselShelfBasicHeader:()=>Tm,MusicDescriptionShelf:()=>mn,MusicDetailHeader:()=>_n,MusicDownloadStateBadge:()=>db,MusicEditablePlaylistDetailHeader:()=>Sm,MusicElementHeader:()=>Cc,MusicHeader:()=>Di,MusicImmersiveHeader:()=>Cm,MusicInlineBadge:()=>ym,MusicItemThumbnailOverlay:()=>Oi,MusicLargeCardItemCarousel:()=>pb,MusicMenuItemDivider:()=>hm,MusicMultiSelectMenu:()=>mm,MusicMultiSelectMenuItem:()=>yt,MusicNavigationButton:()=>Ao,MusicPlayButton:()=>bm,MusicPlaylistShelf:()=>vn,MusicQueue:()=>Mo,MusicResponsiveListItem:()=>Bi,MusicResponsiveListItemFixedColumn:()=>km,MusicResponsiveListItemFlexColumn:()=>Im,MusicShelf:()=>be,MusicSideAlignedItem:()=>Pm,MusicSortFilterButton:()=>Yc,MusicTastebuilderShelf:()=>Am,MusicTastebuilderShelfThumbnail:()=>Nm,MusicThumbnail:()=>Xt,MusicTwoRowItem:()=>Ro,MusicVisualHeader:()=>Rm,NavigationEndpoint:()=>g,Notification:()=>Mm,OpenPopupAction:()=>Rg,PageIntroduction:()=>Vm,PdgCommentChip:()=>_h,PlayerAnnotationsExpanded:()=>jf,PlayerCaptionsTracklist:()=>Yf,PlayerErrorMessage:()=>fb,PlayerLegacyDesktopYpcOffer:()=>hb,PlayerLegacyDesktopYpcTrailer:()=>Xc,PlayerLiveStoryboardSpec:()=>Uf,PlayerMicroformat:()=>Tt,PlayerOverlay:()=>Fi,PlayerOverlayAutoplay:()=>Bm,PlayerStoryboardSpec:()=>Wf,Playlist:()=>$t,PlaylistCustomThumbnail:()=>Fm,PlaylistHeader:()=>Lm,PlaylistInfoCardContent:()=>mb,PlaylistMetadata:()=>jm,PlaylistPanel:()=>Zt,PlaylistPanelVideo:()=>fi,PlaylistPanelVideoWrapper:()=>Em,PlaylistSidebar:()=>_b,PlaylistSidebarPrimaryInfo:()=>Ym,PlaylistSidebarSecondaryInfo:()=>Um,PlaylistVideo:()=>Wm,PlaylistVideoList:()=>vb,PlaylistVideoThumbnail:()=>Hm,Poll:()=>gb,PollHeader:()=>Ay,Post:()=>Jm,PostMultiImage:()=>xb,ProfileColumn:()=>yb,ProfileColumnStats:()=>Gm,ProfileColumnStatsEntry:()=>bb,ProfileColumnUserInfo:()=>zm,RecognitionShelf:()=>wb,ReelItem:()=>Km,ReelShelf:()=>$m,RelatedChipCloud:()=>qm,RemoveBannerForLiveChatCommand:()=>Vy,RemoveChatItemAction:()=>Oy,RemoveChatItemByAuthorAction:()=>By,ReplaceChatItemAction:()=>Dy,ReplayChatItemAction:()=>Fy,RichGrid:()=>Li,RichItem:()=>Tb,RichListHeader:()=>kb,RichMetadata:()=>Cd,RichMetadataRow:()=>Pd,RichSection:()=>Ib,RichShelf:()=>Xm,SearchBox:()=>Sb,SearchFilter:()=>Qm,SearchFilterGroup:()=>Zm,SearchRefinementCard:()=>cn,SearchSubMenu:()=>e_,SearchSuggestion:()=>qh,SearchSuggestionsSection:()=>t_,SecondarySearchContainer:()=>Cb,SectionList:()=>Z,SegmentedLikeDislikeButton:()=>gn,SettingBoolean:()=>Eb,SettingsCheckbox:()=>i_,SettingsOptions:()=>Oo,SettingsSidebar:()=>n_,SettingsSwitch:()=>Vo,SharedPost:()=>o_,Shelf:()=>Bo,ShowCustomThumbnail:()=>Jh,ShowLiveChatActionPanelAction:()=>Ly,ShowLiveChatDialogAction:()=>jy,ShowLiveChatTooltipCommand:()=>Yy,ShowingResultsFor:()=>s_,SimpleCardContent:()=>Pb,SimpleCardTeaser:()=>Nb,SimpleMenuHeader:()=>_m,SimpleTextSection:()=>Ab,SingleActionEmergencySupport:()=>Rb,SingleColumnBrowseResults:()=>ei,SingleColumnMusicWatchNextResults:()=>Mb,SingleHeroImage:()=>Vb,SlimOwner:()=>Ob,SlimVideoMetadata:()=>r_,SortFilterSubMenu:()=>ci,SponsorCommentBadge:()=>vh,StatRow:()=>Fg,SubFeedOption:()=>a_,SubFeedSelector:()=>Bb,SubscribeButton:()=>Le,SubscriptionNotificationToggleButton:()=>rh,Tab:()=>ve,Tabbed:()=>Db,TabbedSearchResults:()=>u_,TextHeader:()=>Fb,ThumbnailLandscapePortrait:()=>Lb,ThumbnailOverlayBottomPanel:()=>Gh,ThumbnailOverlayEndorsement:()=>jb,ThumbnailOverlayHoverText:()=>Yb,ThumbnailOverlayInlineUnplayable:()=>Ub,ThumbnailOverlayLoadingPreview:()=>Wb,ThumbnailOverlayNowPlaying:()=>Hb,ThumbnailOverlayPinking:()=>Jb,ThumbnailOverlayPlaybackStatus:()=>Gb,ThumbnailOverlayResumePlayback:()=>zb,ThumbnailOverlaySidePanel:()=>Kb,ThumbnailOverlayTimeStatus:()=>dn,ThumbnailOverlayToggleButton:()=>$b,TimedMarkerDecoration:()=>qb,TitleAndButtonListHeader:()=>Xb,ToggleButton:()=>Oe,ToggleMenuServiceItem:()=>Qb,Tooltip:()=>Zb,TopicChannelDetails:()=>ew,TwoColumnBrowseResults:()=>ji,TwoColumnSearchResults:()=>l_,TwoColumnWatchNextResults:()=>Do,UniversalWatchCard:()=>d_,UpdateDateTextAction:()=>lm,UpdateDescriptionAction:()=>cm,UpdateLiveChatPollAction:()=>Uy,UpdateTitleAction:()=>dm,UpdateToggleButtonTextAction:()=>pm,UpdateViewershipAction:()=>fm,UpsellDialog:()=>tw,VerticalList:()=>iw,VerticalWatchCardList:()=>nw,Video:()=>So,VideoCard:()=>Yh,VideoInfoCardContent:()=>ow,VideoOwner:()=>Fo,VideoPrimaryInfo:()=>p_,VideoSecondaryInfo:()=>Bp,WatchCardCompactVideo:()=>f_,WatchCardHeroVideo:()=>rw,WatchCardRichHeader:()=>aw,WatchCardSectionSequence:()=>uw,WatchNextEndScreen:()=>Dm,WatchNextTabbedResults:()=>h_,YpcTrailer:()=>Om});var Pr=class extends a{constructor(e){super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint)}};o(Pr,"AccountChannel");Pr.type="AccountChannel";var $f=Pr;var Nr=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(Nr,"AccountItemSectionHeader");Nr.type="AccountItemSectionHeader";var qf=Nr;var Ar=class extends a{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};o(Ar,"AccountItem");Ar.type="AccountItem";var Rr=class extends a{constructor(e){super(),this.contents=ue(e.contents.map(i=>new Ar(i.accountItem))),this.header=d.parseItem(e.header,qf)}};o(Rr,"AccountItemSection");Rr.type="AccountItemSection";var Xf=Rr;var Mr=class extends a{constructor(e){super(),this.contents=d.parseItem(e.contents[0],Xf),this.footers=d.parseItem(e.footers[0],$f)}};o(Mr,"AccountSectionList");Mr.type="AccountSectionList";var Qf=Mr;var Vr=class extends a{constructor(e){super(),this.items=d.parse(e.continuationItems),this.target=e.target}};o(Vr,"AppendContinuationItemsAction");Vr.type="AppendContinuationItemsAction";var Zf=Vr;var Or=class extends a{constructor(e){super(),this.popup=d.parseItem(e.popup),this.popup_type=e.popupType}};o(Or,"OpenPopupAction");Or.type="OpenPopupAction";var Rg=Or;var Br=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};o(Br,"DataModelSection");Br.type="DataModelSection";var eh=Br;var Dr=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(n=>new eh(n))}};o(Dr,"AnalyticsMainAppKeyMetrics");Dr.type="AnalyticsMainAppKeyMetrics";var Mg=Dr;var Fr=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(n=>({title:n.cardData.title,rows:n.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};o(Fr,"AnalyticsRoot");Fr.type="AnalyticsRoot";var Vg=Fr;var Lr=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};o(Lr,"AnalyticsShortsCarouselCard");Lr.type="AnalyticsShortsCarouselCard";var Og=Lr;var jr=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};o(jr,"AnalyticsVideo");jr.type="AnalyticsVideo";var th=jr;var Yr=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new th(i)))}};o(Yr,"AnalyticsVodCarouselCard");Yr.type="AnalyticsVodCarouselCard";var Bg=Yr;var Ur=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};o(Ur,"CtaGoToCreatorStudio");Ur.type="CtaGoToCreatorStudio";var Dg=Ur;var Wr=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};o(Wr,"StatRow");Wr.type="StatRow";var Fg=Wr;var Hr=class extends a{constructor(e){var i,n;super(),!((n=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||n===void 0)&&n.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(Hr,"AutomixPreviewVideo");Hr.type="AutomixPreviewVideo";var Mi=Hr;var Jr=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new g(e.command)}};o(Jr,"BackstageImage");Jr.type="BackstageImage";var ih=Jr;var Gr=class extends a{constructor(e){var i,n,s,r,l,p,f,m;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let _=((s=(n=(i=e==null?void 0:e.defaultText)===null||i===void 0?void 0:i.accessibility)===null||n===void 0?void 0:n.accessibilityData)===null||s===void 0?void 0:s.label)||((l=(r=e==null?void 0:e.accessibilityData)===null||r===void 0?void 0:r.accessibilityData)===null||l===void 0?void 0:l.label)||((p=e==null?void 0:e.accessibility)===null||p===void 0?void 0:p.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(_.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=!((m=(f=e.defaultServiceEndpoint)===null||f===void 0?void 0:f.commandExecutorCommand)===null||m===void 0)&&m.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};o(Gr,"ToggleButton");Gr.type="ToggleButton";var Oe=Gr;var zr=class extends a{constructor(e){var i,n;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||n===void 0?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};o(zr,"CreatorHeart");zr.type="CreatorHeart";var nh=zr;var Kr=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,Oe),this.dislike_button=d.parseItem(e.dislikeButton,Oe),this.reply_button=d.parseItem(e.replyButton,S),this.creator_heart=d.parseItem(e.creatorHeart,nh)}};o(Kr,"CommentActionButtons");Kr.type="CommentActionButtons";var rn=Kr;var $r=class extends a{constructor(e){super(),this.id=e.postId,this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=d.parseItem(e.actionMenu,H)),Reflect.has(e,"actionButtons")&&(this.action_buttons=d.parseItem(e.actionButtons,rn)),Reflect.has(e,"voteButton")&&(this.vote_button=d.parseItem(e.voteButton,rn)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=d.parseItem(e.backstageAttachment)),this.surface=e.surface}};o($r,"BackstagePost");$r.type="BackstagePost";var Vi=$r;var qr=class extends a{constructor(e){super(),this.post=d.parseItem(e.post)}};o(qr,"BackstagePostThread");qr.type="BackstagePostThread";var Lg=qr;var Xr=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};o(Xr,"BrowseFeedActions");Xr.type="BrowseFeedActions";var oh=Xr;var Qr=class extends a{constructor(e){super(),this.album=new c(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};o(Qr,"BrowserMediaSession");Qr.type="BrowserMediaSession";var jg=Qr;var vo=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new c(e.title)}};o(vo,"HeaderLink");vo.type="HeaderLink";var Zr=class extends a{constructor(e){var i,n;super(),this.primary=ue(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new vo(s)))||[]),this.secondary=ue(((n=e.secondaryLinks)===null||n===void 0?void 0:n.map(s=>new vo(s)))||[])}};o(Zr,"ChannelHeaderLinks");Zr.type="ChannelHeaderLinks";var sh=Zr;var ea=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:d.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};o(ea,"SubscriptionNotificationToggleButton");ea.type="SubscriptionNotificationToggleButton";var rh=ea;var ta=class extends a{constructor(e){var i,n;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=d.parseItem(e.notificationPreferenceButton,rh),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((n=e.onSubscribeEndpoints)===null||n===void 0?void 0:n[0]))}};o(ta,"SubscribeButton");ta.type="SubscribeButton";var Le=ta;var ia=class extends a{constructor(e){super(),this.author=new O({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=d.parseItem(e.sponsorButton,S)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=d.parseItem(e.subscribeButton,[Le,S])),Reflect.has(e,"headerLinks")&&(this.header_links=d.parseItem(e.headerLinks,sh)),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};o(ia,"C4TabbedHeader");ia.type="C4TabbedHeader";var go=ia;var na=class extends a{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};o(na,"CallToActionButton");na.type="CallToActionButton";var Yg=na;var oa=class extends a{constructor(e){super(),this.teaser=d.parseItem(e.teaser),this.content=d.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};o(oa,"Card");oa.type="Card";var Ug=oa;var sa=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};o(sa,"CarouselHeader");sa.type="CarouselHeader";var ah=sa;var ra=class extends a{constructor(e){super(),this.items=d.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};o(ra,"CarouselItem");ra.type="CarouselItem";var Wg=ra;var aa=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,[Le,S]),this.description_snippet=new c(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};o(aa,"Channel");aa.type="Channel";var uh=aa;var ua=class extends a{constructor(e){var i,n;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new g(s.navigationEndpoint),icon:w.fromResponse(s.icon),title:new c(s.title)})))!==null&&n!==void 0?n:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=d.parseArray(e.actionButtons,S)}get views(){return this.view_count}get joined(){return this.joined_date}};o(ua,"ChannelAboutFullMetadata");ua.type="ChannelAboutFullMetadata";var lh=ua;var la=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=q.parseItem(e.signInButton,S),this.secondary_text=new c(e.secondaryText)}};o(la,"ChannelAgeGate");la.type="ChannelAgeGate";var Hg=la;var ca=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items)}};o(ca,"ChannelFeaturedContent");ca.type="ChannelFeaturedContent";var Jg=ca;var da=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};o(da,"ChannelMetadata");da.type="ChannelMetadata";var ch=da;var pa=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(pa,"ChannelMobileHeader");pa.type="ChannelMobileHeader";var Gg=pa;var fa=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};o(fa,"ChannelOptions");fa.type="ChannelOptions";var dh=fa;var ha=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=d.parseItem(e.sortSetting)}};o(ha,"ChannelSubMenu");ha.type="ChannelSubMenu";var ma=ha;var _a=class extends a{constructor(e){var i,n;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(n=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||n===void 0?void 0:n.label}};o(_a,"ChannelThumbnailWithLink");_a.type="ChannelThumbnailWithLink";var zg=_a;var va=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};o(va,"ChannelVideoPlayer");va.type="ChannelVideoPlayer";var Kg=va;var ga=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};o(ga,"Chapter");ga.type="Chapter";var ph=ga;var xa=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:je(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};o(xa,"ChildVideo");xa.type="ChildVideo";var $g=xa;var ya=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"onDeselectedCommand")&&(this.deselect_endpoint=new g(e.onDeselectedCommand)),this.text=new c(e.text).toString()}};o(ya,"ChipCloudChip");ya.type="ChipCloudChip";var me=ya;var ba=class extends a{constructor(e){super(),this.chips=d.parseArray(e.chips,me),this.next_button=d.parseItem(e.nextButton,S),this.previous_button=d.parseItem(e.previousButton,S),this.horizontal_scrollable=e.horizontalScrollable}};o(ba,"ChipCloud");ba.type="ChipCloud";var bt=ba;var wa=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};o(wa,"CollaboratorInfoCardContent");wa.type="CollaboratorInfoCardContent";var qg=wa;var Ta=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};o(Ta,"CollageHeroImage");Ta.type="CollageHeroImage";var Xg=Ta;var fh,ka=class extends a{constructor(e){super(),fh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,fh,e,"f")}get orig_badge(){return u(this,fh,"f")}};o(ka,"AuthorCommentBadge");fh=new WeakMap;ka.type="AuthorCommentBadge";var hh=ka;var Ia=class extends a{constructor(e){super(),this.reply_button=d.parseItem(e.replyButton,S),this.cancel_button=d.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};o(Ia,"CommentReplyDialog");Ia.type="CommentReplyDialog";var mh=Ia;var Sa=class extends a{constructor(e){var i,n;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)===null||n===void 0?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};o(Sa,"PdgCommentChip");Sa.type="PdgCommentChip";var _h=Sa;var Ca=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};o(Ca,"SponsorCommentBadge");Ca.type="SponsorCommentBadge";var vh=Ca;var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var B=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,n]=this;if(i===0&&n===0)return"0";if(e&&n>2147483647)return"-"+xh(m0(this),gh).toString(!1);let s=[],r=new B(i,n);for(;BT(r,VT);){let[l,p]=OT(r);s.push(p),r=l}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),n=i<0;if(Number.isNaN(i))return new B(0);if(e.length<10)return i<0?xh(m0(new B(-i)),gh):new B(i);let s=new B,r=gh;for(let l of e.split("").reverse())parseInt(l)&&(s=xh(s,Qg(new B(parseInt(l)),r))),r=Qg(r,new B(10));return n?xh(m0(s),gh):s}};o(B,"Long");var VT=new B(0),gh=new B(1);function yh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}o(yh,"makeChunk");function xh(t,e){let[i,n,s,r]=yh(t),[l,p,f,m]=yh(e),_=0,y=0,b=0,k=0;return k+=i+l,b+=k>>>16,k&=65535,b+=n+p,y+=b>>>16,b&=65535,y+=s+f,_+=y>>>16,y&=65535,_+=r+m,_&=65535,new B(b<<16|k,_<<16|y)}o(xh,"add");function Qg(t,e){let[i,n,s,r]=yh(t),[l,p,f,m]=yh(e),_=0,y=0,b=0,k=0;return k+=i*l,b+=k>>>16,k&=65535,b+=i*p+n*l,y+=b>>>16,b&=65535,y+=i*f+s*l+n*p,_+=y>>>16,y&=65535,_+=i*m+n*f+s*p+r*l,_&=65535,new B(b<<16|k,_<<16|y)}o(Qg,"mul");function OT(t){let[e,i]=t;return[new B((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}o(OT,"divByTen");function BT(t,e){let[i,n]=t,[s,r]=e;return n!==r?n-r:i-s}o(BT,"compare");function m0(t){let[e,i]=t;return new B(~e,~i)}o(m0,"negate");function xo(t){let e=[],s=typeof t=="number"?new B(t):t;for(;s[0]||s[1];){let[r,l]=s,p=r&127,f=l>>>7,m=r>>>7|(l&127)<<32-7;s=new B(m,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}o(xo,"encode");function yo(t){let e=new B(0),i=0;for(;;){let n=t.getUint8(i);if(e=DT(e,FT(new B(n&127),i*7)),++i,!(n>>>7))return[i,e]}}o(yo,"decode");function DT(t,e){return new B(t[0]|e[0],t[1]|e[1])}o(DT,"or");function FT(t,e){return e===0?t:e>=32?new B(0,t[0]<<e-32):new B(t[0]<<e,t[1]<<e|t[0]>>>32-e)}o(FT,"leftshift");function A(t){let e=[];return t.forEach(([i,n])=>{switch(e.push(xo(i<<3|n.type)),n.type){case N.Varint:e.push(xo(n.value));break;case N.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,n.value[0],!0),r.setUint32(4,n.value[1],!0),e.push(s);break}case N.LengthDelimited:e.push(xo(n.value.byteLength)),e.push(n.value);break;case N.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,n.value,!0),e.push(s);break}}}),_0(e)}o(A,"serialize");function _0(t){let e=t.reduce((n,s)=>n+s.byteLength,0),i=new Uint8Array(e);return t.reduce((n,s)=>(i.set(s,n),n+s.byteLength),0),i}o(_0,"concat");function v0(t){if(t instanceof B){let e=new B(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}o(v0,"encode");function g0(t){if(t instanceof B){let e=new B(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}o(g0,"decode");var x0={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>g0(t[0]),sint64:t=>g0(t).toString(!0),bool:t=>t[0]!==0},y0={int32:t=>new B(t),int64:t=>B.parse(t),uint32:t=>new B(t),uint64:t=>B.parse(t),sint32:t=>v0(new B(t)),sint64:t=>v0(B.parse(t)),bool:t=>new B(+t)},LT=Object.fromEntries(Object.entries(x0).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),jT=Object.fromEntries(Object.entries(y0).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),J=Object.assign(Object.assign({},LT),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},jT),{double:t=>{let e=new B;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:B.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:B.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),YT=Object.fromEntries(Object.keys(x0).map(t=>[t,function*(e){for(let i of e){let n=J[t](i);if(n!=null)yield n;else for(let s of JT(i))yield x0[t](s)}}])),BN=Object.assign(Object.assign({},YT),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*WT(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*HT(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let n of Zg(e))yield n>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let n of ex(e))yield n.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let n of Zg(e))yield n|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let n of ex(e))yield n.toString(!0)}}}),UT=Object.fromEntries(Object.keys(y0).map(t=>[t,function(e){return{type:N.LengthDelimited,value:_0(e.map(i=>{let n=y0[t](i);return xo(n)}))}}]));function bo(t,e){return o(function(n){let s=new Uint8Array(n.length*t),r=new DataView(s.buffer);for(let l=0;l<n.length;++l)e(r,l*t,n[l]);return{type:N.LengthDelimited,value:s}},"pack")}o(bo,"getFixedPackFn");var DN=Object.assign(Object.assign({},UT),{double:bo(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:bo(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:bo(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:bo(8,(t,e,i)=>{let n=B.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)}),sfixed32:bo(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:bo(8,(t,e,i)=>{let n=B.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)})});function*WT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=n.getFloat64(i,!0);i+=4,yield s}}o(WT,"unpackDouble");function*HT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=n.getFloat32(i,!0);i+=4,yield s}}o(HT,"unpackFloat");function*JT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=e.byteOffset;for(;i<e.length;){let s=yo(new DataView(e.buffer,n+i));i+=s[0],yield s[1]}}o(JT,"unpackVarint");function*Zg(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=n.getUint32(i,!0);i+=4,yield s}}o(Zg,"unpackFixed32");function*ex(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=n.getUint32(i,!0);i+=4;let r=n.getUint32(i,!0);i+=4,yield new B(s,r)}}o(ex,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,n=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=yo(new DataView(t.buffer,i+e)),l=r[1][0];e+=r[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[y,b]=yo(new DataView(t.buffer,i+e));n.push([f,{type:p,value:b}]),e+=y;break}case N.Fixed64:let m=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,n.push([f,{type:p,value:new B(m,_)}]);break;case N.LengthDelimited:{let[y,b]=yo(new DataView(t.buffer,i+e));n.push([f,{type:p,value:t.subarray(e+=y,e+=b[0])}]);break}case N.StartGroup:case N.EndGroup:n.push([f,{type:p}]);break;case N.Fixed32:n.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return n}o(G,"deserialize");function GT(){return{id:"",timestamp:0}}o(GT,"getDefaultValue");function tx(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return A(e)}o(tx,"encodeBinary");function ix(t){let e=GT(),i=G(t),n=new Map(i);e:{let s=n.get(1);if(s===void 0)break e;let r=J.string(s);if(r===void 0)break e;e.id=r}e:{let s=n.get(5);if(s===void 0)break e;let r=J.int32(s);if(r===void 0)break e;e.timestamp=r}return e}o(ix,"decodeBinary");function nx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return A(e)}o(nx,"encodeBinary");function ox(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:nx(i)}])}return A(e)}o(ox,"encodeBinary");function sx(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return A(e)}o(sx,"encodeBinary");function rx(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:sx(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return A(e)}o(rx,"encodeBinary");function ax(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return A(e)}o(ax,"encodeBinary");function ux(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:ax(i)}])}return A(e)}o(ux,"encodeBinary");function lx(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:ux(i)}])}return A(e)}o(lx,"encodeBinary");function cx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}o(cx,"encodeBinary");function dx(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:cx(i)}])}return A(e)}o(dx,"encodeBinary");function px(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:dx(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return A(e)}o(px,"encodeBinary");function fx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}o(fx,"encodeBinary");function hx(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return A(e)}o(hx,"encodeBinary");function mx(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:hx(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return A(e)}o(mx,"encodeBinary");function _x(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return A(e)}o(_x,"encodeBinary");function vx(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:mx(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:_x(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return A(e)}o(vx,"encodeBinary");function gx(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:fx(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:vx(i)}])}return A(e)}o(gx,"encodeBinary");function xx(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}o(xx,"encodeBinary");function yx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:xx(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return A(e)}o(yx,"encodeBinary");function bx(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}o(bx,"encodeBinary");function wx(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:bx(i)}])}return A(e)}o(wx,"encodeBinary");function Tx(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:wx(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return A(e)}o(Tx,"encodeBinary");function kx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Tx(i)}])}return A(e)}o(kx,"encodeBinary");function Ix(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}o(Ix,"encodeBinary");function Sx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:Ix(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return A(e)}o(Sx,"encodeBinary");function Cx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return A(e)}o(Cx,"encodeBinary");function Ex(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Cx(i)}])}return A(e)}o(Ex,"encodeBinary");function Px(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}o(Px,"encodeBinary");function Nx(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}o(Nx,"encodeBinary");function Ax(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return A(e)}o(Ax,"encodeBinary");function Rx(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return A(e)}o(Rx,"encodeBinary");function Mx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return A(e)}o(Mx,"encodeBinary");function Vx(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return A(e)}o(Vx,"encodeBinary");function Ox(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:Vx(i)}])}return A(e)}o(Ox,"encodeBinary");function Bx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return A(e)}o(Bx,"encodeBinary");function Dx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}o(Dx,"encodeBinary");function Fx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}o(Fx,"encodeBinary");function b0(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:Ex(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:Px(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:Nx(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:Ax(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:Rx(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:Mx(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:Ox(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:Bx(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:Dx(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:Fx(i)}])}return A(e)}o(b0,"encodeBinary");function Lx(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return A(e)}o(Lx,"encodeBinary");function jx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:Lx(i)}])}return A(e)}o(jx,"encodeBinary");var bh=class{static encodeVisitorData(e,i){let n=tx({id:e,timestamp:i});return encodeURIComponent(ft(n).replace(/\+/g,"-").replace(/\//g,"_"))}static decodeVisitorData(e){return ix(w0(decodeURIComponent(e)))}static encodeChannelAnalyticsParams(e){let i=ox({params:{channelId:e}});return encodeURIComponent(ft(i))}static encodeSearchFilters(e){let i={all:void 0,hour:1,today:2,week:3,month:4,year:5},n={all:void 0,video:1,channel:2,playlist:3,movie:4},s={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},l={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},p={};if(e?p.filters={}:p.noFilter=0,p.filters&&(e.upload_date&&(p.filters.uploadDate=i[e.upload_date]),e.type&&(p.filters.type=n[e.type]),e.duration&&(p.filters.duration=s[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(p.sortBy=r[e.sort_by]),e.features))for(let m of e.features)p.filters[l[m]]=1;let f=rx(p);return encodeURIComponent(ft(f))}static encodeMusicSearchFilters(e){var i;let n={filters:{type:{}}};e.type&&e.type!=="all"&&((i=n.filters)===null||i===void 0?void 0:i.type)&&(n.filters.type[e.type]=1);let s=lx(n);return encodeURIComponent(ft(s))}static encodeMessageParams(e,i){let n=px({params:{ids:{channelId:e,videoId:i}},number0:1,number1:4});return btoa(encodeURIComponent(ft(n)))}static encodeCommentsSectionParams(e,i={}){let s=gx({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i.sort_by||"TOP_COMMENTS"],type:i.type||2},target:"comments-section"}});return encodeURIComponent(ft(s))}static encodeCommentParams(e){let i=yx({videoId:e,params:{index:0},number:7});return encodeURIComponent(ft(i))}static encodeCommentActionParams(e,i={}){let n={type:e,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete n.unkNum,n.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let s=kx(n);return encodeURIComponent(ft(s))}static encodeNotificationPref(e,i){let n=Sx({channelId:e,prefId:{index:i},number0:0,number1:4});return encodeURIComponent(ft(n))}static encodeVideoMetadataPayload(e,i){let n={context:{client:{unkparam:14,clientName:$.ANDROID.NAME,clientVersion:$.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(i,"title")&&(n.title={text:i.title||""}),Reflect.has(i,"description")&&(n.description={text:i.description||""}),Reflect.has(i,"license")&&(n.license={type:i.license||""}),Reflect.has(i,"tags")&&(n.tags={list:i.tags||[]}),Reflect.has(i,"category")&&(n.category={id:i.category||0}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":n.privacy={type:1};break;case"UNLISTED":n.privacy={type:2};break;case"PRIVATE":n.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(i,"made_for_kids")&&(n.madeForKids={unkparam:1,choice:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(n.ageRestricted={unkparam:1,choice:i.age_restricted?1:2}),b0(n)}static encodeCustomThumbnailPayload(e,i){let n={context:{client:{unkparam:14,clientName:$.ANDROID.NAME,clientVersion:$.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:i}}};return b0(n)}static encodeHashtag(e){let i=jx({params:{hashtag:e,type:1}});return encodeURIComponent(ft(i))}};o(bh,"Proto");var ye=bh;var wt,Ea=class extends a{constructor(e){var i,n,s,r,l,p,f;super(),wt.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=d.parseItem(e.sponsorCommentBadge,vh),this.paid_comment_chip=d.parseItem(e.paidCommentChipRenderer,_h),this.author_badge=d.parseItem(e.authorCommentBadge,hh),this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=d.parseItem(e.actionMenu,H),this.action_buttons=d.parseItem(e.actionButtons,rn),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(n=this.action_buttons)===null||n===void 0?void 0:n.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((l=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return x(this,void 0,void 0,function*(){if(!u(this,wt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,wt,"f"),{parse:!1})})}dislike(){var e;return x(this,void 0,void 0,function*(){if(!u(this,wt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,wt,"f"),{parse:!1})})}reply(e){var i,n,s;return x(this,void 0,void 0,function*(){if(!u(this,wt,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(n=this.action_buttons)===null||n===void 0?void 0:n.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(mh).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(u(this,wt,"f"),{commentText:e})})}translate(e){var i,n,s,r,l,p;return x(this,void 0,void 0,function*(){if(!u(this,wt,"f"))throw new v("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=ye.encodeCommentActionParams(22,m),y=yield u(this,wt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),b=(n=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,k=(p=(l=(r=(s=b==null?void 0:b[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:k})})}setActions(e){T(this,wt,e,"f")}};o(Ea,"Comment");wt=new WeakMap;Ea.type="Comment";var wo=Ea;var Pa=class extends a{constructor(e){super(),this.id=e.id,this.categories=d.parseArray(e.categories),this.category_buttons=d.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};o(Pa,"EmojiPicker");Pa.type="EmojiPicker";var wh=Pa;var Na=class extends a{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=d.parseItem(e.submitButton,S),this.cancel_button=d.parseItem(e.cancelButton,S),this.placeholder=new c(e.placeholderText),this.emoji_button=d.parseItem(e.emojiButton,S),this.emoji_picker=d.parseItem(e.emojiPicker,wh)}};o(Na,"CommentDialog");Na.type="CommentDialog";var Yx=Na;var Aa=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),this.view_replies=d.parseItem(e.viewReplies,S),this.hide_replies=d.parseItem(e.hideReplies,S),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};o(Aa,"CommentReplies");Aa.type="CommentReplies";var Th=Aa;var Ra=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};o(Ra,"CommentsEntryPointTeaser");Ra.type="CommentsEntryPointTeaser";var kh=Ra;var Ma=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=q.parseItem(e.contentRenderer,kh)),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};o(Ma,"CommentsEntryPointHeader");Ma.type="CommentsEntryPointHeader";var Ih=Ma;var Va=class extends a{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=d.parseItem(e.createRenderer),this.sort_menu=d.parseItem(e.sortMenu,ci),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};o(Va,"CommentsHeader");Va.type="CommentsHeader";var To=Va;var Oa=class extends a{constructor(e){super(),this.submit_button=d.parseItem(e.submitButton,S),this.cancel_button=d.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};o(Oa,"CommentSimplebox");Oa.type="CommentSimplebox";var Sh=Oa;var Ba=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,S)),this.endpoint=new g(e.continuationEndpoint)}};o(Ba,"ContinuationItem");Ba.type="ContinuationItem";var Be=Ba;var di,an,Da=class extends a{constructor(e){super(),di.set(this,void 0),an.set(this,void 0),this.comment=d.parseItem(e.comment,wo),this.comment_replies_data=d.parseItem(e.replies,Th),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return x(this,void 0,void 0,function*(){if(!u(this,di,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(Be);if(!i)throw new v("Replies continuation not found.");let n=yield i.endpoint.call(u(this,di,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new v("Unexpected response.",n);return this.replies=ue(n.on_response_received_endpoints_memo.getType(wo).map(s=>(s.setActions(u(this,di,"f")),s))),T(this,an,n==null?void 0:n.on_response_received_endpoints_memo.getType(Be).first(),"f"),this})}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,an,"f"))throw new v("Continuation not found.");if(!u(this,di,"f"))throw new v("Actions instance not set for this thread.");let i=(e=u(this,an,"f").button)===null||e===void 0?void 0:e.as(S);if(!i)throw new v('"Load more" button not found.');let n=yield i.endpoint.call(u(this,di,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new v("Unexpected response.",n);return this.replies=ue(n.on_response_received_endpoints_memo.getType(wo).map(s=>(s.setActions(u(this,di,"f")),s))),T(this,an,n.on_response_received_endpoints_memo.getType(Be).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,an,"f")}setActions(e){T(this,di,e,"f")}};o(Da,"CommentThread");di=new WeakMap,an=new WeakMap;Da.type="CommentThread";var Ch=Da;var Fa=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=d.parseItem(e.menu,H)}};o(Fa,"CompactChannel");Fa.type="CompactChannel";var Ux=Fa;var La=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};o(La,"CompactLink");La.type="CompactLink";var ko=La;var ja=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):new O(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=d.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=d.parseItem(e.menu),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};o(ja,"Playlist");ja.type="Playlist";var $t=ja;var Ya=class extends $t{constructor(e){super(e)}};o(Ya,"CompactMix");Ya.type="CompactMix";var Wx=Ya;var Ua=class extends $t{constructor(e){super(e)}};o(Ua,"CompactPlaylist");Ua.type="CompactPlaylist";var Hx=Ua;var Wa=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};o(Wa,"CompactStation");Wa.type="CompactStation";var Jx=Wa;var Ha=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};o(Ha,"MetadataBadge");Ha.type="MetadataBadge";var Xe=Ha;var Ja=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parse(e.richThumbnail)),this.title=new c(e.title),this.author=new O(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=d.parseArray(e.badges,Xe),this.duration={text:new c(e.lengthText).toString(),seconds:je(new c(e.lengthText).toString())},this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,H)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};o(Ja,"CompactVideo");Ja.type="CompactVideo";var Eh=Ja;var Ga=class extends a{constructor(e){super(),this.title=new c(e.title),this.confirm_button=d.parseItem(e.confirmButton,S),this.cancel_button=d.parseItem(e.cancelButton,S),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};o(Ga,"ConfirmDialog");Ga.type="ConfirmDialog";var Gx=Ga;var za=class extends a{constructor(e){super(),this.availability_message=d.parseItem(e.availabilityMessage,Fe)}};o(za,"ConversationBar");za.type="ConversationBar";var zx=za;var Ka=class extends a{constructor(e){super(),this.copy_button=d.parseItem(e.copyButton,S),this.short_url=e.shortUrl,this.style=e.style}};o(Ka,"CopyLink");Ka.type="CopyLink";var Ph=Ka;var $a=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};o($a,"HeatMarker");$a.type="HeatMarker";var Nh=$a;var qa=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=d.parseArray(e.heatMarkers,Nh),this.heat_markers_decorations=d.parseArray(e.heatMarkersDecorations)}};o(qa,"Heatmap");qa.type="Heatmap";var Ah=qa;var Xa=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=d.parseItem(e.value.heatmap,Ah)),Reflect.has(e.value,"chapters")&&(this.value.chapters=d.parseArray(e.value.chapters,ph)))}};o(Xa,"Marker");Xa.type="Marker";var Qa=class extends a{constructor(e){var i;super(),this.markers_map=ue(((i=e.markersMap)===null||i===void 0?void 0:i.map(n=>new Xa(n)))||[])}};o(Qa,"MultiMarkersPlayerBar");Qa.type="MultiMarkersPlayerBar";var Rh=Qa;var Za=class extends a{constructor(e){super(),this.player_bar=d.parseItem(e.playerBar,Rh),this.player_bar_action_button=d.parseItem(e.playerBarActionButton,S)}};o(Za,"DecoratedPlayerBar");Za.type="DecoratedPlayerBar";var Mh=Za;var eu=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=d.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=d.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};o(eu,"DefaultPromoPanel");eu.type="DefaultPromoPanel";var Kx=eu;var tu=class extends a{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};o(tu,"DidYouMean");tu.type="DidYouMean";var Vh=tu;var iu=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};o(iu,"DownloadButton");iu.type="DownloadButton";var $x=iu;var un=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new un(n)))}};o(un,"ChildElement");un.type="ChildElement";var Oh=un;var ln=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return d.parseItem(e,ln);let n=e.newElement.type.componentType;this.model=d.parseItem(n==null?void 0:n.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ue(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new Oh(s)))||[]))}};o(ln,"Element");ln.type="Element";var Io=ln;var nu=class extends a{constructor(e){super(),this.title=new c(e.title),this.first_option=d.parseItem(e.firstOption),this.menu=d.parseItem(e.menu,H)}};o(nu,"EmergencyOnebox");nu.type="EmergencyOnebox";var qx=nu;var ou=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};o(ou,"EmojiPickerCategory");ou.type="EmojiPickerCategory";var Xx=ou;var su=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};o(su,"EmojiPickerCategoryButton");su.type="EmojiPickerCategoryButton";var Qx=su;var ru=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};o(ru,"EmojiPickerUpsellCategory");ru.type="EmojiPickerUpsellCategory";var Zx=ru;var au=class extends a{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=d.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};o(au,"EndscreenElement");au.type="EndscreenElement";var ey=au;var uu=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};o(uu,"EndScreenPlaylist");uu.type="EndScreenPlaylist";var Bh=uu;var lu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=d.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};o(lu,"EndScreenVideo");lu.type="EndScreenVideo";var Dh=lu;var cu=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new c(e.query).toString()}};o(cu,"SearchRefinementCard");cu.type="SearchRefinementCard";var cn=cu;var du=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};o(du,"MacroMarkersListItem");du.type="MacroMarkersListItem";var Fh=du;var pu=class extends a{constructor(e){super(),this.game=d.parseItem(e.game)}};o(pu,"GameCard");pu.type="GameCard";var Lh=pu;var fu=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};o(fu,"ThumbnailOverlayTimeStatus");fu.type="ThumbnailOverlayTimeStatus";var dn=fu;var hu=class extends a{constructor(e){var i,n,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new c(l.snippetText),hover_text:new c(l.snippetHoverText)}))),this.expandable_metadata=d.parseItem(e.expandableMetadata,jh),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parseItem(e.richThumbnail)),this.author=new O(e.ownerText,e.ownerBadges,(s=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=d.parseArray(e.badges,Xe),this.endpoint=new g(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:je(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=d.parseItem(e.menu,H),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(dn))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};o(hu,"Video");hu.type="Video";var So=hu;var mu=class extends So{constructor(e){super(e)}};o(mu,"VideoCard");mu.type="VideoCard";var Yh=mu;var _u=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards,[cn,Fh,Lh,Yh]),this.header=d.parseItem(e.header),this.previous_button=d.parseItem(e.previousButton,S),this.next_button=d.parseItem(e.nextButton,S)}};o(_u,"HorizontalCardList");_u.type="HorizontalCardList";var Co=_u;var vu=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=d.parseItem(e.expandedContent,Co),this.expand_button=d.parseItem(e.expandButton,S),this.collapse_button=d.parseItem(e.collapseButton,S)}};o(vu,"ExpandableMetadata");vu.type="ExpandableMetadata";var jh=vu;var gu=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=d.parseItem(e.content)}};o(gu,"ExpandableTab");gu.type="ExpandableTab";var Eo=gu;var xu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};o(xu,"ExpandedShelfContents");xu.type="ExpandedShelfContents";var ty=xu;var yu=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents,me)}};o(yu,"FeedFilterChipBar");yu.type="FeedFilterChipBar";var pi=yu;var bu=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(bu,"FeedTabbedHeader");bu.type="FeedTabbedHeader";var Uh=bu;var wu=class extends a{constructor(e){super(),this.title=new c(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};o(wu,"GameDetails");wu.type="GameDetails";var iy=wu;var Tu=class extends a{constructor(e){var i,n,s;super(),this.items=d.parseArray(e.items),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};o(Tu,"Grid");Tu.type="Grid";var pn=Tu;var ku=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton)}};o(ku,"GridChannel");ku.type="GridChannel";var Wh=ku;var Iu=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(Iu,"GridHeader");Iu.type="GridHeader";var ny=Iu;var Su=class extends a{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):!((n=e.longBylineText)===null||n===void 0)&&n.simpleText?new c(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};o(Su,"GridMix");Su.type="GridMix";var oy=Su;var Cu=class extends a{constructor(e){var i;super();let n=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):n!=null&&n.text?new c(n.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges,Xe),this.metadata=new c(e.metadata),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};o(Cu,"GridMovie");Cu.type="GridMovie";var sy=Cu;var Eu=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new O(e.shortBylineText,e.ownerBadges)),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(n=>w.fromResponse(n)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};o(Eu,"GridPlaylist");Eu.type="GridPlaylist";var Hh=Eu;var Pu=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};o(Pu,"ShowCustomThumbnail");Pu.type="ShowCustomThumbnail";var Jh=Pu;var Nu=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(Nu,"ThumbnailOverlayBottomPanel");Nu.type="ThumbnailOverlayBottomPanel";var Gh=Nu;var Au=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=q.parseItem(e.thumbnailRenderer,Jh),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=q.parseArray(e.thumbnailOverlays,Gh),this.author=new O(e.shortBylineText,void 0)}};o(Au,"GridShow");Au.type="GridShow";var ry=Au;var Ru=class extends a{constructor(e){var i,n;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.rich_thumbnail=d.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):s!=null&&s.text?new c(s.text):null,this.author=e.shortBylineText&&new O(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,H),Reflect.has(e,"buttons")&&(this.buttons=d.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((n=e.upcomingEventData)===null||n===void 0)&&n.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};o(Ru,"GridVideo");Ru.type="GridVideo";var zh=Ru;var Mu=class extends a{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};o(Mu,"GuideEntry");Mu.type="GuideEntry";var fn=Mu;var Vu=class extends a{constructor(e){super(),this.expander_item=q.parseItem(e.expanderItem,fn),this.collapser_item=q.parseItem(e.collapserItem,fn),this.expandable_items=q.parseArray(e.expandableItems)}};o(Vu,"GuideCollapsibleEntry");Vu.type="GuideCollapsibleEntry";var ay=Vu;var Ou=class extends a{constructor(e){super(),this.header_entry=q.parseItem(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=q.parseArray(e.sectionItems)}};o(Ou,"GuideCollapsibleSectionEntry");Ou.type="GuideCollapsibleSectionEntry";var uy=Ou;var Bu=class extends fn{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};o(Bu,"GuideDownloadsEntry");Bu.type="GuideDownloadsEntry";var ly=Bu;var Du=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=q.parseArray(e.items)}};o(Du,"GuideSection");Du.type="GuideSection";var Po=Du;var Fu=class extends Po{};o(Fu,"GuideSubscriptionsSection");Fu.type="GuideSubscriptionsSection";var Kh=Fu;var Lu=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};o(Lu,"HashtagHeader");Lu.type="HashtagHeader";var $h=Lu;var ju=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};o(ju,"HeroPlaylistThumbnail");ju.type="HeroPlaylistThumbnail";var cy=ju;var Yu=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};o(Yu,"Panel");Yu.type="Panel";var Uu=class extends a{constructor(e){super(),this.panels=ue(e.highlightsCarousel.panels.map(i=>new Yu(i)))}};o(Uu,"HighlightsCarousel");Uu.type="HighlightsCarousel";var Wu=Uu;var Hu=class extends a{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};o(Hu,"SearchSuggestion");Hu.type="SearchSuggestion";var qh=Hu;var Ju=class extends qh{constructor(e){super(e)}};o(Ju,"HistorySuggestion");Ju.type="HistorySuggestion";var dy=Ju;var Gu=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=d.parseArray(e.items)}get contents(){return this.items}};o(Gu,"HorizontalList");Gu.type="HorizontalList";var py=Gu;var zu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.previous_button=d.parseItem(e.previousButton,S),this.next_button=d.parseItem(e.nextButton,S)}get contents(){return this.items}};o(zu,"HorizontalMovieList");zu.type="HorizontalMovieList";var fy=zu;var Ku=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};o(Ku,"IconLink");Ku.type="IconLink";var Xh=Ku;var $u=class extends a{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),this.paragraphs=e.paragraphs.map(i=>new c(i)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};o($u,"InfoPanelContent");$u.type="InfoPanelContent";var Qh=$u;var qu=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.menu=d.parseItem(e.menu,H),this.content=d.parseItem(e.content,Qh),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};o(qu,"InfoPanelContainer");qu.type="InfoPanelContainer";var hy=qu;var Xu=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=d.parseArray(e.badges,Xe),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=d.parseArray(e.buttons,[Le,S]),this.auto_generated=new c(e.autoGenerated)}};o(Xu,"InteractiveTabbedHeader");Xu.type="InteractiveTabbedHeader";var Zh=Xu;var Qu=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(Qu,"ItemSectionHeader");Qu.type="ItemSectionHeader";var em=Qu;var Zu=class extends a{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};o(Zu,"ItemSectionTab");Zu.type="Tab";var tm=Zu;var el=class extends a{constructor(e){super(),this.title=new c(e.title),this.tabs=d.parseArray(e.tabs,tm),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};o(el,"ItemSectionTabbedHeader");el.type="ItemSectionTabbedHeader";var im=el;var tl=class extends a{constructor(e){var i,n,s;super(),this.header=d.parseItem(e.header,[To,em,im]),this.contents=d.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};o(tl,"ItemSection");tl.type="ItemSection";var _e=tl;var il=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};o(il,"LikeButton");il.type="LikeButton";var my=il;var nl=class extends a{constructor(e){var i,n;super(),this.header=d.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||n===void 0?void 0:n.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};o(nl,"LiveChat");nl.type="LiveChat";var nm=nl;var ol=class extends a{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=d.parseItem(e.contextMenuButton,S)}};o(ol,"LiveChatBannerHeader");ol.type="LiveChatBannerHeader";var om=ol;var sl=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,om),this.contents=d.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};o(sl,"LiveChatBanner");sl.type="LiveChatBanner";var sm=sl;var rl=class extends a{constructor(e){super(),this.banner=d.parseItem(e.bannerRenderer,sm)}};o(rl,"AddBannerToLiveChatCommand");rl.type="AddBannerToLiveChatCommand";var _y=rl;var al=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};o(al,"AddChatItemAction");al.type="AddChatItemAction";var rm=al;var ul=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),this.duration_sec=e.durationSec}};o(ul,"AddLiveChatTickerItemAction");ul.type="AddLiveChatTickerItemAction";var vy=ul;var ll=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};o(ll,"DimChatItemAction");ll.type="DimChatItemAction";var gy=ll;var cl=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=d.parseArray(e.moderationButtons,S),this.auto_moderated_item=d.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(cl,"LiveChatAutoModMessage");cl.type="LiveChatAutoModMessage";var xy=cl;var dl=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=d.parseItem(e.contextMenuButton,S)}};o(dl,"LiveChatBannerPoll");dl.type="LiveChatBannerPoll";var yy=dl;var pl=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};o(pl,"LiveChatMembershipItem");pl.type="LiveChatMembershipItem";var by=pl;var fl=class extends a{constructor(e){super(),this.message=new c(e.message),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};o(fl,"LiveChatPaidMessage");fl.type="LiveChatPaidMessage";var wy=fl;var hl=class extends a{constructor(e){super(),this.id=e.id,this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(hl,"LiveChatPaidSticker");hl.type="LiveChatPaidSticker";var Ty=hl;var ml=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ml,"LiveChatPlaceholderItem");ml.type="LiveChatPlaceholderItem";var ky=ml;var _l=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=d.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=d.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};o(_l,"LiveChatProductItem");_l.type="LiveChatProductItem";var Iy=_l;var vl=class extends a{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(vl,"LiveChatRestrictedParticipation");vl.type="LiveChatRestrictedParticipation";var Sy=vl;var hn=class extends a{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=d.parseArray(e.inlineActionButtons,S),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(hn,"LiveChatMessageBase");hn.type="LiveChatMessageBase";var gl=class extends hn{constructor(e){super(e),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};o(gl,"LiveChatTextMessage");gl.type="LiveChatTextMessage";var Cy=gl;var xl=class extends a{constructor(e){var i,n;super(),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=d.parseItem((n=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||n===void 0?void 0:n.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};o(xl,"LiveChatTickerPaidMessageItem");xl.type="LiveChatTickerPaidMessageItem";var am=xl;var yl=class extends am{};o(yl,"LiveChatTickerPaidStickerItem");yl.type="LiveChatTickerPaidStickerItem";var Ey=yl;var bl=class extends a{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new O(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};o(bl,"LiveChatTickerSponsorItem");bl.type="LiveChatTickerSponsorItem";var Py=bl;var wl=class extends hn{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=d.parseItem(e.actionButton)}};o(wl,"LiveChatViewerEngagementMessage");wl.type="LiveChatViewerEngagementMessage";var Ny=wl;var Tl=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=d.parseItem(e.contextMenuButton,S)}};o(Tl,"PollHeader");Tl.type="PollHeader";var Ay=Tl;var kl=class extends a{constructor(e){super(),this.id=e.id,this.contents=d.parse(e.contents),this.target_id=e.targetId}};o(kl,"LiveChatActionPanel");kl.type="LiveChatActionPanel";var um=kl;var Il=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};o(Il,"MarkChatItemAsDeletedAction");Il.type="MarkChatItemAsDeletedAction";var Ry=Il;var Sl=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};o(Sl,"MarkChatItemsByAuthorAsDeletedAction");Sl.type="MarkChatItemsByAuthorAsDeletedAction";var My=Sl;var Cl=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};o(Cl,"RemoveBannerForLiveChatCommand");Cl.type="RemoveBannerForLiveChatCommand";var Vy=Cl;var El=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};o(El,"RemoveChatItemAction");El.type="RemoveChatItemAction";var Oy=El;var Pl=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};o(Pl,"RemoveChatItemByAuthorAction");Pl.type="RemoveChatItemByAuthorAction";var By=Pl;var Nl=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=d.parseItem(e.replacementItem)}};o(Nl,"ReplaceChatItemAction");Nl.type="ReplaceChatItemAction";var Dy=Nl;var Al=class extends a{constructor(e){var i;super(),this.actions=d.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};o(Al,"ReplayChatItemAction");Al.type="ReplayChatItemAction";var Fy=Al;var Rl=class extends a{constructor(e){super(),this.panel_to_show=d.parseItem(e.panelToShow,um)}};o(Rl,"ShowLiveChatActionPanelAction");Rl.type="ShowLiveChatActionPanelAction";var Ly=Rl;var Ml=class extends a{constructor(e){super(),this.dialog=d.parseItem(e.dialog)}};o(Ml,"ShowLiveChatDialogAction");Ml.type="ShowLiveChatDialogAction";var jy=Ml;var Vl=class extends a{constructor(e){super(),this.tooltip=d.parseItem(e.tooltip)}};o(Vl,"ShowLiveChatTooltipCommand");Vl.type="ShowLiveChatTooltipCommand";var Yy=Vl;var Ol=class extends a{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};o(Ol,"UpdateDateTextAction");Ol.type="UpdateDateTextAction";var lm=Ol;var Bl=class extends a{constructor(e){super(),this.description=new c(e.description)}};o(Bl,"UpdateDescriptionAction");Bl.type="UpdateDescriptionAction";var cm=Bl;var Dl=class extends a{constructor(e){super(),this.poll_to_update=d.parseItem(e.pollToUpdate)}};o(Dl,"UpdateLiveChatPollAction");Dl.type="UpdateLiveChatPollAction";var Uy=Dl;var Fl=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(Fl,"UpdateTitleAction");Fl.type="UpdateTitleAction";var dm=Fl;var Ll=class extends a{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};o(Ll,"UpdateToggleButtonTextAction");Ll.type="UpdateToggleButtonTextAction";var pm=Ll;var jl=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.is_live=i.isLive}};o(jl,"UpdateViewershipAction");jl.type="UpdateViewershipAction";var fm=jl;var Yl=class extends Xe{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};o(Yl,"LiveChatAuthorBadge");Yl.type="LiveChatAuthorBadge";var Wy=Yl;var Ul=class extends a{constructor(e){super(),this.confirm_button=d.parseItem(e.confirmButton,S),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};o(Ul,"LiveChatDialog");Ul.type="LiveChatDialog";var Hy=Ul;var Wl=class extends a{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=d.parseItem(e.sendButton,S),this.target_id=e.targetId}};o(Wl,"LiveChatMessageInput");Wl.type="LiveChatMessageInput";var Jy=Wl;var Hl=class extends S{constructor(e){super(e)}};o(Hl,"MenuNavigationItem");Hl.type="MenuNavigationItem";var Gy=Hl;var Jl=class extends S{constructor(e){super(e)}};o(Jl,"MenuServiceItem");Jl.type="MenuServiceItem";var No=Jl;var Gl=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};o(Gl,"MenuServiceItemDownload");Gl.type="MenuServiceItemDownload";var zy=Gl;var zl=class extends a{constructor(e){super(),this.header=d.parse(e.header),this.sections=d.parse(e.sections),this.style=e.style}};o(zl,"MultiPageMenu");zl.type="MultiPageMenu";var Ky=zl;var Kl=class extends a{constructor(e){super(),this.items=d.parse(e.items)}get contents(){return this.items}};o(Kl,"MultiPageMenuNotificationSection");Kl.type="MultiPageMenuNotificationSection";var $y=Kl;var $l=class extends a{constructor(e){super()}};o($l,"MusicMenuItemDivider");$l.type="MusicMenuItemDivider";var hm=$l;var ql=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=d.parseArray(e.options,[yt,hm])}};o(ql,"MusicMultiSelectMenu");ql.type="MusicMultiSelectMenu";var mm=ql;var Xl=class extends a{constructor(e){super(),this.title=new c(e.title),this.buttons=d.parse(e.buttons)}};o(Xl,"SimpleMenuHeader");Xl.type="SimpleMenuHeader";var _m=Xl;var Ql=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};o(Ql,"MerchandiseItem");Ql.type="MerchandiseItem";var qy=Ql;var Zl=class extends a{constructor(e){super(),this.title=e.title,this.menu=d.parseItem(e.actionButton),this.items=d.parseArray(e.items)}get contents(){return this.items}};o(Zl,"MerchandiseShelf");Zl.type="MerchandiseShelf";var vm=Zl;var ec=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};o(ec,"MetadataRow");ec.type="MetadataRow";var Xy=ec;var tc=class extends a{constructor(e){super(),this.rows=d.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};o(tc,"MetadataRowContainer");tc.type="MetadataRowContainer";var gm=tc;var ic=class extends a{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};o(ic,"MetadataRowHeader");ic.type="MetadataRowHeader";var Qy=ic;var nc=class extends a{constructor(e){super(),this.section_list=d.parseItem(e)}};o(nc,"MetadataScreen");nc.type="MetadataScreen";var Zy=nc;var oc=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};o(oc,"MicroformatData");oc.type="MicroformatData";var qt=oc;var sc=class extends $t{constructor(e){super(e)}};o(sc,"Mix");sc.type="Mix";var eb=sc;var rc=class extends a{constructor(e){var i,n,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.longBylineText,e.ownerBadges,(s=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:je(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=d.parseItem(e.menu,H)}};o(rc,"Movie");rc.type="Movie";var tb=rc;var ac=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(n=>new w(n)).sort((n,s)=>s.width-n.width)}};o(ac,"MovingThumbnail");ac.type="MovingThumbnail";var ib=ac;var uc=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(uc,"MusicCardShelfHeaderBasic");uc.type="MusicCardShelfHeaderBasic";var xm=uc;var lc=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};o(lc,"MusicInlineBadge");lc.type="MusicInlineBadge";var ym=lc;var cc=class extends a{constructor(e){var i,n;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)===null||n===void 0?void 0:n.label),this.icon_color=e.iconColor}};o(cc,"MusicPlayButton");cc.type="MusicPlayButton";var bm=cc;var dc=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,bm),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};o(dc,"MusicItemThumbnailOverlay");dc.type="MusicItemThumbnailOverlay";var Oi=dc;var pc=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};o(pc,"MusicThumbnail");pc.type="MusicThumbnail";var Xt=pc;var fc=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,Xt),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=d.parseArray(e.buttons,S),this.menu=d.parseItem(e.menu,H),this.on_tap=new g(e.onTap),this.header=d.parseItem(e.header,xm),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=d.parseArray(e.subtitleBadges,ym),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Oi),Reflect.has(e,"contents")&&(this.contents=d.parseArray(e.contents))}};o(fc,"MusicCardShelf");fc.type="MusicCardShelf";var wm=fc;var hc=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,Xt)),Reflect.has(e,"moreContentButton")&&(this.more_content=d.parseItem(e.moreContentButton,S)),Reflect.has(e,"endIcons")&&(this.end_icons=d.parseArray(e.endIcons,Xh))}};o(hc,"MusicCarouselShelfBasicHeader");hc.type="MusicCarouselShelfBasicHeader";var Tm=hc;var mc=class extends a{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new g(e.clickCommand),Reflect.has(e,"iconStyle")&&Reflect.has(e.iconStyle,"icon")&&Reflect.has(e.iconStyle.icon,"iconType")&&(this.icon_type=e.iconStyle.icon.iconType)}};o(mc,"MusicNavigationButton");mc.type="MusicNavigationButton";var Ao=mc;var _c=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};o(_c,"MusicResponsiveListItemFixedColumn");_c.type="musicResponsiveListItemFlexColumnRenderer";var km=_c;var vc=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};o(vc,"MusicResponsiveListItemFlexColumn");vc.type="MusicResponsiveListItemFlexColumn";var Im=vc;var Qt,gc,sb,rb,nb,ob,ab,ub,lb,cb,xc=class extends a{constructor(e){var i,n,s,r,l,p;switch(super(),Qt.add(this),gc.set(this,void 0),this.flex_columns=d.parseArray(e.flexColumns,Im),this.fixed_columns=d.parseArray(e.fixedColumns,km),T(this,gc,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((n=e==null?void 0:e.playlistItemData)===null||n===void 0?void 0:n.playlistSetVideoId)||null},"f"),this.endpoint=e.navigationEndpoint?new g(e.navigationEndpoint):null,(p=(l=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,Qt,"m",lb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,Qt,"m",cb).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,Qt,"m",ab).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,Qt,"m",ub).call(this);break;default:this.flex_columns[1]?u(this,Qt,"m",rb).call(this):u(this,Qt,"m",sb).call(this);break}e.index&&(this.index=new c(e.index)),this.thumbnail=d.parseItem(e.thumbnail,Xt),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu,H),this.overlay=d.parseItem(e.overlay,Oi)}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};o(xc,"MusicResponsiveListItem");gc=new WeakMap,Qt=new WeakSet,sb=o(function(){this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),rb=o(function(){var e,i;((i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",u(this,Qt,"m",ob).call(this)):(this.item_type="song",u(this,Qt,"m",nb).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),nb=o(function(){var e,i,n,s,r,l,p,f,m,_,y,b,k,I,E;this.id=u(this,gc,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let P=((r=(s=(n=this.flex_columns[1])===null||n===void 0?void 0:n.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(L=>/^\d+$/.test(L.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.key("title").instanceof(c))===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:je(P)});let M=((m=(f=this.flex_columns[1])===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(L=>He(L)&&L.endpoint&&(L.endpoint.payload.browseId.startsWith("MPR")||L.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))))||((y=(_=this.flex_columns[2])===null||_===void 0?void 0:_.key("title").instanceof(c).runs)===null||y===void 0?void 0:y.find(L=>He(L)&&L.endpoint&&(L.endpoint.payload.browseId.startsWith("MPR")||L.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_release"))));M&&He(M)&&(this.album={id:(k=(b=M.endpoint)===null||b===void 0?void 0:b.payload)===null||k===void 0?void 0:k.browseId,name:M.text,endpoint:M.endpoint});let U=(E=(I=this.flex_columns[1])===null||I===void 0?void 0:I.key("title").instanceof(c).runs)===null||E===void 0?void 0:E.filter(L=>He(L)&&L.endpoint&&(L.endpoint.payload.browseId.startsWith("UC")||L.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));U&&(this.artists=U.map(L=>{var le,xe;return{name:L.text,channel_id:He(L)?(xe=(le=L.endpoint)===null||le===void 0?void 0:le.payload)===null||xe===void 0?void 0:xe.browseId:void 0,endpoint:He(L)?L.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),ob=o(function(){var e,i,n,s,r,l,p,f,m,_;this.id=u(this,gc,"f").video_id,this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c),this.views=(n=(i=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.find(k=>k.text.match(/(.*?) views/)))===null||n===void 0?void 0:n.toString();let y=(r=(s=this.flex_columns[1])===null||s===void 0?void 0:s.key("title").instanceof(c).runs)===null||r===void 0?void 0:r.filter(k=>He(k)&&k.endpoint&&(k.endpoint.payload.browseId.startsWith("UC")||k.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));y&&(this.authors=y.map(k=>{var I,E;return{name:k.text,channel_id:He(k)?(E=(I=k.endpoint)===null||I===void 0?void 0:I.payload)===null||E===void 0?void 0:E.browseId:void 0,endpoint:He(k)?k.endpoint:void 0}}));let b=((p=(l=this.flex_columns[1].key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(k=>/^\d+$/.test(k.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(k=>/^\d+$/.test(k.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);b&&(this.duration={text:b,seconds:je(b)})},"_MusicResponsiveListItem_parseVideo"),ab=o(function(){var e,i,n,s,r,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(n=this.flex_columns[1])===null||n===void 0?void 0:n.key("title").instanceof(c),this.subscribers=((l=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),ub=o(function(){var e,i,n,s;this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(e=this.flex_columns[1])===null||e===void 0?void 0:e.key("title").instanceof(c),this.song_count=((s=(n=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||n===void 0?void 0:n.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),lb=o(function(){var e,i,n,s,r,l,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let _=(s=(n=this.flex_columns[1])===null||n===void 0?void 0:n.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(y=>He(y)&&y.endpoint&&(y.endpoint.payload.browseId.startsWith("UC")||y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&He(_)&&(this.author={name:_.text,channel_id:(l=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns[1])===null||p===void 0?void 0:p.key("title").instanceof(c).runs)===null||f===void 0?void 0:f.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),cb=o(function(){var e,i,n,s,r,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString(),this.subtitle=this.flex_columns[1].key("title").instanceof(c);let m=(s=(n=this.flex_columns[1])===null||n===void 0?void 0:n.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(y=>y.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(l=(r=this.flex_columns[1])===null||r===void 0?void 0:r.key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(y=>He(y)&&y.endpoint&&(y.endpoint.payload.browseId.startsWith("UC")||y.endpoint.payload.browseId.startsWith("FEmusic_library_privately_owned_artist")));_&&He(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");xc.type="MusicResponsiveListItem";var Bi=xc;var yc=class extends a{constructor(e){var i,n,s,r,l,p,f,m,_,y,b,k,I,E,P,M,U,L,le,xe,Ae,Re;switch(super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((n=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||n===void 0?void 0:n.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new c(e.subtitle),this.badges=d.parse(e.subtitleBadges),(m=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((y=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||y===void 0?void 0:y.api_url)==="/next"?this.item_type="endpoint":!((b=this.subtitle.runs)===null||b===void 0)&&b[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((I=(k=this.subtitle.runs)===null||k===void 0?void 0:k.find(X=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(X.text)))===null||I===void 0?void 0:I.text)||"";else if(this.item_type=="playlist"){let X=(E=this.subtitle.runs)===null||E===void 0?void 0:E.find(z=>z.text.match(/\d+ songs|song/));this.item_count=X?X.text:null}else if(this.item_type=="album"){let X=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(z=>{var ie,te;return(te=(ie=z.endpoint)===null||ie===void 0?void 0:ie.payload)===null||te===void 0?void 0:te.browseId.startsWith("UC")});X&&(this.artists=X.map(z=>{var ie,te;return{name:z.text,channel_id:(te=(ie=z.endpoint)===null||ie===void 0?void 0:ie.payload)===null||te===void 0?void 0:te.browseId,endpoint:z.endpoint}})),this.year=(M=this.subtitle.runs)===null||M===void 0?void 0:M.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((L=(U=this===null||this===void 0?void 0:this.subtitle.runs)===null||U===void 0?void 0:U.find(z=>z==null?void 0:z.text.match(/(.*?) views/)))===null||L===void 0?void 0:L.text)||"N/A";let X=(le=this.subtitle.runs)===null||le===void 0?void 0:le.find(z=>{var ie,te,$e;return($e=(te=(ie=z.endpoint)===null||ie===void 0?void 0:ie.payload)===null||te===void 0?void 0:te.browseId)===null||$e===void 0?void 0:$e.startsWith("UC")});X&&(this.author={name:X==null?void 0:X.text,channel_id:(Ae=(xe=X==null?void 0:X.endpoint)===null||xe===void 0?void 0:xe.payload)===null||Ae===void 0?void 0:Ae.browseId,endpoint:X==null?void 0:X.endpoint})}else if(this.item_type=="song"){let X=(Re=this.subtitle.runs)===null||Re===void 0?void 0:Re.filter(z=>{var ie,te;return(te=(ie=z.endpoint)===null||ie===void 0?void 0:ie.payload)===null||te===void 0?void 0:te.browseId.startsWith("UC")});X&&(this.artists=X.map(z=>{var ie,te;return{name:z==null?void 0:z.text,channel_id:(te=(ie=z==null?void 0:z.endpoint)===null||ie===void 0?void 0:ie.payload)===null||te===void 0?void 0:te.browseId,endpoint:z==null?void 0:z.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Oi),this.menu=d.parseItem(e.menu,H)}};o(yc,"MusicTwoRowItem");yc.type="MusicTwoRowItem";var Ro=yc;var bc=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Tm),this.contents=d.parseArray(e.contents,[Ro,Bi,Ao]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};o(bc,"MusicCarouselShelf");bc.type="MusicCarouselShelf";var Se=bc;var wc=class extends a{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};o(wc,"MusicDescriptionShelf");wc.type="MusicDescriptionShelf";var mn=wc;var Tc=class extends a{constructor(e){var i,n,s,r,l,p,f,m,_;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((n=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||n===void 0?void 0:n.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=d.parseArray(e.subtitleBadges);let y=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(b=>{var k,I;return(I=(k=b==null?void 0:b.endpoint)===null||k===void 0?void 0:k.payload)===null||I===void 0?void 0:I.browseId.startsWith("UC")});y&&(this.author={name:y.text,channel_id:(_=(m=y.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:y.endpoint}),this.menu=d.parseItem(e.menu)}};o(Tc,"MusicDetailHeader");Tc.type="MusicDetailHeader";var _n=Tc;var kc=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};o(kc,"MusicDownloadStateBadge");kc.type="MusicDownloadStateBadge";var db=kc;var Ic=class extends a{constructor(e){super(),this.header=d.parseItem(e.header)}};o(Ic,"MusicEditablePlaylistDetailHeader");Ic.type="MusicEditablePlaylistDetailHeader";var Sm=Ic;var Sc=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?d.parseItem(e,Io):null}};o(Sc,"MusicElementHeader");Sc.type="MusicElementHeader";var Cc=Sc;var Ec=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};o(Ec,"MusicHeader");Ec.type="MusicHeader";var Di=Ec;var Pc=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=d.parseItem(e.thumbnail,Xt),this.play_button=d.parseItem(e.playButton,S),this.start_radio_button=d.parseItem(e.startRadioButton,S)}};o(Pc,"MusicImmersiveHeader");Pc.type="MusicImmersiveHeader";var Cm=Pc;var Nc=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};o(Nc,"ActionButton");Nc.type="ActionButton";var Ac=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Nc(i))}};o(Ac,"Panel");Ac.type="Panel";var Rc=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Ac(i))}};o(Rc,"MusicLargeCardItemCarousel");Rc.type="MusicLargeCardItemCarousel";var pb=Rc;var Mc=class extends a{constructor(e){var i,n,s;super(),this.playlist_id=e.playlistId,this.contents=d.parseArray(e.contents,Bi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};o(Mc,"MusicPlaylistShelf");Mc.type="MusicPlaylistShelf";var vn=Mc;var Vc=class extends a{constructor(e){var i,n,s,r,l;super(),this.title=new c(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:je(new c(e.lengthText).toString())};let p=(i=new c(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,y,b,k,I,E;return((b=(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId)===null||b===void 0?void 0:b.startsWith("MPR"))||((E=(I=(k=m.endpoint)===null||k===void 0?void 0:k.payload)===null||I===void 0?void 0:I.browseId)===null||E===void 0?void 0:E.startsWith("FEmusic_library_privately_owned_release"))}),f=(n=new c(e.longBylineText).runs)===null||n===void 0?void 0:n.filter(m=>{var _,y,b,k,I,E;return((b=(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId)===null||b===void 0?void 0:b.startsWith("UC"))||((E=(I=(k=m.endpoint)===null||k===void 0?void 0:k.payload)===null||I===void 0?void 0:I.browseId)===null||E===void 0?void 0:E.startsWith("FEmusic_library_privately_owned_artist"))});this.author=new c(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(l=new c(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,y;return{name:m.text,channel_id:(y=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||y===void 0?void 0:y.browseId,endpoint:m.endpoint}})),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId,this.long_by_line_text=new c(e.longBylineText)}};o(Vc,"PlaylistPanelVideo");Vc.type="PlaylistPanelVideo";var fi=Vc;var Oc=class extends a{constructor(e){super(),this.primary=d.parseItem(e.primaryRenderer,fi),Reflect.has(e,"counterpart")&&(this.counterpart=ue(e.counterpart.map(i=>d.parseItem(i.counterpartRenderer,fi))||[]))}};o(Oc,"PlaylistPanelVideoWrapper");Oc.type="PlaylistPanelVideoWrapper";var Em=Oc;var Bc=class extends a{constructor(e){var i,n,s,r,l,p;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=d.parseArray(e.contents,[Em,fi,Mi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};o(Bc,"PlaylistPanel");Bc.type="PlaylistPanel";var Zt=Bc;var Dc=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,Zt)}};o(Dc,"MusicQueue");Dc.type="MusicQueue";var Mo=Dc;var Fc=class extends a{constructor(e){var i,n,s,r;super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents,Bi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=d.parseItem(e.bottomButton,S)),Reflect.has(e,"subheaders")&&(this.subheaders=d.parseArray(e.subheaders))}};o(Fc,"MusicShelf");Fc.type="MusicShelf";var be=Fc;var Lc=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=d.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};o(Lc,"MusicSideAlignedItem");Lc.type="MusicSideAlignedItem";var Pm=Lc;var jc=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=d.parseItem(e.menu,mm)}};o(jc,"MusicSortFilterButton");jc.type="MusicSortFilterButton";var Yc=jc;var Uc=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};o(Uc,"MusicTastebuilderShelfThumbnail");Uc.type="MusicTastebuilderShelfThumbnail";var Nm=Uc;var Wc=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,Nm),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=d.parseItem(e.actionButton,S),this.is_visible=e.isVisible}};o(Wc,"MusicTasteBuilderShelf");Wc.type="MusicTasteBuilderShelf";var Am=Wc;var Hc=class extends a{constructor(e){var i,n;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=d.parseItem(e.menu,H),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)===null||n===void 0?void 0:n.thumbnail):[]}};o(Hc,"MusicVisualHeader");Hc.type="MusicVisualHeader";var Rm=Hc;var Jc=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=d.parseItem(e.contextualMenu),this.read=e.read}};o(Jc,"Notification");Jc.type="Notification";var Mm=Jc;var Gc=class extends a{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};o(Gc,"PageIntroduction");Gc.type="PageIntroduction";var Vm=Gc;var zc=class extends a{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=d.parseItem(e.proceedButton,S),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(zc,"PlayerErrorMessage");zc.type="PlayerErrorMessage";var fb=zc;var Kc=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};o(Kc,"PlayerLegacyDesktopYpcOffer");Kc.type="PlayerLegacyDesktopYpcOffer";var hb=Kc;var $c=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};o($c,"YpcTrailer");$c.type="YpcTrailer";var Om=$c;var qc=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=q.parseItem(e.ypcTrailer,Om)}};o(qc,"PlayerLegacyDesktopYpcTrailer");qc.type="PlayerLegacyDesktopYpcTrailer";var Xc=qc;var Qc=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};o(Qc,"PlayerMicroformat");Qc.type="PlayerMicroformat";var Tt=Qc;var Zc=class extends a{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new O(e.byline),this.cancel_button=d.parseItem(e.cancelButton,S),this.next_button=d.parseItem(e.nextButton,S),this.close_button=d.parseItem(e.closeButton,S)}};o(Zc,"PlayerOverlayAutoplay");Zc.type="PlayerOverlayAutoplay";var Bm=Zc;var ed=class extends a{constructor(e){super(),this.results=d.parseArray(e.results,[Dh,Bh]),this.title=new c(e.title).toString()}};o(ed,"WatchNextEndScreen");ed.type="WatchNextEndScreen";var Dm=ed;var td=class extends a{constructor(e){super(),this.end_screen=d.parseItem(e.endScreen,Dm),this.autoplay=d.parseItem(e.autoplay,Bm),this.share_button=d.parseItem(e.shareButton,S),this.add_to_menu=d.parseItem(e.addToMenu,H),this.fullscreen_engagement=d.parseItem(e.fullscreenEngagement),this.actions=d.parseArray(e.actions),this.browser_media_session=d.parseItem(e.browserMediaSession),this.decorated_player_bar=d.parseItem(e.decoratedPlayerBarRenderer,Mh)}};o(td,"PlayerOverlay");td.type="PlayerOverlay";var Fi=td;var id=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};o(id,"PlaylistCustomThumbnail");id.type="PlaylistCustomThumbnail";var Fm=id;var nd=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=new O(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null),this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=d.parseItem(e.saveButton),this.shuffle_play_button=d.parseItem(e.shufflePlayButton),this.menu=d.parseItem(e.moreActionsMenu),this.banner=d.parseItem(e.playlistHeaderBanner)}};o(nd,"PlaylistHeader");nd.type="PlaylistHeader";var Lm=nd;var od=class extends a{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new g(e.action)}};o(od,"PlaylistInfoCardContent");od.type="PlaylistInfoCardContent";var mb=od;var sd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};o(sd,"PlaylistMetadata");sd.type="PlaylistMetadata";var jm=sd;var rd=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};o(rd,"PlaylistSidebar");rd.type="PlaylistSidebar";var _b=rd;var ad=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=d.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new c(e.description)}};o(ad,"PlaylistSidebarPrimaryInfo");ad.type="PlaylistSidebarPrimaryInfo";var Ym=ad;var ud=class extends a{constructor(e){super(),this.owner=d.parseItem(e.videoOwner),this.button=d.parseItem(e.button)}};o(ud,"PlaylistSidebarSecondaryInfo");ud.type="PlaylistSidebarSecondaryInfo";var Um=ud;var ld=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new O(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=d.parseItem(e.menu,H),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(dn))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(dn))===null||e===void 0?void 0:e.style)==="UPCOMING"}};o(ld,"PlaylistVideo");ld.type="PlaylistVideo";var Wm=ld;var cd=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=d.parseArray(e.contents)}};o(cd,"PlaylistVideoList");cd.type="PlaylistVideoList";var vb=cd;var dd=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};o(dd,"PlaylistVideoThumbnail");dd.type="PlaylistVideoThumbnail";var Hm=dd;var pd=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};o(pd,"Poll");pd.type="Poll";var gb=pd;var fd=class extends Vi{constructor(e){super(e)}};o(fd,"Post");fd.type="Post";var Jm=fd;var hd=class extends a{constructor(e){super(),this.images=d.parseArray(e.images,ih)}};o(hd,"PostMultiImage");hd.type="PostMultiImage";var xb=hd;var md=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};o(md,"ProfileColumn");md.type="ProfileColumn";var yb=md;var _d=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};o(_d,"ProfileColumnStats");_d.type="ProfileColumnStats";var Gm=_d;var vd=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};o(vd,"ProfileColumnStatsEntry");vd.type="ProfileColumnStatsEntry";var bb=vd;var gd=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};o(gd,"ProfileColumnUserInfo");gd.type="ProfileColumnUserInfo";var zm=gd;var xd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=d.parseItem(e.button,S),this.surface=e.surface}};o(xd,"RecognitionShelf");xd.type="RecognitionShelf";var wb=xd;var yd=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};o(yd,"ReelItem");yd.type="ReelItem";var Km=yd;var bd=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};o(bd,"ReelShelf");bd.type="ReelShelf";var $m=bd;var wd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};o(wd,"RelatedChipCloud");wd.type="RelatedChipCloud";var qm=wd;var Td=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.contents=d.parseArray(e.contents)}};o(Td,"RichGrid");Td.type="RichGrid";var Li=Td;var kd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};o(kd,"RichItem");kd.type="RichItem";var Tb=kd;var Id=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Id,"RichListHeader");Id.type="RichListHeader";var kb=Id;var Sd=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};o(Sd,"RichMetadata");Sd.type="RichMetadata";var Cd=Sd;var Ed=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};o(Ed,"RichMetadataRow");Ed.type="RichMetadataRow";var Pd=Ed;var Nd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};o(Nd,"RichSection");Nd.type="RichSection";var Ib=Nd;var Ad=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};o(Ad,"RichShelf");Ad.type="RichShelf";var Xm=Ad;var Rd=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=d.parseItem(e.searchButton,S),this.clear_button=d.parseItem(e.clearButton,S),this.placeholder_text=new c(e.placeholderText)}};o(Rd,"SearchBox");Rd.type="SearchBox";var Sb=Rd;var Md=class extends a{constructor(e){super(),this.label=new c(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(Md,"SearchFilter");Md.type="SearchFilter";var Qm=Md;var Vd=class extends a{constructor(e){super(),this.title=new c(e.title),this.filters=q.parseArray(e.filters,Qm)}};o(Vd,"SearchFilterGroup");Vd.type="SearchFilterGroup";var Zm=Vd;var Od=class extends a{constructor(e){super(),this.title=new c(e.title),this.groups=d.parseArray(e.groups,Zm),this.button=d.parseItem(e.button,Oe)}};o(Od,"SearchSubMenu");Od.type="SearchSubMenu";var e_=Od;var Bd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};o(Bd,"SearchSuggestionsSection");Bd.type="SearchSuggestionsSection";var t_=Bd;var Dd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};o(Dd,"SecondarySearchContainer");Dd.type="SecondarySearchContainer";var Cb=Dd;var Fd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?(this.continuation=e.continuations[0].nextContinuationData.continuation,this.continuationType="next"):Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation,this.continuationType="reload")),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=d.parseItem(e.subMenu))}};o(Fd,"SectionList");Fd.type="SectionList";var Z=Fd;var Ld=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,[Oe,S]),this.dislike_button=d.parseItem(e.dislikeButton,[Oe,S])}};o(Ld,"SegmentedLikeDislikeButton");Ld.type="SegmentedLikeDislikeButton";var gn=Ld;var jd=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};o(jd,"SettingBoolean");jd.type="SettingBoolean";var Eb=jd;var Yd=class extends a{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};o(Yd,"SettingsCheckbox");Yd.type="SettingsCheckbox";var i_=Yd;var Ud=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};o(Ud,"SettingsSwitch");Ud.type="SettingsSwitch";var Vo=Ud;var Wd=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=d.parseArray(e.options,[Vo,_o,Ph,i_,dh]))}};o(Wd,"SettingsOptions");Wd.type="SettingsOptions";var Oo=Wd;var Hd=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items,ko)}get contents(){return this.items}};o(Hd,"SettingsSidebar");Hd.type="SettingsSidebar";var n_=Hd;var Jd=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=q.parseItem(e.actionMenu,H),this.original_post=q.parseItem(e.originalPost,Vi),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=q.parseItem(e.expandButton,S),this.author=new O(e.displayName,void 0)}};o(Jd,"SharedPost");Jd.type="SharedPost";var o_=Jd;var Gd=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=d.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=d.parseItem(e.playAllButton,S))}};o(Gd,"Shelf");Gd.type="Shelf";var Bo=Gd;var zd=class extends a{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};o(zd,"ShowingResultsFor");zd.type="ShowingResultsFor";var s_=zd;var Kd=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new g(e.command)}};o(Kd,"SimpleCardContent");Kd.type="SimpleCardContent";var Pb=Kd;var $d=class extends a{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};o($d,"SimpleCardTeaser");$d.type="SimpleCardTeaser";var Nb=$d;var qd=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};o(qd,"SimpleTextSection");qd.type="SimpleTextSection";var Ab=qd;var Xd=class extends a{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};o(Xd,"SingleActionEmergencySupport");Xd.type="SingleActionEmergencySupport";var Rb=Xd;var Qd=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=d.parseItem(e.content,[Z,Mo,Li])}};o(Qd,"Tab");Qd.type="Tab";var ve=Qd;var Zd=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,ve)}};o(Zd,"SingleColumnBrowseResults");Zd.type="SingleColumnBrowseResults";var ei=Zd;var ep=class extends a{constructor(e){super(),this.contents=d.parse(e)}};o(ep,"SingleColumnMusicWatchNextResults");ep.type="SingleColumnMusicWatchNextResults";var Mb=ep;var tp=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};o(tp,"SingleHeroImage");tp.type="SingleHeroImage";var Vb=tp;var ip=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,Le)}};o(ip,"SlimOwner");ip.type="SlimOwner";var Ob=ip;var np=class extends a{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=d.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};o(np,"SlimVideoMetadata");np.type="SlimVideoMetadata";var r_=np;var op=class extends a{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};o(op,"SubFeedOption");op.type="SubFeedOption";var a_=op;var sp=class extends a{constructor(e){super(),this.title=new c(e.title),this.options=d.parseArray(e.options,a_)}};o(sp,"SubFeedSelector");sp.type="SubFeedSelector";var Bb=sp;var rp=class extends a{constructor(e){super(),this.contents=d.parse(e)}};o(rp,"Tabbed");rp.type="Tabbed";var Db=rp;var ap=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,ve)}};o(ap,"TabbedSearchResults");ap.type="TabbedSearchResults";var u_=ap;var up=class extends a{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};o(up,"TextHeader");up.type="TextHeader";var Fb=up;var lp=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};o(lp,"ThumbnailLandscapePortrait");lp.type="ThumbnailLandscapePortrait";var Lb=lp;var cp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};o(cp,"ThumbnailOverlayEndorsement");cp.type="ThumbnailOverlayEndorsement";var jb=cp;var dp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};o(dp,"ThumbnailOverlayHoverText");dp.type="ThumbnailOverlayHoverText";var Yb=dp;var pp=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};o(pp,"ThumbnailOverlayInlineUnplayable");pp.type="ThumbnailOverlayInlineUnplayable";var Ub=pp;var fp=class extends a{constructor(e){super(),this.text=new c(e.text)}};o(fp,"ThumbnailOverlayLoadingPreview");fp.type="ThumbnailOverlayLoadingPreview";var Wb=fp;var hp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};o(hp,"ThumbnailOverlayNowPlaying");hp.type="ThumbnailOverlayNowPlaying";var Hb=hp;var mp=class extends a{constructor(e){super(),this.hack=e.hack}};o(mp,"ThumbnailOverlayPinking");mp.type="ThumbnailOverlayPinking";var Jb=mp;var _p=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};o(_p,"ThumbnailOverlayPlaybackStatus");_p.type="ThumbnailOverlayPlaybackStatus";var Gb=_p;var vp=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};o(vp,"ThumbnailOverlayResumePlayback");vp.type="ThumbnailOverlayResumePlayback";var zb=vp;var gp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};o(gp,"ThumbnailOverlaySidePanel");gp.type="ThumbnailOverlaySidePanel";var Kb=gp;var xp=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};o(xp,"ThumbnailOverlayToggleButton");xp.type="ThumbnailOverlayToggleButton";var $b=xp;var yp=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};o(yp,"TimedMarkerDecoration");yp.type="TimedMarkerDecoration";var qb=yp;var bp=class extends a{constructor(e){super(),this.title=new c(e.title)}};o(bp,"TitleAndButtonListHeader");bp.type="TitleAndButtonListHeader";var Xb=bp;var wp=class extends a{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};o(wp,"ToggleMenuServiceItem");wp.type="ToggleMenuServiceItem";var Qb=wp;var Tp=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};o(Tp,"Tooltip");Tp.type="Tooltip";var Zb=Tp;var kp=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=d.parseItem(e.subscribeButton,Le),this.endpoint=new g(e.navigationEndpoint)}};o(kp,"TopicChannelDetails");kp.type="TopicChannelDetails";var ew=kp;var Ip=class extends a{constructor(e){super(),this.tabs=d.parse(e.tabs),this.secondary_contents=d.parse(e.secondaryContents)}};o(Ip,"TwoColumnBrowseResults");Ip.type="TwoColumnBrowseResults";var ji=Ip;var Sp=class extends a{constructor(e){super(),this.primary_contents=d.parse(e.primaryContents),this.secondary_contents=d.parse(e.secondaryContents)}};o(Sp,"TwoColumnSearchResults");Sp.type="TwoColumnSearchResults";var l_=Sp;var c_,T0,Cp=class extends a{constructor(e){var i,n,s,r,l;super(),c_.add(this),this.results=d.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=d.parseArray((n=e.secondaryResults)===null||n===void 0?void 0:n.secondaryResults.results),this.conversation_bar=d.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new c(p.shortBylineText):new O(p.longBylineText),contents:d.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:d.parseItem(p.menu,H)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>u(this,c_,"m",T0).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>u(this,c_,"m",T0).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};o(Cp,"TwoColumnWatchNextResults");c_=new WeakSet,T0=o(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Cp.type="TwoColumnWatchNextResults";var Do=Cp;var Ep=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.call_to_action=d.parseItem(e.callToAction),this.sections=d.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};o(Ep,"UniversalWatchCard");Ep.type="UniversalWatchCard";var d_=Ep;var Pp=class extends a{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=d.parseItem(e.actionButton,S),this.dismiss_button=d.parseItem(e.dismissButton,S),this.is_visible=e.isVisible}};o(Pp,"UpsellDialog");Pp.type="UpsellDialog";var tw=Pp;var Np=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};o(Np,"VerticalList");Np.type="VerticalList";var iw=Np;var Ap=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};o(Ap,"VerticalWatchCardList");Ap.type="VerticalWatchCardList";var nw=Ap;var Rp=class extends a{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new g(e.action)}};o(Rp,"VideoInfoCardContent");Rp.type="VideoInfoCardContent";var ow=Rp;var Mp=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new c(e.subscriberCountText),this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};o(Mp,"VideoOwner");Mp.type="VideoOwner";var Fo=Mp;var Vp=class extends a{constructor(e){var i,n,s,r;super(),this.title=new c(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new c(e.superTitleLink)),this.view_count=new c((n=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||n===void 0?void 0:n.viewCount),this.short_view_count=new c((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=d.parseArray(e.badges,Xe),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=d.parseItem(e.videoActions,H)}};o(Vp,"VideoPrimaryInfo");Vp.type="VideoPrimaryInfo";var p_=Vp;var k0,sw,Op=class extends a{constructor(e){super(),k0.add(this),this.owner=d.parseItem(e.owner,Fo),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=new c(u(this,k0,"m",sw).call(this,e.attributedDescription))),this.subscribe_button=d.parseItem(e.subscribeButton,[Le,S]),this.metadata=d.parseItem(e.metadataRowContainer,gm),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};o(Op,"VideoSecondaryInfo");k0=new WeakSet,sw=o(function(e){let i=[],n=e.content,s=e.commandRuns,r=0;if(s){for(let l of s){let p=l.length,f=l.startIndex;if(f>r&&i.push({text:n.slice(r,f)}),Reflect.has(l,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let y of _)if(y.startIndex-2==f){m=y;break}}m?i.push({text:n.slice(f,f+p),navigationEndpoint:l.onTap,attachment:m}):i.push({text:n.slice(f,f+p),navigationEndpoint:l.onTap})}r=f+p}r<n.length&&i.push({text:n.slice(r)})}else i.push({text:n});return{runs:i}},"_VideoSecondaryInfo_convertAttributedDescriptionToRuns");Op.type="VideoSecondaryInfo";var Bp=Op;var Dp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:je(e.lengthText.simpleText)},this.style=e.style}};o(Dp,"WatchCardCompactVideo");Dp.type="WatchCardCompactVideo";var f_=Dp;var Fp=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=d.parseItem(e.callToActionButton),this.hero_image=d.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};o(Fp,"WatchCardHeroVideo");Fp.type="WatchCardHeroVideo";var rw=Fp;var Lp=class extends a{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new O(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};o(Lp,"WatchCardRichHeader");Lp.type="WatchCardRichHeader";var aw=Lp;var jp=class extends a{constructor(e){super(),this.lists=d.parseArray(e.lists)}};o(jp,"WatchCardSectionSequence");jp.type="WatchCardSectionSequence";var uw=jp;var Yp=class extends ji{constructor(e){super(e)}};o(Yp,"WatchNextTabbedResults");Yp.type="WatchNextTabbedResults";var h_=Yp;var Up=class extends a{constructor(e){var i,n;super(),this.title=e.title,this.content=d.parseItem(e.content,Z),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType}};o(Up,"AnchoredSection");Up.type="AnchoredSection";var m_=Up;var Wp=class extends a{constructor(e){var i,n;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};o(Wp,"KidsCategoryTab");Wp.type="KidsCategoryTab";var Lo=Wp;var Hp=class extends a{constructor(e){super(),this.category_tabs=d.parseArray(e.categoryTabs,Lo),this.privacy_button=d.parseItem(e.privacyButtonRenderer,S)}};o(Hp,"KidsCategoriesHeader");Hp.type="kidsCategoriesHeader";var __=Hp;var Jp=class extends a{constructor(e){super(),this.anchors=d.parseArray(e.anchors,m_)}};o(Jp,"KidsHomeScreen");Jp.type="kidsHomeScreen";var v_=Jp;var S0={};j(S0,{YTNodeGenerator:()=>Ye});var ge,dw,g_,jo,pw,fw,hi,I0,lw,cw,hw,Ye=class{static isIgnoredKey(e){return typeof e=="string"&&u(this,ge,"f",dw).has(e)}static mergeKeyInfo(e,i){let n=new Map,s=new Set(e.map(([k])=>k)),r=new Set(i.map(([k])=>k)),l=i.filter(([k])=>!s.has(k)),p=e.filter(([k])=>!r.has(k)),f=e.filter(([k])=>r.has(k)),m=new Map(i);for(let[k,I]of f){let E=m.get(k);if(!!E){if(I.type!==E.type){n.set(k,{type:"unknown",optional:!0});continue}switch(I.type){case"object":{if(E.type!=="object")continue;let{resolved_key_info:P}=this.mergeKeyInfo(I.keys,E.keys),M={type:"object",keys:P,optional:I.optional||E.optional};JSON.stringify(M)!==JSON.stringify(I)&&n.set(k,M)}break;case"renderer":{if(E.type!=="renderer")continue;let P=Object.assign(Object.assign({},I.renderers),E.renderers),M=I.optional||E.optional,U={type:"renderer",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},U),{renderers:Object.keys(U.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},I),{renderers:Object.keys(I.renderers)}))&&n.set(k,U)}break;case"renderer_list":{if(E.type!=="renderer_list")continue;let P=Object.assign(Object.assign({},I.renderers),E.renderers),M=I.optional||E.optional,U={type:"renderer_list",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},U),{renderers:Object.keys(U.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},I),{renderers:Object.keys(I.renderers)}))&&n.set(k,U)}break;case"misc":{if(E.type!=="misc")continue;switch(I.misc_type!==E.misc_type&&n.set(k,{type:"unknown",optional:!0}),I.misc_type){case"Author":{if(E.misc_type!=="Author")break;let P=I.params[1]||E.params[1],M=I.optional||E.optional,U={type:"misc",misc_type:"Author",optional:M,params:[E.params[0],P]};JSON.stringify(U)!==JSON.stringify(I)&&n.set(k,U)}break}}break;case"primative":{if(E.type!=="primative")continue;let P={type:"primative",typeof:Array.from(new Set([...E.typeof,...I.typeof])),optional:I.optional||E.optional};JSON.stringify(P)!==JSON.stringify(I)&&n.set(k,P)}break}}}for(let[k,I]of l)n.set(k,Object.assign(Object.assign({},I),{optional:!0}));for(let[k,I]of p)n.set(k,Object.assign(Object.assign({},I),{optional:!0}));let _=e.filter(([k])=>!n.has(k));return{resolved_key_info:[...new Map([..._,...n]).entries()],changed_keys:[...n.entries()]}}static createRuntimeClass(e,i){var n,s;u(this,ge,"m",pw).call(this,e,i);let r=(n=o(class extends a{static set key_info(l){T(this,n,new Map(l),"f",s)}static get key_info(){return[...u(this,n,"f",s).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=Ye.introspect(l),{resolved_key_info:m,changed_keys:_}=Ye.mergeKeyInfo(r.key_info,p);_.length>0&&(r.key_info=m,u(Ye,ge,"m",fw).call(Ye,e,r.key_info,_));for(let[b,k]of f)Ye.generateRuntimeClass(b,k);for(let[b,k]of p){let I=u(Ye,ge,"m",jo).call(Ye,b);k.type==="misc"&&k.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,Ye.parse(b,k,l))}}},"_b"),Cg(n,"node"),n.type=e,s={value:new Map},n);return r.key_info=i,Object.defineProperty(r,"name",{value:e,writable:!1}),r}static introspect(e){let i=u(this,ge,"m",hw).call(this,e),n=new Map;for(let[,r]of i)if(r.type==="renderer"||r.type==="renderer_list")for(let l of r.renderers){let p=u(this,ge,"f",g_)[l];p&&n.set(l,p)}let s=Array.from(n).filter(([r])=>!q.hasParser(r));return{key_info:i,unimplemented_dependencies:s}}static generateRuntimeClass(e,i){let{key_info:n,unimplemented_dependencies:s}=this.introspect(i),r=this.createRuntimeClass(e,n);q.addRuntimeParser(e,r);for(let[l,p]of s)this.generateRuntimeClass(l,p);return r}static generateTypescriptClass(e,i){let n=[],s=["super();"];for(let[r,l]of i){let p=u(this,ge,"m",jo).call(this,r);l.type==="misc"&&l.misc_type==="NavigationEndpoint"&&(p="endpoint"),n.push(`${p}${l.optional?"?":""}: ${this.toTypeDeclaration(l)};`),s.push(`this.${p} = ${this.toParser(r,l)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${n.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}static toTypeDeclaration(e,i=0){switch(e.type){case"renderer":return`${e.renderers.map(n=>`YTNodes.${n}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(n=>`YTNodes.${n}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([n,s])=>`${" ".repeat((i+2)*2)}${u(this,ge,"m",jo).call(this,n)}${s.optional?"?":""}: ${this.toTypeDeclaration(s,i+1)}`).join(`,
`)}
${" ".repeat((i+1)*2)}}`;case"misc":switch(e.misc_type){case"Thumbnail":return"Thumbnail[]";default:return e.misc_type}case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}static toParser(e,i,n=["data"],s=1){let r="undefined";switch(i.type){case"renderer":r=`Parser.parseItem(${n.join(".")}.${e}, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${n.join(".")}.${e}, true, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"object":{let l=[...n,e];r=`{
${i.keys.map(([p,f])=>`${" ".repeat((s+2)*2)}${u(this,ge,"m",jo).call(this,p)}: ${this.toParser(p,f,l,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}break;case"misc":switch(i.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${n.join(".")}.${e})`;break;case"Author":{let l=`new Author(${n.join(".")}.${i.params[0]}, ${i.params[1]?`${n.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${n.join(".")}, '${i.params[0]}') ? ${l} : undefined`:l}default:r=`new ${i.misc_type}(${n.join(".")}.${e})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${n.join(".")}.${e}`;break}return i.optional?`Reflect.has(${n.join(".")}, '${e}') ? ${r} : undefined`:r}static parse(e,i,n,s=["data"]){let r=!i.optional||u(this,ge,"m",I0).call(this,{data:n},[...s,e]);switch(i.type){case"renderer":return r?q.parseItem(u(this,ge,"m",hi).call(this,{data:n},[...s,e]),i.renderers.map(l=>q.getParserByName(l))):void 0;case"renderer_list":return r?q.parse(u(this,ge,"m",hi).call(this,{data:n},[...s,e]),!0,i.renderers.map(l=>q.getParserByName(l))):void 0;case"object":{let l={},p=[...s,e];for(let[f,m]of i.keys)l[f]=r?this.parse(f,m,n,p):void 0;return l}case"misc":switch(i.misc_type){case"NavigationEndpoint":return r?new g(u(this,ge,"m",hi).call(this,{data:n},[...s,e])):void 0;case"Text":return r?new c(u(this,ge,"m",hi).call(this,{data:n},[...s,e])):void 0;case"Thumbnail":return r?w.fromResponse(u(this,ge,"m",hi).call(this,{data:n},[...s,e])):void 0;case"Author":return!i.optional||u(this,ge,"m",I0).call(this,{data:n},[...s,i.params[0]])?new O(u(this,ge,"m",hi).call(this,{data:n},[...s,i.params[0]]),i.params[1]?u(this,ge,"m",hi).call(this,{data:n},[...s,i.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return u(this,ge,"m",hi).call(this,{data:n},[...s,e])}}static inferType(e,i){let n=!1;if(n=this.isRenderer(i))return u(this,ge,"f",g_)[n]=i[Reflect.ownKeys(i)[0]],{type:"renderer",renderers:[n],optional:!1};if(n=this.isRendererList(i)){for(let[r,l]of Object.entries(n))u(this,ge,"f",g_)[r]=l;return{type:"renderer_list",renderers:Object.keys(n),optional:!1}}if(n=this.isMiscType(e,i))return n;let s=typeof i;return s==="object"?{type:"object",keys:Object.entries(i).map(([r,l])=>[r,this.inferType(r,l)]),optional:!1}:{type:"primative",typeof:[s],optional:!1}}static isRendererList(e){return Array.isArray(e)&&e.every(s=>this.isRenderer(s))?Object.fromEntries(e.map(s=>{let r=Reflect.ownKeys(s)[0].toString();return[q.sanitizeClassName(r),s[r]]})):!1}static isMiscType(e,i){if((e.endsWith("Endpoint")||e.endsWith("Command")||e==="endpoint")&&typeof i=="object")return{type:"misc",endpoint:new g(i),optional:!1,misc_type:"NavigationEndpoint"};if(typeof i=="object"&&(Reflect.has(i,"simpleText")||Reflect.has(i,"runs"))){let n=new c(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:n.endpoint,text:n.toString()}}return typeof i=="object"&&Reflect.has(i,"thumbnails")&&Array.isArray(i.thumbnails)?{type:"misc",misc_type:"Thumbnail",optional:!1}:!1}static isRenderer(e){if(!(typeof e=="object"))return!1;let n=Reflect.ownKeys(e);return n.length===1&&n[0].toString().includes("Renderer")?q.sanitizeClassName(n[0].toString()):!1}};o(Ye,"YTNodeGenerator");ge=Ye,jo=o(function(e){return e.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)},"_YTNodeGenerator_camelToSnake"),pw=o(function(e,i){console.warn(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${V.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${V.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logNewClass"),fw=o(function(e,i,n){console.warn(`${e} changed!
The following keys where altered: ${n.map(([s])=>u(this,ge,"m",jo).call(this,s)).join(", ")}
The class has changed to:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logChangedKeys"),hi=o(function(e,i){let n=e;for(let s of i)n=n[s];return n},"_YTNodeGenerator_accessDataFromKeyPath"),I0=o(function(e,i){let n=e;for(let s of i)if(Reflect.has(n,s))n=n[s];else return!1;return!0},"_YTNodeGenerator_hasDataFromKeyPath"),lw=o(function(e){return Reflect.ownKeys(e).filter(s=>!this.isIgnoredKey(s)).filter(s=>typeof s=="string").map(s=>{let r=e[s],l=this.inferType(s,r);return[s,l]})},"_YTNodeGenerator_passOne"),cw=o(function(e){var i;let s=e.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)===null||m===void 0?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),r=new Set,l=s[0],p;if(l){r.add(l[0]);let m=e.map(([I])=>I).filter(I=>I.endsWith("Badges")||I==="badges"),y=(i=m.filter(I=>I.startsWith("owner")||I.startsWith("author"))[0])!==null&&i!==void 0?i:m[0],b=e.find(([I])=>I===y),k=b?b[1].type==="renderer_list"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;k&&y&&r.add(y),p={type:"misc",misc_type:"Author",optional:!1,params:[l[0],k?y:void 0]}}return p&&e.push(["author",p]),e.filter(([f])=>!r.has(f))},"_YTNodeGenerator_passTwo"),hw=o(function(e){let i=u(this,ge,"m",lw).call(this,e);return u(this,ge,"m",cw).call(this,i)},"_YTNodeGenerator_introspect");dw={value:new Set(["trackingParams","accessibility","accessibilityData"])};g_={value:{}};var W,C0,Yi,kt,It,mw,St,_w,x_,E0,ne=class{static setParserErrorHandler(e){T(this,W,e,"f",C0)}static parseResponse(e){var i,n,s,r;let l={};u(this,W,"m",It).call(this);let p=this.parse(e.contents),f=u(this,W,"m",St).call(this);p&&(l.contents=p,l.contents_memo=f),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let m=e.onResponseReceivedActions?this.parseRR(e.onResponseReceivedActions):null,_=u(this,W,"m",St).call(this);m&&(l.on_response_received_actions=m,l.on_response_received_actions_memo=_),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let y=e.onResponseReceivedEndpoints?this.parseRR(e.onResponseReceivedEndpoints):null,b=u(this,W,"m",St).call(this);y&&(l.on_response_received_endpoints=y,l.on_response_received_endpoints_memo=b),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let k=e.onResponseReceivedCommands?this.parseRR(e.onResponseReceivedCommands):null,I=u(this,W,"m",St).call(this);k&&(l.on_response_received_commands=k,l.on_response_received_commands_memo=I),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let E=e.continuationContents?this.parseLC(e.continuationContents):null,P=u(this,W,"m",St).call(this);E&&(l.continuation_contents=E,l.continuation_contents_memo=P),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let M=e.actions?this.parseActions(e.actions):null,U=u(this,W,"m",St).call(this);M&&(l.actions=M,l.actions_memo=U),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let L=e.liveChatItemContextMenuSupportedRenderers?this.parseItem(e.liveChatItemContextMenuSupportedRenderers):null,le=u(this,W,"m",St).call(this);L&&(l.live_chat_item_context_menu_supported_renderers=L,l.live_chat_item_context_menu_supported_renderers_memo=le),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let xe=e.header?this.parse(e.header):null,Ae=u(this,W,"m",St).call(this);xe&&(l.header=xe,l.header_memo=Ae),u(this,W,"m",kt).call(this),u(this,W,"m",It).call(this);let Re=e.sidebar?this.parseItem(e.sidebar):null,Ke=u(this,W,"m",St).call(this);Re&&(l.sidebar=Re,l.sidebar_memo=Ke),u(this,W,"m",kt).call(this),this.applyMutations(f,(n=(i=e.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations),this.applyMutations(P,(r=(s=e.frameworkUpdates)===null||s===void 0?void 0:s.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let X=e.continuation?this.parseC(e.continuation):null;X&&(l.continuation=X);let z=this.parse(e.metadata);z&&(l.metadata=z);let ie=this.parseItem(e.microformat);ie&&(l.microformat=ie);let te=this.parseItem(e.overlay);te&&(l.overlay=te);let $e=this.parseArray(e.alerts,Kf);$e.length&&(l.alerts=$e);let Ot=e.refinements;Ot&&(l.refinements=Ot);let Bt=e.estimatedResults?parseInt(e.estimatedResults):null;Bt&&(l.estimated_results=Bt);let Dt=this.parse(e.playerOverlays);Dt&&(l.player_overlays=Dt);let Ft=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Ft&&(l.playback_tracking=Ft);let Lt=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed||!1,audio_only_playablility:this.parseItem(e.playabilityStatus.audioOnlyPlayability,Vf),error_screen:this.parseItem(e.playabilityStatus.errorScreen)}:null;Lt&&(l.playability_status=Lt);let jt=e.streamingData?{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:ne.parseFormats(e.streamingData.formats),adaptive_formats:ne.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null}:void 0;jt&&(l.streaming_data=jt);let Yt=e.currentVideoEndpoint?new g(e.currentVideoEndpoint):null;Yt&&(l.current_video_endpoint=Yt);let Ut=e.endpoint?new g(e.endpoint):null;Ut&&(l.endpoint=Ut);let Wt=this.parseItem(e.captions,Yf);Wt&&(l.captions=Wt);let Ht=e.videoDetails?new Ri(e.videoDetails):null;Ht&&(l.video_details=Ht);let Jt=this.parseArray(e.annotations,jf);Jt.length&&(l.annotations=Jt);let Gt=this.parseItem(e.storyboards,[Wf,Uf]);Gt&&(l.storyboards=Gt);let pt=this.parseItem(e.endscreen,Lf);pt&&(l.endscreen=pt);let ho=this.parseItem(e.cards,Ff);ho&&(l.cards=ho),u(this,W,"m",It).call(this);let ce=this.parse(e.items);return ce&&(l.items=ce,l.items_memo=u(this,W,"m",St).call(this)),u(this,W,"m",kt).call(this),l}static parseItem(e,i){if(!e)return null;let n=Object.keys(e);if(!n.length)return null;let s=this.sanitizeClassName(n[0]);if(!this.shouldIgnore(s))try{let l=this.hasParser(s)?this.getParserByName(s):Ye.generateRuntimeClass(s,e[n[0]]);if(i){if(Array.isArray(i)){if(!i.some(f=>f.type===l.type))throw new nt(`Type mismatch, got ${s} but expected one of ${i.map(f=>f.type).join(", ")}`)}else if(l.type!==i.type)throw new nt(`Type mismatch, got ${s} but expected ${i.type}`)}let p=new l(e[n[0]]);return u(this,W,"m",mw).call(this,s,p),p}catch(r){return u(this,W,"f",C0).call(this,{classname:s,classdata:e[n[0]],err:r}),null}return null}static parseArray(e,i){if(Array.isArray(e)){let n=[];for(let s of e){let r=this.parseItem(s,i);r&&n.push(r)}return ue(n)}else if(!e)return ue([]);throw new nt("Expected array but got a single item")}static parse(e,i,n){if(!e)return null;if(Array.isArray(e)){let s=[];for(let l of e){let p=this.parseItem(l,n);p&&s.push(p)}let r=ue(s);return i?r:new Kt(ue(s))}else if(i)throw new nt("Expected array but got a single item");return new Kt(this.parseItem(e,n))}static parseC(e){return e.timedContinuationData?new Yo({continuation:e.timedContinuationData,type:"timed"}):null}static parseLC(e){return e.itemSectionContinuation?new xn(e.itemSectionContinuation):e.sectionListContinuation?new st(e.sectionListContinuation):e.liveChatContinuation?new kn(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new wn(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new mi(e.musicShelfContinuation):e.gridContinuation?new Tn(e.gridContinuation):e.playlistPanelContinuation?new Kp(e.playlistPanelContinuation):null}static parseRR(e){return ue(e.map(i=>{if(i.navigateAction)return new yn(i.navigateAction);if(i.reloadContinuationItemsCommand)return new bn(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new zp(i.appendContinuationItemsAction)}).filter(i=>i))}static parseActions(e){return Array.isArray(e)?ne.parse(e.map(i=>(delete i.clickTrackingParams,i))):new Kt(this.parseItem(e))}static parseFormats(e){return(e==null?void 0:e.map(i=>new Ai(i)))||[]}static applyMutations(e,i){var n,s;let r=e.getType(yt);if(r.length>0&&!i)console.warn(new v(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${V.shim.info.bugs_url}`));else{let l=[];for(let p of r){let f=i.find(_=>{var y,b;return((b=(y=_.payload)===null||y===void 0?void 0:y.musicFormBooleanChoice)===null||b===void 0?void 0:b.id)===p.form_item_entity_key}),m=f==null?void 0:f.payload.musicFormBooleanChoice;if((m==null?void 0:m.selected)!==void 0?p.selected=m.selected:l.push(`'${p.title}'`),m!=null&&m.opaqueToken){let _=(s=(n=p.endpoint)===null||n===void 0?void 0:n.payload.commands)===null||s===void 0?void 0:s.find(y=>{var b;return(b=y.musicBrowseFormBinderCommand)===null||b===void 0?void 0:b.browseEndpoint});_&&(_.musicBrowseFormBinderCommand.browseEndpoint.formData={selectedValues:[m.opaqueToken]})}}l.length>0&&console.warn(new v(`Mutation data missing or invalid for ${l.length} out of ${r.length} MusicMultiSelectMenuItems. The titles of the failed items are: ${l.join(", ")}.
This is a bug, please report it at ${V.shim.info.bugs_url}`))}}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return this.ignore_list.has(e)}static getParserByName(e){let i=u(this,W,"f",x_).get(e);if(!i){let n=new Error(`Module not found: ${e}`);throw n.code="MODULE_NOT_FOUND",n}return i}static hasParser(e){return u(this,W,"f",x_).has(e)}static addRuntimeParser(e,i){u(this,W,"f",x_).set(e,i),u(this,W,"f",E0).set(e,i)}static getDynamicParsers(){return Object.fromEntries(u(this,W,"f",E0))}};o(ne,"Parser");W=ne,kt=o(function(){T(ne,W,null,"f",Yi)},"_Parser_clearMemo"),It=o(function(){T(ne,W,new Ci,"f",Yi)},"_Parser_createMemo"),mw=o(function(e,i){if(!u(ne,W,"f",Yi))return;let n=u(ne,W,"f",Yi).get(e);if(!n)return u(ne,W,"f",Yi).set(e,[i]);n.push(i)},"_Parser_addToMemo"),St=o(function(){if(!u(ne,W,"f",Yi))throw new Error("Parser#getMemo() called before Parser#createMemo()");return u(ne,W,"f",Yi)},"_Parser_getMemo"),_w=o(function({classname:e,classdata:i,err:n}){if(n.code=="MODULE_NOT_FOUND")return console.warn(new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${V.shim.info.repo_url.split("#")[0]}/blob/main/docs/updating-the-parser.md or report it at ${V.shim.info.bugs_url}!`,i));console.warn(new v(`Something went wrong at ${e}!
This is a bug, please report it at ${V.shim.info.bugs_url}`,{stack:n.stack}))},"_Parser_printError");C0={value:u(ne,W,"m",_w)};Yi={value:null};ne.ignore_list=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo"]);x_={value:new Map(Object.entries(Gp))};E0={value:new Map};var q=ne,xn=class extends a{constructor(e){var i,n,s;super(),this.contents=ne.parseArray(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};o(xn,"ItemSectionContinuation");xn.type="itemSectionContinuation";var yn=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};o(yn,"NavigateAction");yn.type="navigateAction";var zp=class extends a{constructor(e){super(),this.contents=ne.parseArray(e.continuationItems)}};o(zp,"AppendContinuationItemsAction");zp.type="appendContinuationItemsAction";var bn=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=ne.parse(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};o(bn,"ReloadContinuationItemsCommand");bn.type="reloadContinuationItemsCommand";var st=class extends a{constructor(e){var i,n,s,r,l,p;super(),this.contents=ne.parse(e.contents,!0),this.continuation=((s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null,e.header&&(this.header=ne.parse(e.header))}};o(st,"SectionListContinuation");st.type="sectionListContinuation";var wn=class extends a{constructor(e){var i;super(),this.contents=ne.parse(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};o(wn,"MusicPlaylistShelfContinuation");wn.type="musicPlaylistShelfContinuation";var mi=class extends a{constructor(e){var i,n,s,r;super(),this.contents=ne.parseArray(e.contents),this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};o(mi,"MusicShelfContinuation");mi.type="musicShelfContinuation";var Tn=class extends a{constructor(e){var i;super(),this.items=ne.parse(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(Tn,"GridContinuation");Tn.type="gridContinuation";var Kp=class extends a{constructor(e){var i,n,s,r,l,p;super(),this.contents=ne.parseArray(e.contents),this.continuation=((s=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(Kp,"PlaylistPanelContinuation");Kp.type="playlistPanelContinuation";var Yo=class extends a{constructor(e){var i,n,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)===null||n===void 0?void 0:n.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};o(Yo,"Continuation");Yo.type="continuation";var kn=class extends a{constructor(e){var i,n,s,r,l,p,f,m;super(),this.actions=ne.parse((i=e.actions)===null||i===void 0?void 0:i.map(b=>(delete b.clickTrackingParams,b)),!0)||ue([]),this.action_panel=ne.parseItem(e.actionPanel),this.item_list=ne.parseItem(e.itemList,zf),this.header=ne.parseItem(e.header,Gf),this.participants_list=ne.parseItem(e.participantsList,Jf),this.popout_message=ne.parseItem(e.popoutMessage,Fe),this.emojis=((n=e.emojis)===null||n===void 0?void 0:n.map(b=>({emoji_id:b.emojiId,shortcuts:b.shortcuts,search_terms:b.searchTerms,image:w.fromResponse(b.image),is_custom_emoji:b.isCustomEmoji})))||[];let _,y;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(y="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(y="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(y="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new Yo({continuation:_,type:y}),this.viewer_name=e.viewerName}};o(kn,"LiveChatContinuation");kn.type="liveChatContinuation";var D0={};j(D0,{AccountInfo:()=>b_,Analytics:()=>T_,Channel:()=>Pe,ChannelListContinuation:()=>En,Comments:()=>I_,FilteredChannelList:()=>Ji,Guide:()=>C_,HashtagFeed:()=>ii,History:()=>$o,HomeFeed:()=>Ct,ItemMenu:()=>A_,Library:()=>V_,LiveChat:()=>U_,NotificationsMenu:()=>W_,Playlist:()=>_i,Search:()=>H_,Settings:()=>J_,SmoothedQueue:()=>F_,TimeWatched:()=>z_,VideoInfo:()=>cf});var Uo,y_=class{constructor(e){if(Uo.set(this,void 0),T(this,Uo,d.parseResponse(e.data),"f"),!u(this,Uo,"f").contents)throw new v("Page contents not found");let i=u(this,Uo,"f").contents.array().as(Qf).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return u(this,Uo,"f")}};o(y_,"AccountInfo");Uo=new WeakMap;var b_=y_;var $p,w_=class{constructor(e){var i;$p.set(this,void 0),T(this,$p,d.parseResponse(e.data),"f"),this.sections=(i=u(this,$p,"f").contents_memo)===null||i===void 0?void 0:i.getType(Io).map(n=>n.model).flatMap(n=>n||[])}get page(){return u(this,$p,"f")}};o(w_,"Analytics");$p=new WeakMap;var T_=w_;var P0,Qe,Ui,qp,Ze,vw,Wi=class{constructor(e,i,n=!1){P0.add(this),Qe.set(this,void 0),Ui.set(this,void 0),qp.set(this,void 0),Ze.set(this,void 0),u(this,P0,"m",vw).call(this,i)||n?T(this,Qe,i,"f"):T(this,Qe,d.parseResponse(i.data),"f");let s=N0(u(this,Qe,"f").contents_memo,u(this,Qe,"f").continuation_contents_memo,u(this,Qe,"f").on_response_received_commands_memo,u(this,Qe,"f").on_response_received_endpoints_memo,u(this,Qe,"f").on_response_received_actions_memo,u(this,Qe,"f").sidebar_memo,u(this,Qe,"f").header_memo);if(!s)throw new v("No memo found in feed");T(this,Ze,s,"f"),T(this,qp,e,"f")}static getVideosFromMemo(e){return e.getType(So,zh,Km,Eh,Wm,fi,f_)}static getPlaylistsFromMemo(e){return e.getType($t,Hh)}get videos(){return Wi.getVideosFromMemo(u(this,Ze,"f"))}get posts(){return u(this,Ze,"f").getType(Vi,Jm,o_)}get channels(){return u(this,Ze,"f").getType(uh,Wh)}get playlists(){return Wi.getPlaylistsFromMemo(u(this,Ze,"f"))}get memo(){return u(this,Ze,"f")}get page_contents(){var e;let i=(e=u(this,Ze,"f").getType(ve))===null||e===void 0?void 0:e.first().content,n=u(this,Ze,"f").getType(bn).first(),s=u(this,Ze,"f").getType(Zf).first();return i||n||s}get shelves(){return u(this,Ze,"f").getType(Bo,Xm,$m)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=u(this,Qe,"f").contents)===null||e===void 0)&&e.is_node))return;let n=(i=u(this,Qe,"f").contents)===null||i===void 0?void 0:i.item();if(!!n.is(ji,l_))return n.secondary_contents}get actions(){return u(this,qp,"f")}get page(){return u(this,Qe,"f")}get has_continuation(){return(u(this,Ze,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return x(this,void 0,void 0,function*(){if(u(this,Ui,"f")){if(u(this,Ui,"f").length>1)throw new v("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,Ui,"f").length===0)throw new v("There are no continuations");return yield u(this,Ui,"f")[0].endpoint.call(u(this,qp,"f"),{parse:!0})}if(T(this,Ui,u(this,Ze,"f").getType(Be),"f"),u(this,Ui,"f"))return this.getContinuationData()})}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Wi(this.actions,e,!0)})}};o(Wi,"Feed");Qe=new WeakMap,Ui=new WeakMap,qp=new WeakMap,Ze=new WeakMap,P0=new WeakSet,vw=o(function(e){return!("data"in e)},"_Feed_isParsed");var he=Wi;var In,Sn,Cn=class extends he{constructor(e,i,n=!1){var s;super(e,i,n),In.set(this,void 0),Sn.set(this,void 0),T(this,Sn,e,"f"),T(this,In,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(ve),"f")}get tabs(){var e,i;return(i=(e=u(this,In,"f"))===null||e===void 0?void 0:e.map(n=>n.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return x(this,void 0,void 0,function*(){let n=(i=u(this,In,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!n)throw new v(`Tab "${e}" not found`);if(n.selected)return this;let s=yield n.endpoint.call(u(this,Sn,"f"));return new Cn(u(this,Sn,"f"),s,!1)})}getTabByURL(e){var i;return x(this,void 0,void 0,function*(){let n=(i=u(this,In,"f"))===null||i===void 0?void 0:i.find(r=>{var l;return((l=r.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!n)throw new v(`Tab "${e}" not found`);if(n.selected)return this;let s=yield n.endpoint.call(u(this,Sn,"f"));return new Cn(u(this,Sn,"f"),s,!1)})}hasTabWithURL(e){var i,n;return(n=(i=u(this,In,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&n!==void 0?n:!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(ve))===null||i===void 0?void 0:i.find(s=>s.selected))===null||n===void 0?void 0:n.title.toString()}};o(Cn,"TabbedFeed");In=new WeakMap,Sn=new WeakMap;var Wo=Cn;var Ho,k_=class extends he{constructor(e,i,n=!1){super(e,i,n),Ho.set(this,void 0)}get filter_chips(){var e,i;if(u(this,Ho,"f"))return u(this,Ho,"f")||[];if(((e=this.memo.getType(pi))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(pi))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return T(this,Ho,this.memo.getType(me),"f"),u(this,Ho,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return x(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new v("Invalid filter");if(!n)throw new v("Filter not found");if(n.is_selected)return this;let s=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("Failed to get filtered feed");return new he(this.actions,s,!0)})}};o(k_,"FilterableFeed");Ho=new WeakMap;var Hi=k_;var Pe=class extends Wo{constructor(e,i,n=!1){var s,r,l,p,f,m;super(e,i,n),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(go,ah,Zh);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(ch),y=(p=this.page.microformat)===null||p===void 0?void 0:p.as(qt);if(this.page.alerts){let b=this.page.alerts.first();if((b==null?void 0:b.alert_type)==="ERROR")throw new Jo(b.text.toString())}if(!_&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),y||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Le).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().key("tabs").parsed().array().filterType(ve,Eo).get({selected:!0})}applyFilter(e){var i;return x(this,void 0,void 0,function*(){let n,s=this.memo.getType(pi).first();if(typeof e=="string"){if(n=s==null?void 0:s.contents.get({text:e}),!n)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof me&&(n=e);if(!n)throw new v("Invalid filter",e);let r=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("No page returned",{filter:n});return new Ji(this.actions,r,!0)})}applySort(e){var i,n;return x(this,void 0,void 0,function*(){let s=this.memo.getType(ci).first();if(!s)throw new v("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let l=yield(n=r.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0});return new Pe(this.actions,l,!0)})}applyContentTypeFilter(e){var i,n,s,r;return x(this,void 0,void 0,function*(){let l=(s=(n=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.as(Z).sub_menu)===null||s===void 0?void 0:s.as(ma);if(!l)throw new v("Sub menu not found");let p=l.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Pe(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(pi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(me).map(n=>n.text))||[]}get sort_filters(){var e;let i=this.memo.getType(ci).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(n=>n.title))||[]}get content_type_filters(){var e,i,n;let s=(n=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Z).sub_menu)===null||n===void 0?void 0:n.as(ma);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Pe(this.actions,e.page,!0)})}getVideos(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Pe(this.actions,e.page,!0)})}getShorts(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Pe(this.actions,e.page,!0)})}getLiveStreams(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Pe(this.actions,e.page,!0)})}getPlaylists(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Pe(this.actions,e.page,!0)})}getCommunity(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Pe(this.actions,e.page,!0)})}getChannels(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new Pe(this.actions,e.page,!0)})}getAbout(){var e;return x(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(lh))===null||e===void 0?void 0:e[0]})}search(e){var i,n;return x(this,void 0,void 0,function*(){let s=(i=this.memo.getType(Eo))===null||i===void 0?void 0:i[0];if(!s)throw new v("Search tab not found",this);let r=yield(n=s.endpoint)===null||n===void 0?void 0:n.call(this.actions,{query:e,parse:!0});return new Pe(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(Eo))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new En(this.actions,i,!0)})}};o(Pe,"Channel");var En=class extends he{constructor(e,i,n=!1){var s,r;super(e,i,n),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new En(this.actions,i,!0)})}};o(En,"ChannelListContinuation");var Ji=class extends Hi{constructor(e,i,n=!1){super(e,i,n),this.applied_filter=this.memo.getType(me).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Ji(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(pi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(me)),new Ji(this.actions,i,!0)})}};o(Ji,"FilteredChannelList");var Go,ti,zo,Pn=class{constructor(e,i,n=!1){var s,r,l;Go.set(this,void 0),ti.set(this,void 0),zo.set(this,void 0),T(this,Go,n?i:d.parseResponse(i),"f"),T(this,ti,e,"f");let p=u(this,Go,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(To);let _=((r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.filterType(Ch))||[];this.contents=ue(_.map(y=>{var b;return(b=y.comment)===null||b===void 0||b.setActions(u(this,ti,"f")),y.setActions(u(this,ti,"f")),y})),T(this,zo,(l=m==null?void 0:m.contents)===null||l===void 0?void 0:l.firstOfType(Be),"f")}applySort(e){var i,n,s,r;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(n=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||n===void 0?void 0:n.at(0):e==="NEWEST_FIRST"&&(l=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!l)throw new v("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(u(this,ti,"f"),{parse:!0});return new Pn(u(this,ti,"f"),p,!0)})}createComment(e){var i;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot create comment.");let n=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Sh).submit_button;if(!n)throw new v("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new v("Button does not have an endpoint.");return yield n.endpoint.call(u(this,ti,"f"),{commentText:e})})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,zo,"f"))throw new v("Continuation not found");let e=yield u(this,zo,"f").endpoint.call(u(this,ti,"f"),{parse:!0}),i=Object.assign({},u(this,Go,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Pn(u(this,ti,"f"),i,!0)})}get has_continuation(){return!!u(this,zo,"f")}get page(){return u(this,Go,"f")}};o(Pn,"Comments");Go=new WeakMap,ti=new WeakMap,zo=new WeakMap;var I_=Pn;var Xp,S_=class{constructor(e){Xp.set(this,void 0),T(this,Xp,q.parseResponse(e),"f"),this.contents=u(this,Xp,"f").items.array().as(Po,Kh)}get page(){return u(this,Xp,"f")}};o(S_,"Guide");Xp=new WeakMap;var C_=S_;var Ko=class extends he{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(_e),this.feed_actions=this.memo.getType(oh).first()}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Ko(this.actions,e,!0)})}};o(Ko,"History");var $o=Ko;var Ct=class extends Hi{constructor(e,i,n=!1){super(e,i,n),this.header=this.memo.getType(Uh).first(),this.contents=this.memo.getType(Li).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Ct(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return x(this,void 0,void 0,function*(){let n=yield e.getContinuation.call(this);return n.page.header=this.page.header,(i=n.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Ct(this.actions,n.page,!0)})}};o(Ct,"HomeFeed");var ii=class extends Hi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let n=this.page.contents_memo.getType(ve).first();if(!n.content)throw new v("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as($h)),this.contents=n.content.as(Li)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new ii(this.actions,n.page)})}};o(ii,"HashtagFeed");var E_,P_,Qp,N_=class{constructor(e,i){E_.set(this,void 0),P_.set(this,void 0),Qp.set(this,void 0),T(this,E_,e,"f"),T(this,P_,i,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(H))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,Qp,n.as(H).items,"f")}selectItem(e){return x(this,void 0,void 0,function*(){let i;if(e instanceof S){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,Qp,"f").find(r=>r.is(No)?r.as(No).icon_type===e:!1);if(!s||!s.is(No))throw new v(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(u(this,P_,"f"),{parse:!0})})}items(){return u(this,Qp,"f")}page(){return u(this,E_,"f")}};o(N_,"ItemMenu");E_=new WeakMap,P_=new WeakMap,Qp=new WeakMap;var A_=N_;var Zp,R_,qo=class extends he{constructor(e,i,n=!1){var s,r,l,p;super(e,i,n),Zp.add(this);let f=this.memo.getType(Lm).first(),m=this.memo.getType(Ym).first(),_=this.memo.getType(Um).first();if(!m&&!_)throw new v("This playlist does not exist");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(jm)),{author:(l=(r=_==null?void 0:_.owner)===null||r===void 0?void 0:r.as(Fo).author)!==null&&l!==void 0?l:f==null?void 0:f.author,thumbnails:(p=m==null?void 0:m.thumbnail_renderer)===null||p===void 0?void 0:p.as(Hm,Fm).thumbnail,total_items:u(this,Zp,"m",R_).call(this,0,m),views:u(this,Zp,"m",R_).call(this,1,m),last_updated:u(this,Zp,"m",R_).call(this,2,m),can_share:f==null?void 0:f.can_share,can_delete:f==null?void 0:f.can_delete,is_editable:f==null?void 0:f.is_editable,privacy:f==null?void 0:f.privacy}),this.menu=m==null?void 0:m.menu,this.endpoint=m==null?void 0:m.endpoint,this.messages=this.memo.getType(Fe)}get items(){return this.videos}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new qo(this.actions,e,!0)})}};o(qo,"Playlist");Zp=new WeakSet,R_=o(function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])===null||n===void 0?void 0:n.toString())||"N/A"},"_Playlist_getStat");var _i=qo;var A0,gw,M_=class extends he{constructor(e,i){if(super(e,i),A0.add(this),!this.page.contents_memo)throw new v("Page contents not found");let n=this.page.contents_memo.getType(Gm).first(),s=this.page.contents_memo.getType(zm).first();this.profile={stats:n,user_info:s};let r=this.page.contents_memo.getType(Bo);this.sections=r.map(l=>{var p;return{type:l.icon_type,title:l.title,contents:((p=l.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>u(this,A0,"m",gw).call(this,l)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o(M_,"Library");A0=new WeakSet,gw=o(function(e){var i;return x(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(H).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let n=e.menu.as(H).top_level_buttons.firstOfType(S);if(!n)throw new v("Did not find target button.");let s=yield n.as(S).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new _i(this.actions,s,!0);case"WATCH_HISTORY":return new $o(this.actions,s,!0);case"CONTENT_CUT":return new he(this.actions,s,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var V_=M_;var Qo;yw();var O_=class extends EventTarget{constructor(){super(),Qo.set(this,new Map)}emit(e,...i){let n=new V.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){let n=o(s=>{s instanceof V.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");u(this,Qo,"f").set(i,n),this.addEventListener(e,n)}once(e,i){let n=o(s=>{s instanceof V.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");u(this,Qo,"f").set(i,n),this.addEventListener(e,n)}off(e,i){let n=u(this,Qo,"f").get(i);n&&(this.removeEventListener(e,n),u(this,Qo,"f").delete(i))}};o(O_,"EventEmitterLike");Qo=new WeakMap;var ef=O_;var vi,Gi,Nn,ht,Et,et;function o1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let n of i)e.push(n);else e.push(i);return e}o(o1,"flattenQueue");var B_=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(B_,"DelayQueue");var D_=class{constructor(){vi.set(this,void 0),Gi.set(this,void 0),Nn.set(this,void 0),ht.set(this,void 0),Et.set(this,void 0),et.set(this,void 0),T(this,vi,null,"f"),T(this,Gi,null,"f"),T(this,Nn,null,"f"),T(this,ht,[],"f"),T(this,Et,null,"f"),T(this,et,new B_,"f")}enqueueActionGroup(e){if(u(this,vi,"f")!==null){let i=Date.now()-u(this,vi,"f");u(this,et,"f").back.push(i),5<u(this,et,"f").front.length+u(this,et,"f").back.length&&(u(this,et,"f").front.length||(u(this,et,"f").front=u(this,et,"f").back,u(this,et,"f").front.reverse(),u(this,et,"f").back=[]),u(this,et,"f").front.pop()),T(this,Gi,Math.max(...u(this,et,"f").getValues()),"f")}T(this,vi,Date.now(),"f"),u(this,ht,"f").push(e),u(this,Et,"f")===null&&T(this,Et,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,Et,null,"f"),u(this,ht,"f").length){let e=1e4;u(this,Gi,"f")!==null&&u(this,vi,"f")!==null&&(e=u(this,Gi,"f")-Date.now()+u(this,vi,"f")),e=u(this,ht,"f").length<e/80?1:Math.ceil(u(this,ht,"f").length/(e/80));let i=o1(u(this,ht,"f").splice(0,e));u(this,Nn,"f")&&u(this,Nn,"f").call(this,i),u(this,ht,"f")!==null&&(e==1?(e=u(this,Gi,"f")/u(this,ht,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,Et,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,Et,"f")!==null&&(clearTimeout(u(this,Et,"f")),T(this,Et,null,"f")),T(this,ht,[],"f")}set callback(e){T(this,Nn,e,"f")}get callback(){return u(this,Nn,"f")}get action_queue(){return u(this,ht,"f")}get estimated_update_interval(){return u(this,Gi,"f")}get last_update_time(){return u(this,vi,"f")}get next_update_id(){return u(this,Et,"f")}get poll_response_delay_queue(){return u(this,et,"f")}};o(D_,"SmoothedQueue");vi=new WeakMap,Gi=new WeakMap,Nn=new WeakMap,ht=new WeakMap,Et=new WeakMap,et=new WeakMap;var F_=D_;var Me,gi,of,L_,Rn,tf,nf,R0,j_,bw,An,Y_=class extends ef{constructor(e){var i,n;super(),Me.add(this),gi.set(this,void 0),of.set(this,void 0),L_.set(this,void 0),Rn.set(this,void 0),tf.set(this,void 0),nf.set(this,0),this.running=!1,this.is_replay=!1,T(this,of,e.basic_info.id,"f"),T(this,L_,e.basic_info.channel_id,"f"),T(this,gi,e.actions,"f"),T(this,Rn,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)===null||n===void 0?void 0:n.is_replay)||!1,this.smoothed_queue=new F_,this.smoothed_queue.callback=s=>x(this,void 0,void 0,function*(){s.length?s.length<10?yield u(this,Me,"m",j_).call(this,s):this.is_replay?(u(this,Me,"m",j_).call(this,s),yield u(this,Me,"m",An).call(this,2e3)):u(this,Me,"m",j_).call(this,s):yield u(this,Me,"m",An).call(this,2e3),this.running&&u(this,Me,"m",R0).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,Me,"m",R0).call(this),u(this,Me,"m",bw).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return x(this,void 0,void 0,function*(){let i=yield u(this,gi,"f").execute("/live_chat/send_message",{params:ye.encodeMessageParams(u(this,L_,"f"),u(this,of,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:V.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(rm)})}applyFilter(e){var i,n,s,r,l,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let m=(s=(n=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||n===void 0?void 0:n.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=m==null?void 0:m.at(0))===null||r===void 0)&&r.selected)return;T(this,Rn,(l=m==null?void 0:m.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;T(this,Rn,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return x(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(u(this,gi,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new A_(i,u(this,gi,"f"))})}selectButton(e){return x(this,void 0,void 0,function*(){return yield e.endpoint.call(u(this,gi,"f"),{parse:!0})})}};o(Y_,"LiveChat");gi=new WeakMap,of=new WeakMap,L_=new WeakMap,Rn=new WeakMap,tf=new WeakMap,nf=new WeakMap,Me=new WeakSet,R0=o(function t(){x(this,void 0,void 0,function*(){var e,i;try{let n=yield u(this,gi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Rn,"f"),parse:!0}),s=n.continuation_contents;if(s||(this.emit("error",new v("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(s instanceof kn)){this.stop(),this.emit("end");return}T(this,Rn,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&u(this,Me,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,nf,0,"f")}catch(n){this.emit("error",n),T(this,nf,(i=u(this,nf,"f"),e=i++,i),"f"),e<10?(yield u(this,Me,"m",An).call(this,2e3),u(this,Me,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),j_=o(function(e){return x(this,void 0,void 0,function*(){let n=e.length<125?1:Math.ceil(e.length/125),s=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let r of e)yield u(this,Me,"m",An).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),bw=o(function t(){x(this,void 0,void 0,function*(){var e,i,n,s,r,l,p,f,m,_,y;try{let b={videoId:u(this,of,"f")};u(this,tf,"f")&&(b.continuation=u(this,tf,"f"));let k=yield u(this,gi,"f").execute("/updated_metadata",b),I=d.parseResponse(k.data);T(this,tf,(e=I.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=I.actions)===null||i===void 0?void 0:i.array().firstOfType(dm))||((n=this.metadata)===null||n===void 0?void 0:n.title),description:((s=I.actions)===null||s===void 0?void 0:s.array().firstOfType(cm))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((l=I.actions)===null||l===void 0?void 0:l.array().firstOfType(fm))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=I.actions)===null||f===void 0?void 0:f.array().firstOfType(pm))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=I.actions)===null||_===void 0?void 0:_.array().firstOfType(lm))||((y=this.metadata)===null||y===void 0?void 0:y.date)},this.emit("metadata-update",this.metadata),yield u(this,Me,"m",An).call(this,5e3),this.running&&u(this,Me,"m",t).call(this)}catch(b){yield u(this,Me,"m",An).call(this,2e3),this.running&&u(this,Me,"m",t).call(this)}})},"_LiveChat_pollMetadata"),An=o(function(e){return x(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var U_=Y_;var Mn,sf,Zo=class{constructor(e,i){Mn.set(this,void 0),sf.set(this,void 0),T(this,sf,e,"f"),T(this,Mn,d.parseResponse(i.data),"f"),this.header=u(this,Mn,"f").actions_memo.getType(_m).first(),this.contents=u(this,Mn,"f").actions_memo.getType(Mm)}getContinuation(){return x(this,void 0,void 0,function*(){let e=u(this,Mn,"f").actions_memo.getType(Be).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(u(this,sf,"f"),{parse:!1});return new Zo(u(this,sf,"f"),i)})}get page(){return u(this,Mn,"f")}};o(Zo,"NotificationsMenu");Mn=new WeakMap,sf=new WeakMap;var W_=Zo;var Vn=class extends he{constructor(e,i,n=!1){var s,r,l,p,f,m;super(e,i,n);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(Z).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new v("No contents found in search response");this.results=(l=_.find(y=>y.is(_e)&&y.contents&&y.contents.length>0))===null||l===void 0?void 0:l.as(_e).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(e_).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(d_).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Co)}selectRefinementCard(e){var i,n;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(s=(n=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||n===void 0?void 0:n.as(cn),!s)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new v("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new Vn(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(cn).map(i=>i.query))||[]}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Vn(this.actions,e,!0)})}};o(Vn,"Search");var H_=Vn;var On,rf,es=class{constructor(e,i){var n,s,r,l;if(On.set(this,void 0),rf.set(this,void 0),T(this,rf,e,"f"),T(this,On,d.parseResponse(i.data),"f"),this.sidebar=(n=u(this,On,"f").sidebar)===null||n===void 0?void 0:n.as(n_),!u(this,On,"f").contents)throw new v("Page contents not found");let p=u(this,On,"f").contents.item().as(ji).tabs.array().as(ve).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(Z).contents.as(_e);this.introduction=(l=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(Vm),this.sections=f==null?void 0:f.map(m=>{var _;return{title:((_=m.header)===null||_===void 0?void 0:_.title.toString())||null,contents:m.contents}})}selectSidebarItem(e){return x(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(ko))i=e;else throw new v("Invalid item",{target_item:e});let n=yield i.endpoint.call(u(this,rf,"f"),{parse:!1});return new es(u(this,rf,"f"),n)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let n of this.sections)if(!!n.contents)for(let s of n.contents){let r=s.as(Oo).options;if(r){for(let l of r)if(l.is(Vo)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let n of i.contents)n.as(Oo).options&&(e=e.concat(n.as(Oo).options));return e.map(i=>{var n;return(n=i.title)===null||n===void 0?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,On,"f")}};o(es,"Settings");On=new WeakMap,rf=new WeakMap;var J_=es;var ts,G_=class{constructor(e){var i;if(ts.set(this,void 0),T(this,ts,d.parseResponse(e.data),"f"),!u(this,ts,"f").contents)throw new v("Page contents not found");let n=u(this,ts,"f").contents.item().as(ei).tabs.get({selected:!0});if(!n)throw new v("Could not find target tab.");this.contents=(i=n.content)===null||i===void 0?void 0:i.as(Z).contents.as(_e)}get page(){return u(this,ts,"f")}};o(G_,"TimeWatched");ts=new WeakMap;var z_=G_;var B0={};j(B0,{Feed:()=>he,FilterableFeed:()=>Hi,MediaInfo:()=>zi,TabbedFeed:()=>Wo});var ke,Je,kw,ww,M0,V0,Tw,af=class{static download(e,i,n,s,r,l){return x(this,void 0,void 0,function*(){if((n==null?void 0:n.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((n==null?void 0:n.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),f=this.chooseFormat(p,s),m=f.decipher(r);if(p.type==="video+audio"&&!e.range){let P=yield i.session.http.fetch_function(`${m}&cpn=${l}`,{method:"GET",headers:ar,redirect:"follow"});if(!P.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:P});let M=P.body;if(!M)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:P});return M}let _=1048576*10,y=e.range?e.range.start:0,b=e.range?e.range.end:_,k=!1,I;return new V.shim.ReadableStream({start(){},pull:P=>x(this,void 0,void 0,function*(){if(k){P.close();return}return(b>=(f.content_length?f.content_length:0)||e.range)&&(k=!0),new Promise((M,U)=>x(this,void 0,void 0,function*(){var L,le,xe,Ae;try{I=new AbortController;let z=yield i.session.http.fetch_function(`${m}&cpn=${l}&range=${y}-${b||""}`,{method:"GET",headers:Object.assign({},ar),signal:I.signal}),ie=z.body;if(!ie)throw new v("Could not get ReadableStream from fetch Response.",{video:this,error_type:"FETCH_FAILED",response:z});try{for(var Re=!0,Ke=Pg(O0(ie)),X;X=yield Ke.next(),L=X.done,!L;Re=!0){Ae=X.value,Re=!1;let te=Ae;P.enqueue(te)}}catch(te){le={error:te}}finally{try{!Re&&!L&&(xe=Ke.return)&&(yield xe.call(Ke))}finally{if(le)throw le.error}}y=b+1,b+=_,M();return}catch(z){U(z)}}))}),cancel(P){return x(this,void 0,void 0,function*(){I.abort(P)})}},{highWaterMark:1,size(P){return P.byteLength}})})}static chooseFormat(e,i){if(!i)throw new v("Streaming data not available");let n=[...i.formats||[],...i.adaptive_formats||[]],s=e.type?e.type.includes("audio"):!0,r=e.type?e.type.includes("video"):!0,l=e.language||"original",p=e.quality||"best",f=-1,m=["best","bestefficiency"].includes(p),_=p!=="best",y=n.filter(b=>s&&!b.has_audio||r&&!b.has_video||e.format!=="any"&&!b.mime_type.includes(e.format||"mp4")||!m&&b.quality_label!==p?!1:(f<b.width&&(f=b.width),!0));if(!y.length)throw new v("No matching formats found",{options:e});if(m&&r&&(y=y.filter(b=>b.width===f)),s&&!r){let b=y.filter(k=>l!=="original"?!k.has_video&&k.language===l:!k.has_video&&k.is_original);b.length>0&&(y=b)}return _?y.sort((b,k)=>b.bitrate-k.bitrate):y.sort((b,k)=>k.bitrate-b.bitrate),y[0]}static toDash(e,i=p=>p,n,s,r,l){return x(this,void 0,void 0,function*(){if(!e)throw new v("Streaming data not available");let p;if(n?p=e.adaptive_formats.filter(b=>!n(b)):p=e.adaptive_formats,!p.length)throw new v("No adaptive formats found");let f=p[0].approx_duration_ms/1e3,m=new V.shim.DOMParser().parseFromString('<?xml version="1.0" encoding="utf-8"?><MPD />',"application/xml"),_=m.querySelector("MPD"),y=m.createElement("Period");return _.replaceWith(u(this,ke,"m",Je).call(this,m,"MPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${f}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},[y])),yield u(this,ke,"m",kw).call(this,m,y,p,i,s,r,l),V.shim.serializeDOM(m)})}};o(af,"FormatUtils");ke=af,Je=o(function(e,i,n,s=[]){let r=e.createElement(i);for(let[l,p]of Object.entries(n))p&&r.setAttribute(l,p);for(let l of s)typeof l>"u"||r.appendChild(l);return r},"_FormatUtils_el"),kw=o(function(e,i,n,s,r,l,p){var f,m,_;return x(this,void 0,void 0,function*(){let y=[],b=[[]];n.forEach(I=>{if((!I.index_range||!I.init_range)&&!I.is_type_otf)return;let E=I.mime_type,P=y.indexOf(E);P>-1?b[P].push(I):(y.push(E),b.push([]),b[y.length-1].push(I))});let k=0;for(let I=0;I<y.length;I++)if(b[I][0].has_audio&&b[I][0].audio_track){let E=[],P=[[]];b[I].forEach(M=>{var U,L;let le=E.indexOf((U=M.audio_track)===null||U===void 0?void 0:U.id);le>-1?P[le].push(M):(E.push((L=M.audio_track)===null||L===void 0?void 0:L.id),P.push([]),P[E.length-1].push(M))});for(let M=0;M<E.length;M++){let U=P[M][0],L=[],le;!((f=U.audio_track)===null||f===void 0)&&f.audio_is_default?le="main":U.is_dubbed?le="dub":U.is_descriptive?le="description":le="alternate",L.push(u(this,ke,"m",Je).call(this,e,"Role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:le}),u(this,ke,"m",Je).call(this,e,"Label",{id:k.toString()},[e.createTextNode((m=U.audio_track)===null||m===void 0?void 0:m.display_name)]));let xe=u(this,ke,"m",Je).call(this,e,"AdaptationSet",{id:`${k++}`,mimeType:y[I].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true",lang:U.language,label:(_=U.audio_track)===null||_===void 0?void 0:_.display_name},L);i.appendChild(xe);for(let Ae of P[M])yield u(this,ke,"m",M0).call(this,e,xe,Ae,s,r,l,p)}}else{let E=u(this,ke,"m",Je).call(this,e,"AdaptationSet",{id:`${k++}`,mimeType:y[I].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true"});i.appendChild(E);for(let P of b[I])P.has_video?yield u(this,ke,"m",ww).call(this,e,E,P,s,r,l,p):yield u(this,ke,"m",M0).call(this,e,E,P,s,r,l,p)}})},"_FormatUtils_generateAdaptationSet"),ww=o(function(e,i,n,s,r,l,p){var f,m,_,y,b,k;return x(this,void 0,void 0,function*(){let I=tt(n.mime_type,'codecs="','"'),E=new URL(n.decipher(l));E.searchParams.set("cpn",r||"");let P=u(this,ke,"m",Je).call(this,e,"Representation",{id:(f=n.itag)===null||f===void 0?void 0:f.toString(),codecs:I,bandwidth:(m=n.bitrate)===null||m===void 0?void 0:m.toString(),width:(_=n.width)===null||_===void 0?void 0:_.toString(),height:(y=n.height)===null||y===void 0?void 0:y.toString(),maxPlayoutRate:"1",frameRate:(b=n.fps)===null||b===void 0?void 0:b.toString()});i.appendChild(P),yield u(this,ke,"m",V0).call(this,e,P,n,(k=s(E))===null||k===void 0?void 0:k.toString(),p)})},"_FormatUtils_generateRepresentationVideo"),M0=o(function(e,i,n,s,r,l,p){var f,m,_,y,b,k;return x(this,void 0,void 0,function*(){let I=tt(n.mime_type,'codecs="','"'),E=new URL(n.decipher(l));E.searchParams.set("cpn",r||"");let P;n.audio_track?P=`${(f=n.itag)===null||f===void 0?void 0:f.toString()}-${n.audio_track.id}`:P=(m=n.itag)===null||m===void 0?void 0:m.toString();let M=u(this,ke,"m",Je).call(this,e,"Representation",{id:P,codecs:I,bandwidth:(_=n.bitrate)===null||_===void 0?void 0:_.toString(),audioSamplingRate:(y=n.audio_sample_rate)===null||y===void 0?void 0:y.toString()},[u(this,ke,"m",Je).call(this,e,"AudioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:((b=n.audio_channels)===null||b===void 0?void 0:b.toString())||"2"})]);i.appendChild(M),yield u(this,ke,"m",V0).call(this,e,M,n,(k=s(E))===null||k===void 0?void 0:k.toString(),p)})},"_FormatUtils_generateRepresentationAudio"),V0=o(function(e,i,n,s,r){return x(this,void 0,void 0,function*(){if(n.is_type_otf){if(!r)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:n});let{resolved_url:l,segment_durations:p}=yield u(this,ke,"m",Tw).call(this,s,r),f=[];for(let m of p){let _;typeof m.repeat_count>"u"?_={d:m.duration.toString()}:_={d:m.duration.toString(),r:m.repeat_count.toString()},f.push(u(this,ke,"m",Je).call(this,e,"S",_))}i.appendChild(u(this,ke,"m",Je).call(this,e,"SegmentTemplate",{startNumber:"1",timescale:"1000",initialization:`${l}&sq=0`,media:`${l}&sq=$Number$`},[u(this,ke,"m",Je).call(this,e,"SegmentTimeline",{},f)]))}else{if(!n.index_range||!n.init_range)throw new v("Index and init ranges not available",{format:n});i.appendChild(u(this,ke,"m",Je).call(this,e,"BaseURL",{},[e.createTextNode(s)])),i.appendChild(u(this,ke,"m",Je).call(this,e,"SegmentBase",{indexRange:`${n.index_range.start}-${n.index_range.end}`},[u(this,ke,"m",Je).call(this,e,"Initialization",{range:`${n.init_range.start}-${n.init_range.end}`})]))}})},"_FormatUtils_generateSegmentInformation"),Tw=o(function(e,i){var n;return x(this,void 0,void 0,function*(){let s=yield i.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:ar,redirect:"follow"}),r=s.url.replace("&rn=0","").replace("&sq=0",""),l=yield s.text(),p=(n=tt(l,"Segment-Durations-Ms:",`\r
`))===null||n===void 0?void 0:n.split(",");if(!p)throw new v("Failed to extract the segment durations from this OTF stream",{url:e});let f=[];for(let m of p){let _=m.trim();if(_.length===0)continue;let y,b=tt(_,"(r=",")");b&&(y=parseInt(b)),f.push({duration:parseInt(_),repeat_count:y})}return{resolved_url:r,segment_durations:f}})},"_FormatUtils_getOTFSegmentInformation");var uf=af;var K_,xi,is,lf,$_=class{constructor(e,i,n){var s,r;K_.set(this,void 0),xi.set(this,void 0),is.set(this,void 0),lf.set(this,void 0),T(this,xi,i,"f");let l=d.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?d.parseResponse(e[1].data):void 0;if(T(this,K_,[l,p],"f"),T(this,is,n,"f"),((r=l.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new v("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,T(this,lf,l.playback_tracking,"f")}toDash(e,i){return x(this,void 0,void 0,function*(){return uf.toDash(this.streaming_data,e,i,u(this,is,"f"),u(this,xi,"f").session.player,u(this,xi,"f"))})}chooseFormat(e){return uf.chooseFormat(e,this.streaming_data)}download(e={}){return x(this,void 0,void 0,function*(){return uf.download(e,u(this,xi,"f"),this.playability_status,this.streaming_data,u(this,xi,"f").session.player,this.cpn)})}addToWatchHistory(e=$.WEB.NAME,i=$.WEB.VERSION,n="https://www."){return x(this,void 0,void 0,function*(){if(!u(this,lf,"f"))throw new v("Playback tracking not available");let s={cpn:u(this,is,"f"),fmt:251,rtn:0,rt:0},r=u(this,lf,"f").videostats_playback_url.replace("https://s.",n);return yield u(this,xi,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return u(this,xi,"f")}get cpn(){return u(this,is,"f")}get page(){return u(this,K_,"f")}};o($_,"MediaInfo");K_=new WeakMap,xi=new WeakMap,is=new WeakMap,lf=new WeakMap;var zi=$_;var Ki,ns=class extends zi{constructor(e,i,n){var s,r,l,p,f,m,_,y,b,k,I,E,P,M,U,L,le,xe,Ae,Re,Ke,X,z,ie,te,$e,Ot,Bt,Dt,Ft,Lt,jt,Yt,Ut,Wt,Ht,Jt,Gt,pt,ho;super(e,i,n),Ki.set(this,void 0);let[ce,ai]=this.page;if(ce.microformat&&!(!((s=ce.microformat)===null||s===void 0)&&s.is(Tt,qt)))throw new v("Invalid microformat",ce.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},ce.video_details),{embed:!((r=ce.microformat)===null||r===void 0)&&r.is(Tt)?(l=ce.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ce.microformat)===null||p===void 0)&&p.is(Tt)?(f=ce.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=ce.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=ce.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((y=ce.microformat)===null||y===void 0)&&y.is(Tt)?(b=ce.microformat)===null||b===void 0?void 0:b.category:null,has_ypc_metadata:!((k=ce.microformat)===null||k===void 0)&&k.is(Tt)?(I=ce.microformat)===null||I===void 0?void 0:I.has_ypc_metadata:null,start_timestamp:!((E=ce.microformat)===null||E===void 0)&&E.is(Tt)?ce.microformat.start_timestamp:null,view_count:((P=ce.microformat)===null||P===void 0?void 0:P.is(Tt))&&isNaN((M=ce.video_details)===null||M===void 0?void 0:M.view_count)?ce.microformat.view_count:(U=ce.video_details)===null||U===void 0?void 0:U.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ce.annotations,this.storyboards=ce.storyboards,this.endscreen=ce.endscreen,this.captions=ce.captions,this.cards=ce.cards;let qe=(L=ai==null?void 0:ai.contents)===null||L===void 0?void 0:L.item().as(Do),mo=qe==null?void 0:qe.results,Rf=qe==null?void 0:qe.secondary_results;if(mo&&Rf){if(((le=ce.microformat)===null||le===void 0?void 0:le.is(Tt))&&((xe=ce.microformat)===null||xe===void 0?void 0:xe.category)==="Gaming"){let ui=(Ke=(Re=(Ae=mo.firstOfType(Bp))===null||Ae===void 0?void 0:Ae.metadata)===null||Re===void 0?void 0:Re.rows)===null||Ke===void 0?void 0:Ke.firstOfType(Pd);ui!=null&&ui.is(Pd)&&(this.game_info={title:(z=(X=ui==null?void 0:ui.contents)===null||X===void 0?void 0:X.firstOfType(Cd))===null||z===void 0?void 0:z.title,release_year:(te=(ie=ui==null?void 0:ui.contents)===null||ie===void 0?void 0:ie.firstOfType(Cd))===null||te===void 0?void 0:te.subtitle})}this.primary_info=mo.firstOfType(p_),this.secondary_info=mo.firstOfType(Bp),this.merchandise=mo.firstOfType(vm),this.related_chip_cloud=($e=Rf.firstOfType(qm))===null||$e===void 0?void 0:$e.content.as(bt),qe!=null&&qe.playlist&&(this.playlist=qe.playlist),this.watch_next_feed=((Ot=Rf.firstOfType(_e))===null||Ot===void 0?void 0:Ot.contents)||Rf,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Bt=this.watch_next_feed[this.watch_next_feed.length-1])===null||Bt===void 0?void 0:Bt.is(Be))&&T(this,Ki,(Dt=this.watch_next_feed.pop())===null||Dt===void 0?void 0:Dt.as(Be),"f"),this.player_overlays=(Ft=ai==null?void 0:ai.player_overlays)===null||Ft===void 0?void 0:Ft.item().as(Fi),qe!=null&&qe.autoplay&&(this.autoplay=qe.autoplay);let We=(jt=(Lt=this.primary_info)===null||Lt===void 0?void 0:Lt.menu)===null||jt===void 0?void 0:jt.top_level_buttons.firstOfType(gn);((Yt=We==null?void 0:We.like_button)===null||Yt===void 0?void 0:Yt.is(Oe))&&((Ut=We==null?void 0:We.dislike_button)===null||Ut===void 0?void 0:Ut.is(Oe))&&(this.basic_info.like_count=(Wt=We==null?void 0:We.like_button)===null||Wt===void 0?void 0:Wt.like_count,this.basic_info.is_liked=(Ht=We==null?void 0:We.like_button)===null||Ht===void 0?void 0:Ht.is_toggled,this.basic_info.is_disliked=(Jt=We==null?void 0:We.dislike_button)===null||Jt===void 0?void 0:Jt.is_toggled);let p0=(Gt=mo.get({target_id:"comments-entry-point"}))===null||Gt===void 0?void 0:Gt.as(_e);this.comments_entry_point_header=(pt=p0==null?void 0:p0.contents)===null||pt===void 0?void 0:pt.firstOfType(Ih),this.livechat=(ho=ai==null?void 0:ai.contents_memo)===null||ho===void 0?void 0:ho.getType(nm).first()}}selectFilter(e){var i,n,s,r;return x(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let m=(n=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||n===void 0?void 0:n.get({text:e});if(!m)throw new v("Invalid filter",{available_filters:this.filters});l=m}else if(e!=null&&e.is(me))l=e;else throw new v("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(s=l.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,n,s,r;return x(this,void 0,void 0,function*(){if(!u(this,Ki,"f"))throw new v("Watch next feed continuation not found");let l=yield(e=u(this,Ki,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(n=this.watch_next_feed)===null||n===void 0?void 0:n[this.watch_next_feed.length-1])===null||s===void 0)&&s.is(Be)?T(this,Ki,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(Be),"f"):T(this,Ki,void 0,"f"),this})}like(){var e,i;return x(this,void 0,void 0,function*(){let n=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(gn),s=n==null?void 0:n.like_button;if(!s)throw new v("Like button not found",{video_id:this.basic_info.id});if(!s.is(Oe))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return x(this,void 0,void 0,function*(){let n=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(gn),s=n==null?void 0:n.dislike_button;if(!s)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Oe))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return x(this,void 0,void 0,function*(){let n,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(gn),r=s==null?void 0:s.like_button,l=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Oe))||!(l!=null&&l.is(Oe)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?n=r:l!=null&&l.is_toggled&&(n=l),!n)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield n.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new U_(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let n=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Xc).trailer)===null||i===void 0?void 0:i.player_response;if(n)return new ns([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(n=>{var s;return(s=n.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!u(this,Ki,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Xc))}get music_tracks(){return[]}};o(ns,"VideoInfo");Ki=new WeakMap;var cf=ns;var L0={};j(L0,{Album:()=>X_,Artist:()=>ev,Explore:()=>iv,HomeFeed:()=>nv,Library:()=>ov,LibraryContinuation:()=>Ln,Playlist:()=>cs,Recap:()=>rv,Search:()=>av,TrackInfo:()=>_f});var yi,q_=class{constructor(e){var i,n,s;if(yi.set(this,void 0),T(this,yi,d.parseResponse(e.data),"f"),this.header=(i=u(this,yi,"f").header)===null||i===void 0?void 0:i.item().as(_n),this.url=((n=u(this,yi,"f").microformat)===null||n===void 0?void 0:n.as(qt).url_canonical)||null,!u(this,yi,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=u(this,yi,"f").contents_memo.getType(be))===null||s===void 0?void 0:s.first().contents,this.sections=u(this,yi,"f").contents_memo.getType(Se)||[]}get page(){return u(this,yi,"f")}};o(q_,"Album");yi=new WeakMap;var X_=q_;var os,Q_,Z_=class{constructor(e,i){var n,s,r;os.set(this,void 0),Q_.set(this,void 0),T(this,os,d.parseResponse(e.data),"f"),T(this,Q_,i,"f"),this.header=(n=this.page.header)===null||n===void 0?void 0:n.item().as(Cm,Rm,Di);let l=((s=u(this,os,"f").contents_memo)===null||s===void 0?void 0:s.getType(be))||[],p=((r=u(this,os,"f").contents_memo)===null||r===void 0?void 0:r.getType(Se))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return x(this,void 0,void 0,function*(){let n=this.sections.filter(p=>p.type==="MusicShelf");if(!n.length)throw new v("Could not find any node of type MusicShelf.");let s=n.find(p=>p.title.toString()==="Songs");if(!s)throw new v("Could not find target shelf (Songs).");if(!s.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(u(this,Q_,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(vn))===null||i===void 0?void 0:i.first()})}get page(){return u(this,os,"f")}};o(Z_,"Artist");os=new WeakMap,Q_=new WeakMap;var ev=Z_;var df,tv=class{constructor(e){var i,n,s;df.set(this,void 0),T(this,df,d.parseResponse(e.data),"f");let r=(i=u(this,df,"f").contents)===null||i===void 0?void 0:i.item().as(ei).tabs.get({selected:!0});if(!r)throw new v("Could not find target tab.");let l=(n=r.content)===null||n===void 0?void 0:n.as(Z);if(!l)throw new v("Target tab did not have any content.");this.top_buttons=((s=l.contents.firstOfType(pn))===null||s===void 0?void 0:s.items.as(Ao))||[],this.sections=l.contents.filterType(Se)}get page(){return u(this,df,"f")}};o(tv,"Explore");df=new WeakMap;var iv=tv;var $i,Bn,Dn,Fn=class{constructor(e,i){var n,s,r,l,p,f;$i.set(this,void 0),Bn.set(this,void 0),Dn.set(this,void 0),T(this,Bn,i,"f"),T(this,$i,d.parseResponse(e.data),"f");let m=(n=u(this,$i,"f").contents)===null||n===void 0?void 0:n.item().as(ei).tabs.get({selected:!0});if(!m)throw new v("Could not find Home tab.");if(m.key("content").isNull()){if(!u(this,$i,"f").continuation_contents)throw new v("Continuation did not have any content.");T(this,Dn,u(this,$i,"f").continuation_contents.as(st).continuation,"f"),this.sections=(s=u(this,$i,"f").continuation_contents.as(st).contents)===null||s===void 0?void 0:s.as(Se);return}this.header=(l=(r=m.content)===null||r===void 0?void 0:r.as(Z).header)===null||l===void 0?void 0:l.as(bt),T(this,Dn,(p=m.content)===null||p===void 0?void 0:p.as(Z).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Z).contents.as(Se,Am)}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Dn,"f"))throw new v("Continuation not found.");let e=yield u(this,Bn,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Dn,"f")});return new Fn(e,u(this,Bn,"f"))})}applyFilter(e){var i,n;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(n=(i=this.header)===null||i===void 0?void 0:i.chips)===null||n===void 0?void 0:n.as(me).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,Bn,"f"),{client:"YTMUSIC"});return new Fn(r,u(this,Bn,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(me).map(n=>n.text))||[]}get has_continuation(){return!!u(this,Dn,"f")}get page(){return u(this,$i,"f")}};o(Fn,"HomeFeed");$i=new WeakMap,Bn=new WeakMap,Dn=new WeakMap;var nv=Fn;var ni,qi,ss,Xi,pf,rs,as=class{constructor(e,i){var n,s,r,l,p;ni.set(this,void 0),qi.set(this,void 0),ss.set(this,void 0),T(this,ni,d.parseResponse(e.data),"f"),T(this,qi,i,"f");let f=(n=u(this,ni,"f").contents_memo)===null||n===void 0?void 0:n.getType(Z).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(Pm),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(pn,be),T(this,ss,(p=(l=this.contents)===null||l===void 0?void 0:l.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,n,s,r,l,p,f,m,_,y;return x(this,void 0,void 0,function*(){let b;if(typeof e=="string"){let P=(i=u(this,ni,"f").contents_memo)===null||i===void 0?void 0:i.getType(Yc).first(),M=(n=P==null?void 0:P.menu)===null||n===void 0?void 0:n.options.filter(U=>U instanceof yt);if(b=M==null?void 0:M.find(U=>U.title===e),!b)throw new v(`Sort option "${e}" not found`,{available_filters:M.map(U=>U.title)})}else e instanceof yt&&(b=e);if(!b)throw new v("Invalid sort option");if(b.selected)return this;let k=(p=(l=(r=(s=b.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||l===void 0?void 0:l.find(P=>P.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!k)throw new v("Failed to find sort option command");let I=yield u(this,qi,"f").execute("/browse",{client:"YTMUSIC",continuation:k.continuation.reloadContinuationData.continuation,parse:!0}),E=(m=(f=u(this,ni,"f").contents_memo)===null||f===void 0?void 0:f.getType(yt))===null||m===void 0?void 0:m.find(P=>P.selected);return E&&(E.selected=!1),b.selected=!0,this.contents=(y=(_=I.continuation_contents)===null||_===void 0?void 0:_.as(st).contents)===null||y===void 0?void 0:y.as(pn,be),this})}applyFilter(e){var i,n,s,r;return x(this,void 0,void 0,function*(){let l,p=(i=u(this,ni,"f").contents_memo)===null||i===void 0?void 0:i.getType(bt).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof me&&(l=e);if(!l)throw new v("Invalid filter",e);let m=yield new g((r=(s=(n=l.endpoint)===null||n===void 0?void 0:n.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(u(this,qi,"f"),{client:"YTMUSIC"});return new as(m,u(this,qi,"f"))})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,ss,"f"))throw new v("No continuation available");let e=yield u(this,qi,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,ss,"f")});return new Ln(e,u(this,qi,"f"))})}get has_continuation(){return!!u(this,ss,"f")}get sort_options(){var e,i;let n=(e=u(this,ni,"f").contents_memo)===null||e===void 0?void 0:e.getType(Yc).first();return((i=n==null?void 0:n.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof yt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=u(this,ni,"f").contents_memo)===null||e===void 0?void 0:e.getType(bt))===null||i===void 0?void 0:i.first().chips.map(n=>n.text))||[]}get page(){return u(this,ni,"f")}};o(as,"Library");ni=new WeakMap,qi=new WeakMap,ss=new WeakMap;var Ln=class{constructor(e,i){var n,s;if(Xi.set(this,void 0),pf.set(this,void 0),rs.set(this,void 0),T(this,Xi,d.parseResponse(e.data),"f"),T(this,pf,i,"f"),!u(this,Xi,"f").continuation_contents)throw new v("No continuation contents found");this.contents=u(this,Xi,"f").continuation_contents.as(mi,Tn),T(this,rs,!((n=u(this,Xi,"f").continuation_contents)===null||n===void 0)&&n.key("continuation").isNull()?null:(s=u(this,Xi,"f").continuation_contents)===null||s===void 0?void 0:s.key("continuation").string(),"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,rs,"f"))throw new v("No continuation available");let e=yield u(this,pf,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,rs,"f")});return new Ln(e,u(this,pf,"f"))})}get has_continuation(){return!!u(this,rs,"f")}get page(){return u(this,Xi,"f")}};o(Ln,"LibraryContinuation");Xi=new WeakMap,pf=new WeakMap,rs=new WeakMap;var ov=as;var F0,rt,Yn,jn,us,ff,Iw,ls=class{constructor(e,i){var n,s,r,l,p,f,m;if(F0.add(this),rt.set(this,void 0),Yn.set(this,void 0),jn.set(this,void 0),us.set(this,void 0),ff.set(this,void 0),T(this,Yn,i,"f"),T(this,rt,d.parseResponse(e.data),"f"),T(this,us,null,"f"),T(this,ff,null,"f"),u(this,rt,"f").continuation_contents){let _=(n=u(this,rt,"f").continuation_contents)===null||n===void 0?void 0:n.as(wn);this.items=_.contents,T(this,jn,_.continuation,"f")}else((s=u(this,rt,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(r=u(this,rt,"f").header)===null||r===void 0?void 0:r.item().as(Sm).header)===null||l===void 0?void 0:l.as(_n):this.header=(p=u(this,rt,"f").header)===null||p===void 0?void 0:p.item().as(_n),this.items=((f=u(this,rt,"f").contents_memo)===null||f===void 0?void 0:f.getType(vn).first().contents)||null,T(this,jn,((m=u(this,rt,"f").contents_memo)===null||m===void 0?void 0:m.getType(vn).first().continuation)||null,"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,jn,"f"))throw new v("Continuation not found.");let e=yield u(this,Yn,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,jn,"f")});return new ls(e,u(this,Yn,"f"))})}getRelated(){var e,i,n,s,r;return x(this,void 0,void 0,function*(){let l=(i=(e=u(this,rt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Z))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(n=(yield u(this,Yn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||n===void 0?void 0:n.as(st),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Se,be),_=(r=m==null?void 0:m.matchCondition(y=>y.is(Se)))===null||r===void 0?void 0:r.as(Se);if(_)return _;l=f==null?void 0:f.continuation}throw new v("Target section not found.")})}getSuggestions(e=!0){return x(this,void 0,void 0,function*(){let s=yield e||!u(this,us,"f")?u(this,F0,"m",Iw).call(this):Promise.resolve(null);return s&&(T(this,us,s.items,"f"),T(this,ff,s.continuation,"f")),(s==null?void 0:s.items)||u(this,us,"f")})}get page(){return u(this,rt,"f")}get has_continuation(){return!!u(this,jn,"f")}};o(ls,"Playlist");rt=new WeakMap,Yn=new WeakMap,jn=new WeakMap,us=new WeakMap,ff=new WeakMap,F0=new WeakSet,Iw=o(function(){var e,i,n,s,r;return x(this,void 0,void 0,function*(){let l=u(this,ff,"f")||((i=(e=u(this,rt,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Z).continuation);if(l){let f=(n=(yield u(this,Yn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||n===void 0?void 0:n.as(st),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Se,be),_=(r=m==null?void 0:m.matchCondition(y=>y.is(be)))===null||r===void 0?void 0:r.as(be);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var cs=ls;var Qi,hf,sv=class{constructor(e,i){var n,s,r,l,p,f,m;Qi.set(this,void 0),hf.set(this,void 0),T(this,Qi,d.parseResponse(e.data),"f"),T(this,hf,i,"f");let _=(n=u(this,Qi,"f").header)===null||n===void 0?void 0:n.item();this.header=_!=null&&_.is(Cc)?(l=(r=(s=u(this,Qi,"f").header)===null||s===void 0?void 0:s.item().as(Cc).element)===null||r===void 0?void 0:r.model)===null||l===void 0?void 0:l.as(Wu):(p=u(this,Qi,"f").header)===null||p===void 0?void 0:p.item().as(Di);let y=(f=u(this,Qi,"f").contents)===null||f===void 0?void 0:f.item().as(ei).tabs.firstOfType(ve);if(!y)throw new v("Target tab not found");this.sections=(m=y.content)===null||m===void 0?void 0:m.as(Z).contents.as(_e,Se,Fe)}getPlaylist(){return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(Wu))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(u(this,hf,"f"),{client:"YTMUSIC"});return new cs(i,u(this,hf,"f"))})}get page(){return u(this,Qi,"f")}};o(sv,"Recap");Qi=new WeakMap,hf=new WeakMap;var rv=sv;var oi,bi,ds,mf,ps,Un=class{constructor(e,i,n){var s,r,l;if(oi.set(this,void 0),bi.set(this,void 0),ds.set(this,void 0),T(this,bi,i,"f"),T(this,oi,d.parseResponse(e.data),"f"),!u(this,oi,"f").contents||!u(this,oi,"f").contents_memo)throw new v("Response did not contain any contents.");let p=u(this,oi,"f").contents.item().as(u_).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(Z);if(!f)throw new v("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(bt),this.contents=f.contents.as(be,wm,_e),n&&T(this,ds,(l=this.contents.firstOfType(be))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return x(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(u(this,bi,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new Un(i,u(this,bi,"f"),!0)})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,ds,"f"))throw new v("Continuation not found.");let e=yield u(this,bi,"f").execute("/search",{continuation:u(this,ds,"f"),client:"YTMUSIC"});return new fs(u(this,bi,"f"),e)})}applyFilter(e){var i,n;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(n=(i=this.header)===null||i===void 0?void 0:i.chips)===null||n===void 0?void 0:n.as(me).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,bi,"f"),{client:"YTMUSIC"});return new Un(r,u(this,bi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(me).map(n=>n.text))||[]}get has_continuation(){return!!u(this,ds,"f")}get did_you_mean(){var e;return(e=u(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Vh).first()}get showing_results_for(){var e;return(e=u(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(s_).first()}get message(){var e;return(e=u(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Fe).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(be))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be)}get page(){return u(this,oi,"f")}};o(Un,"Search");oi=new WeakMap,bi=new WeakMap,ds=new WeakMap;var av=Un,fs=class{constructor(e,i){var n,s;mf.set(this,void 0),ps.set(this,void 0),T(this,mf,e,"f"),T(this,ps,d.parseResponse(i.data),"f"),this.header=(n=u(this,ps,"f").header)===null||n===void 0?void 0:n.item().as(Di),this.contents=(s=u(this,ps,"f").continuation_contents)===null||s===void 0?void 0:s.as(mi)}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield u(this,mf,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new fs(u(this,mf,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return u(this,ps,"f")}};o(fs,"SearchContinuation");mf=new WeakMap,ps=new WeakMap;var uv=class extends zi{constructor(e,i,n){var s,r,l,p,f,m,_,y,b;super(e,i,n);let[k,I]=this.page;if(!(!((s=k.microformat)===null||s===void 0)&&s.is(qt)))throw new v("Invalid microformat",k.microformat);if(this.basic_info=Object.assign(Object.assign({},k.video_details),{description:(r=k.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(l=k.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=k.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=k.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=k.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=k.storyboards,this.endscreen=k.endscreen,I){let E=(y=(_=I.contents_memo)===null||_===void 0?void 0:_.getType(h_))===null||y===void 0?void 0:y[0];this.tabs=E==null?void 0:E.tabs.array().as(ve),this.current_video_endpoint=I.current_video_endpoint,this.player_overlays=(b=I.player_overlays)===null||b===void 0?void 0:b.item().as(Fi)}}getTab(e){var i,n;return x(this,void 0,void 0,function*(){if(!this.tabs)throw new v("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((n=r.contents)===null||n===void 0?void 0:n.item().key("type").string())==="Message")return r.contents.item().as(Fe);if(!r.contents)throw new v("Page contents was empty",r);return r.contents.item().as(Z).contents})}getUpNext(e=!0){var i,n;return x(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new v("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(Zt);if(!r.playlist_id&&e){let l=r.contents.firstOfType(Mi);if(!l)throw new v("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(n=p.contents_memo.getType(Zt))===null||n===void 0?void 0:n[0]}return r})}getRelated(){return x(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return x(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(mn)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,$.YTMUSIC.NAME,$.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};o(uv,"TrackInfo");var _f=uv;var j0={};j(j0,{Channel:()=>lv,HomeFeed:()=>cv,Search:()=>pv,VideoInfo:()=>hv});var hs=class extends he{constructor(e,i,n=!1){var s,r;super(e,i,n),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(go),this.contents=this.memo.getType(_e).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(xn))}getContinuation(){var e;return x(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new hs(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};o(hs,"Channel");var lv=hs;var ms=class extends he{constructor(e,i,n=!1){var s,r;super(e,i,n),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(__),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(v_)}selectCategoryTab(e){var i;return x(this,void 0,void 0,function*(){let n;if(typeof e=="string"?n=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(Lo)&&(n=e),!n)throw new v(`Tab "${e}" not found`);let s=yield n.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new ms(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};o(ms,"HomeFeed");var cv=ms;var dv=class extends he{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let n=this.memo.getType(_e).first();if(!n)throw new v("No item section found in search response.");this.contents=n.contents}};o(dv,"Search");var pv=dv;var fv=class extends zi{constructor(e,i,n){var s,r,l,p,f;super(e,i,n);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let y=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(Do),b=y==null?void 0:y.results,k=y==null?void 0:y.secondary_results;b&&k&&(this.slim_video_metadata=(l=(r=b.firstOfType(_e))===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(r_),this.watch_next_feed=((p=k.firstOfType(_e))===null||p===void 0?void 0:p.contents)||k,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Fi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};o(fv,"VideoInfo");var hv=fv;var d=q;var at,mv=class{constructor(e,i,n,s){var r,l,p,f,m,_,y,b,k,I,E,P,M,U,L,le,xe,Ae,Re,Ke,X,z,ie,te,$e,Ot,Bt,Dt,Ft,Lt,jt,Yt,Ut,Wt,Ht,Jt,Gt;at.set(this,void 0),T(this,at,new c(e),"f"),this.id=s||((m=(f=(p=(l=(r=u(this,at,"f"))===null||r===void 0?void 0:r.runs)===null||l===void 0?void 0:l[0])===null||p===void 0?void 0:p.endpoint)===null||f===void 0?void 0:f.payload)===null||m===void 0?void 0:m.browseId)||((b=(y=(_=u(this,at,"f"))===null||_===void 0?void 0:_.endpoint)===null||y===void 0?void 0:y.payload)===null||b===void 0?void 0:b.browseId)||"N/A",this.name=((k=u(this,at,"f"))===null||k===void 0?void 0:k.text)||"N/A",this.thumbnails=n?w.fromResponse(n):[],this.endpoint=((P=(E=(I=u(this,at,"f"))===null||I===void 0?void 0:I.runs)===null||E===void 0?void 0:E[0])===null||P===void 0?void 0:P.endpoint)||((M=u(this,at,"f"))===null||M===void 0?void 0:M.endpoint),this.badges=Array.isArray(i)?d.parseArray(i):ue([]),this.is_moderator=(U=this.badges)===null||U===void 0?void 0:U.some(pt=>pt.icon_type=="MODERATOR"),this.is_verified=(L=this.badges)===null||L===void 0?void 0:L.some(pt=>pt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(le=this.badges)===null||le===void 0?void 0:le.some(pt=>pt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((X=(Ke=(Re=(Ae=(xe=u(this,at,"f"))===null||xe===void 0?void 0:xe.runs)===null||Ae===void 0?void 0:Ae[0])===null||Re===void 0?void 0:Re.endpoint)===null||Ke===void 0?void 0:Ke.metadata)===null||X===void 0?void 0:X.api_url)==="/browse"&&`${fe.YT_BASE}${((Ot=($e=(te=(ie=(z=u(this,at,"f"))===null||z===void 0?void 0:z.runs)===null||ie===void 0?void 0:ie[0])===null||te===void 0?void 0:te.endpoint)===null||$e===void 0?void 0:$e.payload)===null||Ot===void 0?void 0:Ot.canonicalBaseUrl)||`/u/${(jt=(Lt=(Ft=(Dt=(Bt=u(this,at,"f"))===null||Bt===void 0?void 0:Bt.runs)===null||Dt===void 0?void 0:Dt[0])===null||Ft===void 0?void 0:Ft.endpoint)===null||Lt===void 0?void 0:Lt.payload)===null||jt===void 0?void 0:jt.browseId}`}`||`${fe.YT_BASE}${((Wt=(Ut=(Yt=u(this,at,"f"))===null||Yt===void 0?void 0:Yt.endpoint)===null||Ut===void 0?void 0:Ut.payload)===null||Wt===void 0?void 0:Wt.canonicalBaseUrl)||`/u/${(Gt=(Jt=(Ht=u(this,at,"f"))===null||Ht===void 0?void 0:Ht.endpoint)===null||Jt===void 0?void 0:Jt.payload)===null||Gt===void 0?void 0:Gt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(mv,"Author");at=new WeakMap;var O=mv;var Sw={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var _v,vv,V=class{static load(e){T(V,_v,e,"f",vv)}static get shim(){if(!u(V,_v,"f",vv))throw new Error("Platform is not loaded");return u(V,_v,"f",vv)}};o(V,"Platform");_v=V;vv={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=V.shim.info.version}};o(v,"InnertubeError");var nt=class extends v{};o(nt,"ParsingError");var Wn=class extends v{};o(Wn,"MissingParamError");var si=class extends v{};o(si,"OAuthError");var ut=class extends Error{};o(ut,"PlayerError");var _s=class extends Error{};o(_s,"SessionError");var Jo=class extends Error{};o(Jo,"ChannelError");function Mf(t,e){return Reflect.ownKeys(t).some(n=>{let s=e[n]instanceof c;return!s&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(s?e[n].toString():e[n])})}o(Mf,"deepCompare");function tt(t,e,i){let n=new RegExp(`${U0(e)}(.*?)${U0(i)}`,"s"),s=t.match(n);return s?s[1]:void 0}o(tt,"getStringBetweenStrings");function U0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(U0,"escapeStringRegexp");function Hn(t){let e=Sw[t],i=Math.floor(Math.random()*e.length);return e[i]}o(Hn,"getRandomUserAgent");function W0(t){return x(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),s=yield V.shim.sha1Hash(n);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}o(W0,"generateSidAuth");function mt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}o(mt,"generateRandomString");function je(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}o(je,"timeToSeconds");function N0(...t){let e=new Ci;for(let i of t)if(!!i)for(let n of i)e.set(...n);return e}o(N0,"concatMemos");function oe(t){for(let[e,i]of Object.entries(t))if(!i)throw new Wn(`${e} is missing`)}o(oe,"throwIfMissing");function s1(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}o(s1,"hasKeys");function O0(t){return Eg(this,arguments,o(function*(){let i=t.getReader();try{for(;;){let{done:n,value:s}=yield nn(i.read());if(n)return yield nn(void 0);yield yield nn(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}o(O0,"streamToIterable");var r1=o((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),n=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...n],r=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),V.shim.fetch(t,e)},"debugFetch");function ft(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}o(ft,"u8ToBase64");function w0(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}o(w0,"base64ToU8");function He(t){return!("emoji"in t)}o(He,"isTextRun");function J0(t){return x(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){let s=new Uint8Array(n),r=[];for(let l=0;l<s.length;++l)r.push(e[s[l]]);return r.join("")}return o(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}o(J0,"sha1Hash");var gv={name:"volumio-youtubei.js",version:"0.3.1",description:"Modified version of YouTube.js library for use with Volumio's YouTube Music plugin.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"Original author: LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT). Modified by Patrick Kan (https://github.com/patrickkfkan).",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/build-parser-map.cjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":`npx cpy ./src ./deno && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'linkedom';" "'https://esm.sh/linkedom';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r && npx replace "new Jinter.default" "new Jinter" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/patrickkfkan/Volumio-YouTube.js.git"},license:"MIT",dependencies:{"event-target-polyfill":"0.0.3",jintr:"^1.0.0",linkedom:"^0.14.12","node-fetch":"^2.6.7",uuid:"^9.0.0","web-streams-polyfill":"^3.2.1",tslib:"^2.5.0"},devDependencies:{"@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^5.0.0"},bugs:{url:"https://github.com/patrickkfkan/Volumio-YouTube.js/issues"},homepage:"https://github.com/patrickkfkan/Volumio-YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var gf={};j(gf,{ArrayExpression:()=>vs,ArrowFunctionExpression:()=>gs,AssignmentExpression:()=>xs,BinaryExpression:()=>ys,BlockStatement:()=>bs,BreakStatement:()=>ws,CallExpression:()=>Ts,ConditionalExpression:()=>Is,ContinueStatement:()=>Ss,ExpressionStatement:()=>Cs,ForStatement:()=>Es,FunctionDeclaration:()=>Ps,FunctionExpression:()=>Ns,Identifier:()=>As,IfStatement:()=>Rs,Literal:()=>Ms,LogicalExpression:()=>Vs,MemberExpression:()=>Os,NewExpression:()=>Bs,ObjectExpression:()=>Ds,Property:()=>Fs,ReturnStatement:()=>Ls,SequenceExpression:()=>js,SwitchCase:()=>Ys,SwitchStatement:()=>Us,ThisExpression:()=>Ws,ThrowStatement:()=>Hs,TryStatement:()=>Js,UnaryExpression:()=>Gs,UpdateExpression:()=>zs,VariableDeclaration:()=>Ks,WhileStatement:()=>$s});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};o(R,"BaseJSNode");var vs=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};o(vs,"ArrayExpression");var G0={};j(G0,{namedFunction:()=>Jn});var Jn=o((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var gs=class extends R{run(){let{params:e,body:i}=this.node;return Jn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};o(gs,"ArrowFunctionExpression");var xs=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]+=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]-=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]*=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]/=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]%=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]**=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]<<=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]>>=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]>>>=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let n=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return n[s]&=i}else if(this.node.left.type==="Identifier"){let n=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,n),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};o(xs,"AssignmentExpression");var ys=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),n=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=n;case"!==":return i!==n;case"%":return i%n;case"&":return i&n;case"*":return i*n;case"**":return i**n;case"+":return i+n;case"-":return i-n;case"/":return i/n;case"<":return i<n;case"<<":return i<<n;case"<=":return i<=n;case"==":return i==n;case"===":return i===n;case">":return i>n;case">=":return i>=n;case">>":return i>>n;case">>>":return i>>>n;case"^":return i^n;case"|":return i|n;case"in":return i in n;case"instanceof":return i instanceof n}}};o(ys,"BinaryExpression");var bs=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};o(bs,"BlockStatement");var ws=class extends R{run(){return"break"}};o(ws,"BreakStatement");var Cw=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},xv,z0,Ts=class extends R{constructor(){super(...arguments),xv.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="proceed")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="proceed")return r}if(this.node.callee.type==="MemberExpression"){if(ks.has(this.node,this.visitor))return ks.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof r[l]!="function"&&Cw(this,xv,"m",z0).call(this),r[l].toString().includes("[native code]")?r[l](...p):r[l](p)}let n=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof n!="function"&&Cw(this,xv,"m",z0).call(this),n(s)}};o(Ts,"CallExpression");xv=new WeakSet,z0=o(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(n=>{n.type==="Literal"?i.push(n.raw||""):n.type==="Identifier"?i.push(n.name):n.type==="MemberExpression"&&(n.computed?i.push(`${this.visitor.getName(n.object)}[${this.visitor.getName(n.property)||"..."}]`):i.push(`${this.visitor.getName(n.object)}.${this.visitor.getName(n.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var ks=class{static has(e,i){var n;return e.callee.type==="MemberExpression"?!!(!((n=this.builtins)===null||n===void 0)&&n[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};o(ks,"Builtins");ks.builtins={forEach:(t,e)=>{let i=t.arguments.map(n=>e.visitNode(n));if(t.callee.type==="MemberExpression"){let n=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of n)i[0]([r,s++,n])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Is=class extends R{run(){let{test:e,consequent:i,alternate:n}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(n)}};o(Is,"ConditionalExpression");var Ss=class extends R{run(){return"continue"}};o(Ss,"ContinueStatement");var Cs=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};o(Cs,"ExpressionStatement");var Es=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=o(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let n=this.visitor.visitNode(this.node.body);if(n!=="continue"){if(n==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),n&&this.node.body.type!=="ExpressionStatement")return n}}}};o(Es,"ForStatement");var Ps=class extends R{run(){let{params:e,body:i}=this.node,n=this.visitor.visitNode(this.node.id),s=Jn(n,r=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(n,s)}};o(Ps,"FunctionDeclaration");var Ns=class extends R{run(){let{params:e,body:i}=this.node;return Jn("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};o(Ns,"FunctionExpression");var As=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};o(As,"Identifier");var Rs=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};o(Rs,"IfStatement");var Ms=class extends R{run(){return this.node.value}};o(Ms,"Literal");var Vs=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};o(Vs,"LogicalExpression");var Os=class extends R{run(){let{object:e,property:i,computed:n}=this.node,s=this.visitor.visitNode(e),r=n?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="proceed")return l}return s==null?void 0:s[r]}}};o(Os,"MemberExpression");var Bs=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(n=>this.visitor.visitNode(n));return new e(i)}};o(Bs,"NewExpression");var Ds=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};o(Ds,"ObjectExpression");var K0=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},vf,Ew,Pw,Nw,Fs=class extends R{constructor(){super(...arguments),vf.add(this)}run(){switch(this.node.kind){case"init":return K0(this,vf,"m",Ew).call(this);case"get":return K0(this,vf,"m",Pw).call(this);case"set":return K0(this,vf,"m",Nw).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};o(Fs,"Property");vf=new WeakSet,Ew=o(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),Pw=o(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),Nw=o(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Ls=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};o(Ls,"ReturnStatement");var js=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};o(js,"SequenceExpression");var Ys=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};o(Ys,"SwitchCase");var Us=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,n=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){n=s,s+=1;continue}if(!r&&!i&&n!==-1){i=!0,s=n;continue}i||++s}}};o(Us,"SwitchStatement");var Ws=class extends R{run(){return this.visitor.scope.get("_this")}};o(Ws,"ThisExpression");var Hs=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};o(Hs,"ThrowStatement");var Js=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};o(Js,"TryStatement");var Gs=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),n=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[n]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};o(Gs,"UnaryExpression");var zs=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};o(zs,"UpdateExpression");var Ks=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:n}=e,s=this.visitor.getName(i),r=n?this.visitor.visitNode(n):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};o(Ks,"VariableDeclaration");var $s=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};o($s,"WhileStatement");var u1=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},$0,Aw,qs=class{constructor(e){$0.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=u1(this,$0,"m",Aw).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};o(qs,"Visitor");$0=new WeakSet,Aw=o(function(e){let i=gf[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var l1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],Bw=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],c1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Dw="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",q0={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},X0="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",d1={5:X0,"5module":X0+" export import",6:X0+" const class extends export import super"},p1=/^in(stanceof)?$/,f1=new RegExp("["+Dw+"]"),h1=new RegExp("["+Dw+c1+"]");function Z0(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}}o(Z0,"isInAstralSet");function Ti(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&f1.test(String.fromCharCode(t)):e===!1?!1:Z0(t,Bw)}o(Ti,"isIdentifierStart");function Xs(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&h1.test(String.fromCharCode(t)):e===!1?!1:Z0(t,Bw)||Z0(t,l1)}o(Xs,"isIdentifierChar");var se=o(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function _t(t,e){return new se(t,{beforeExpr:!0,binop:e})}o(_t,"binop");var vt={beforeExpr:!0},it={startsExpr:!0},ig={};function ee(t,e){return e===void 0&&(e={}),e.keyword=t,ig[t]=new se(t,e)}o(ee,"kw");var h={num:new se("num",it),regexp:new se("regexp",it),string:new se("string",it),name:new se("name",it),privateId:new se("privateId",it),eof:new se("eof"),bracketL:new se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new se("]"),braceL:new se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new se("}"),parenL:new se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new se(")"),comma:new se(",",vt),semi:new se(";",vt),colon:new se(":",vt),dot:new se("."),question:new se("?",vt),questionDot:new se("?."),arrow:new se("=>",vt),template:new se("template"),invalidTemplate:new se("invalidTemplate"),ellipsis:new se("...",vt),backQuote:new se("`",it),dollarBraceL:new se("${",{beforeExpr:!0,startsExpr:!0}),eq:new se("=",{beforeExpr:!0,isAssign:!0}),assign:new se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_t("||",1),logicalAND:_t("&&",2),bitwiseOR:_t("|",3),bitwiseXOR:_t("^",4),bitwiseAND:_t("&",5),equality:_t("==/!=/===/!==",6),relational:_t("</>/<=/>=",7),bitShift:_t("<</>>/>>>",8),plusMin:new se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_t("%",10),star:_t("*",10),slash:_t("/",10),starstar:new se("**",{beforeExpr:!0}),coalesce:_t("??",1),_break:ee("break"),_case:ee("case",vt),_catch:ee("catch"),_continue:ee("continue"),_debugger:ee("debugger"),_default:ee("default",vt),_do:ee("do",{isLoop:!0,beforeExpr:!0}),_else:ee("else",vt),_finally:ee("finally"),_for:ee("for",{isLoop:!0}),_function:ee("function",it),_if:ee("if"),_return:ee("return",vt),_switch:ee("switch"),_throw:ee("throw",vt),_try:ee("try"),_var:ee("var"),_const:ee("const"),_while:ee("while",{isLoop:!0}),_with:ee("with"),_new:ee("new",{beforeExpr:!0,startsExpr:!0}),_this:ee("this",it),_super:ee("super",it),_class:ee("class",it),_extends:ee("extends",vt),_export:ee("export"),_import:ee("import",it),_null:ee("null",it),_true:ee("true",it),_false:ee("false",it),_in:ee("in",{beforeExpr:!0,binop:7}),_instanceof:ee("instanceof",{beforeExpr:!0,binop:7}),_typeof:ee("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ee("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ee("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xt=/\r\n?|\n|\u2028|\u2029/,m1=new RegExp(xt.source,"g");function Qs(t){return t===10||t===13||t===8232||t===8233}o(Qs,"isNewLine");function Fw(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var s=t.charCodeAt(n);if(Qs(s))return n<i-1&&s===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}o(Fw,"nextLineBreak");var Lw=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,gt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,jw=Object.prototype,_1=jw.hasOwnProperty,v1=jw.toString,wf=Object.hasOwn||function(t,e){return _1.call(t,e)},Rw=Array.isArray||function(t){return v1.call(t)==="[object Array]"};function Gn(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}o(Gn,"wordsRegexp");function Zi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}o(Zi,"codePointToString");var g1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,yf=o(function(e,i){this.line=e,this.column=i},"Position");yf.prototype.offset=o(function(e){return new yf(this.line,this.column+e)},"offset");var kv=o(function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Yw(t,e){for(var i=1,n=0;;){var s=Fw(t,n,e);if(s<0)return new yf(i,e-n);++i,n=s}}o(Yw,"getLineInfo");var eg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Mw=!1;function x1(t){var e={};for(var i in eg)e[i]=t&&wf(t,i)?t[i]:eg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Mw&&typeof console=="object"&&console.warn&&(Mw=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),t.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),Rw(e.onToken)){var n=e.onToken;e.onToken=function(s){return n.push(s)}}return Rw(e.onComment)&&(e.onComment=y1(e,e.onComment)),e}o(x1,"getOptions");function y1(t,e){return function(i,n,s,r,l,p){var f={type:i?"Block":"Line",value:n,start:s,end:r};t.locations&&(f.loc=new kv(this,l,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}o(y1,"pushComment");var bf=1,Zs=2,ng=4,Uw=8,Ww=16,Hw=32,og=64,Jw=128,Tf=256,sg=bf|Zs|Tf;function rg(t,e){return Zs|(t?ng:0)|(e?Uw:0)}o(rg,"functionFlags");var bv=0,ag=1,wi=2,Gw=3,zw=4,Kw=5,Ne=o(function(e,i,n){this.options=e=x1(e),this.sourceFile=e.sourceFile,this.keywords=Gn(d1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=q0[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=Gn(s);var r=(s?s+" ":"")+q0.strict;this.reservedWordsStrict=Gn(r),this.reservedWordsStrictBind=Gn(r+" "+q0.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(bf),this.regexpState=null,this.privateNameStack=[]},"Parser"),ri={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ne.prototype.parse=o(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");ri.inFunction.get=function(){return(this.currentVarScope().flags&Zs)>0};ri.inGenerator.get=function(){return(this.currentVarScope().flags&Uw)>0&&!this.currentVarScope().inClassFieldInit};ri.inAsync.get=function(){return(this.currentVarScope().flags&ng)>0&&!this.currentVarScope().inClassFieldInit};ri.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Tf)return!1;if(e.flags&Zs)return(e.flags&ng)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};ri.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&og)>0||i||this.options.allowSuperOutsideMethod};ri.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Jw)>0};ri.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};ri.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Zs|Tf))>0||i};ri.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Tf)>0};Ne.extend=o(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,s=0;s<e.length;s++)n=e[s](n);return n},"extend");Ne.parse=o(function(e,i){return new this(i,e).parse()},"parse");Ne.parseExpressionAt=o(function(e,i,n){var s=new this(n,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Ne.tokenizer=o(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ne.prototype,ri);var Ge=Ne.prototype,b1=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ge.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){gt.lastIndex=t,t+=gt.exec(this.input)[0].length;var e=b1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){gt.lastIndex=t+e[0].length;var i=gt.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return s===";"||s==="}"||xt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,gt.lastIndex=t,t+=gt.exec(this.input)[0].length,this.input[t]===";"&&t++}};Ge.eat=function(t){return this.type===t?(this.next(),!0):!1};Ge.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Ge.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Ge.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Ge.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||xt.test(this.input.slice(this.lastTokEnd,this.start))};Ge.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ge.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Ge.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Ge.expect=function(t){this.eat(t)||this.unexpected()};Ge.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Iv=o(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Ge.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Ge.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Ge.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ge.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Y=Ne.prototype;Y.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var r=s[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ug={kind:"loop"},w1={kind:"switch"};Y.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;gt.lastIndex=this.pos;var e=gt.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92||n>55295&&n<56320)return!0;if(t)return!1;if(n===123)return!0;if(Ti(n,!0)){for(var s=i+1;Xs(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n>55295&&n<56320)return!0;var r=this.input.slice(i,s);if(!p1.test(r))return!0}return!1};Y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;gt.lastIndex=this.pos;var t=gt.exec(this.input),e=this.pos+t[0].length,i;return!xt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Xs(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};Y.parseStatement=function(t,e,i){var n=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(n=h._var,r="let"),n){case h._break:case h._continue:return this.parseBreakContinueStatement(s,n.keyword);case h._debugger:return this.parseDebuggerStatement(s);case h._do:return this.parseDoStatement(s);case h._for:return this.parseForStatement(s);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(s,!0);case h._if:return this.parseIfStatement(s);case h._return:return this.parseReturnStatement(s);case h._switch:return this.parseSwitchStatement(s);case h._throw:return this.parseThrowStatement(s);case h._try:return this.parseTryStatement(s);case h._const:case h._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case h._while:return this.parseWhileStatement(s);case h._with:return this.parseWithStatement(s);case h.braceL:return this.parseBlock(!0,s);case h.semi:return this.parseEmptyStatement(s);case h._export:case h._import:if(this.options.ecmaVersion>10&&n===h._import){gt.lastIndex=this.pos;var l=gt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===h._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var m=this.value,_=this.parseExpression();return n===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(s,m,_,t):this.parseExpressionStatement(s,_)}};Y.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};Y.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Y.parseDoStatement=function(t){return this.next(),this.labels.push(ug),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Y.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ug),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var n=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var r=this.isContextual("let"),l=!1,p=new Iv,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};Y.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,xf|(i?0:tg),!1,e)};Y.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Y.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Y.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(w1),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var n=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Y.parseThrowStatement=function(t){return this.next(),xt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var T1=[];Y.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();if(this.next(),this.eat(h.parenL)){e.param=this.parseBindingAtom();var i=e.param.type==="Identifier";this.enterScope(i?Hw:0),this.checkLValPattern(e.param,i?zw:wi),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Y.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Y.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ug),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Y.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Y.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Y.parseLabeledStatement=function(t,e,i,n){for(var s=0,r=this.labels;s<r.length;s+=1){var l=r[s];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};Y.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Y.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Y.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Y.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};Y.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(h.eq)?n.init=this.parseMaybeAssign(e):i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():n.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(h.comma))break}return t};Y.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?ag:wi,!1)};var xf=1,tg=2,$w=4;Y.parseFunction=function(t,e,i,n,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===h.star&&e&tg&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&xf&&(t.id=e&$w&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&tg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?ag:wi:Gw));var r=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rg(t.async,t.generator)),e&xf||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&xf?"FunctionDeclaration":"FunctionExpression")};Y.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Y.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(s.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raise(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&k1(n,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Y.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,r=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:n="static"}if(i.static=p,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:n="async"),!n&&(e>=9||!r)&&this.eat(h.star)&&(s=!0),!n&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:n=f)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||s||r){var m=!i.static&&wv(i,"constructor"),_=m&&t;m&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":l,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};Y.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};Y.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Y.parseClassMethod=function(t,e,i,n){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&wv(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Y.parseClassField=function(t){if(wv(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&wv(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Y.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Tf|og);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Y.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,wi,!1)):(e===!0&&this.unexpected(),t.id=null)};Y.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(!1):null};Y.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Y.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],r=0;r<i.length;++r){var l=i[r];wf(e,l.name)||(s?s.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function k1(t,e){var i=e.key.name,n=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),n==="iget"&&s==="iset"||n==="iset"&&s==="iget"||n==="sget"&&s==="sset"||n==="sset"&&s==="sget"?(t[i]="true",!1):n?!0:(t[i]=s,!1)}o(k1,"isPrivateNameConflicted");function wv(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}o(wv,"checkKeyName");Y.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===h._function||(i=this.isAsyncFunction())){var n=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(n,xf|$w,!1,i)}else if(this.type===h._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,l=t.specifiers;r<l.length;r+=1){var p=l[r];this.checkUnreserved(p.local),this.checkLocalExport(p.local),p.local.type==="Literal"&&this.raise(p.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Y.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),wf(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};Y.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};Y.checkVariableExport=function(t,e){if(!!t)for(var i=0,n=e;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s.id)}};Y.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Y.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var n=this.startNode();n.local=this.parseModuleExportName(),n.exported=this.eatContextual("as")?this.parseModuleExportName():n.local,this.checkExport(t,n.exported,n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e};Y.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=T1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Y.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,wi),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(h.comma))return t}if(this.type===h.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,wi),t.push(this.finishNode(n,"ImportNamespaceSpecifier")),t}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var s=this.startNode();s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,wi),t.push(this.finishNode(s,"ImportSpecifier"))}return t};Y.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return g1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Y.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Y.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Nt=Ne.prototype;Nt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Nt.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var s=t[n];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Nt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Nt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Nt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Nt.parseBindingList=function(t,e,i){for(var n=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(h.comma),e&&this.type===h.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),n.push(r),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var l=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(l),n.push(l)}}return n};Nt.parseBindingListItem=function(t){return t};Nt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Nt.checkLValSimple=function(t,e,i){e===void 0&&(e=bv);var n=e!==bv;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===wi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(wf(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Kw&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};Nt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=bv),t.type){case"ObjectPattern":for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Nt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=bv),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Pt=o(function(e,i,n,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=s,this.generator=!!r},"TokContext"),we={b_stat:new Pt("{",!1),b_expr:new Pt("{",!0),b_tmpl:new Pt("${",!1),p_stat:new Pt("(",!1),p_expr:new Pt("(",!0),q_tmpl:new Pt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Pt("function",!1),f_expr:new Pt("function",!0),f_expr_gen:new Pt("function",!0,!1,null,!0),f_gen:new Pt("function",!1,!1,null,!0)},er=Ne.prototype;er.initialContext=function(){return[we.b_stat]};er.curContext=function(){return this.context[this.context.length-1]};er.braceIsBlock=function(t){var e=this.curContext();return e===we.f_expr||e===we.f_stat?!0:t===h.colon&&(e===we.b_stat||e===we.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?xt.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===we.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};er.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};er.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};er.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===we.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?we.b_stat:we.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(we.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?we.p_stat:we.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==we.p_stat)&&!(t===h._return&&xt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===we.b_stat)?this.context.push(we.f_expr):this.context.push(we.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===we.q_tmpl?this.context.pop():this.context.push(we.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===we.f_expr?this.context[e]=we.f_expr_gen:this.context[e]=we.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var K=Ne.prototype;K.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,s;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var l=e[s];if(l){var p;r==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[r],p&&this.raiseRecoverable(n.start,"Redefinition of property")}else l=e[s]={init:!1,get:!1,set:!1};l[r]=!0}};K.parseExpression=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===h.comma){var r=this.startNodeAt(i,n);for(r.expressions=[s];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};K.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,s=-1,r=-1,l=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Iv,n=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),m};K.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(h.question)){var r=this.startNodeAt(i,n);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};K.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,n,-1,t)};K.parseExprOp=function(t,e,i,n,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==h._in)&&r>n){var l=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(r=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),m,_,r,s),b=this.buildBinary(e,i,t,y,f,l||p);return(l&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(b,e,i,n,s)}return t};K.buildBinary=function(t,e,i,n,s,r){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=s,l.right=n,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};K.parseMaybeUnary=function(t,e,i,n){var s=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(n),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,n),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&qw(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(n||this.privateNameStack.length===0)&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(s,r);m.operator=this.value,m.prefix=!1,m.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,l,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return l};function qw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&qw(t.expression)}o(qw,"isPrivateFieldAccess");K.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,n,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};K.parseSubscripts=function(t,e,i,n,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,n,r,l,s);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};K.parseSubscript=function(t,e,i,n,s,r,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);n&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!n&&this.eat(h.parenL)){var y=new Iv,b=this.yieldPos,k=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,y);if(s&&!f&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=b,this.awaitPos=k,this.awaitIdentPos=I,this.parseArrowExpression(this.startNodeAt(e,i),E,!0,l);this.checkExpressionErrors(y,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=k||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=E,p&&(P.optional=f),t=this.finishNode(P,"CallExpression")}else if(this.type===h.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(e,i);M.tag=t,M.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(M,"TaggedTemplateExpression")}return t};K.parseExprAtom=function(t,e){this.type===h.slash&&this.readRegexp();var i,n=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(i,"Super");case h._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case h.name:var s=this.start,r=this.startLoc,l=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(we.f_expr),this.parseFunction(this.startNodeAt(s,r),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,r),[p],!1,e);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===h.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,r),[p],!0,e)}return p;case h.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return i=this.startNode(),i.value=this.type===h._null?null:this.type===h._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case h.parenL:var m=this.start,_=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),_;case h.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case h.braceL:return this.overrideContext(we.b_expr),this.parseObj(!1,t);case h._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};K.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};K.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};K.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};K.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};K.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};K.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],m=!0,_=!1,y=new Iv,b=this.yieldPos,k=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){I=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var E=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(h.parenR),t&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=b,this.awaitPos=k,this.parseParenArrowList(i,n,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(y,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=k||this.awaitPos,f.length>1?(s=this.startNodeAt(l,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",E,P)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(i,n);return M.expression=s,this.finishNode(M,"ParenthesizedExpression")}else return s};K.parseParenItem=function(t){return t};K.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var I1=[];K.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,s=this.startLoc,r=this.type===h._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,s,!0,!1),r&&t.callee.type==="ImportExpression"&&this.raise(n,"Cannot use new with import()"),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=I1,this.finishNode(t,"NewExpression")};K.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};K.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};K.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!xt.test(this.input.slice(this.lastTokEnd,this.start))};K.parseObj=function(t,e){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(n)n=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};K.parseProperty=function(t,e){var i=this.startNode(),n,s,r,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(n=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i,e)):s=!1,this.parsePropertyValue(i,t,n,s,r,l,e,p),this.finishNode(i,"Property")};K.parsePropertyValue=function(t,e,i,n,s,r,l,p){if((i||n)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n);else if(!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(i||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var f=t.kind==="get"?0:1;if(t.value.params.length!==f){var m=t.value.start;t.kind==="get"?this.raiseRecoverable(m,"getter should have no params"):this.raiseRecoverable(m,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};K.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};K.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};K.parseMethod=function(t,e,i){var n=this.startNode(),s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rg(e,n.generator)|og|(i?Jw:0)),this.expect(h.parenL),n.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(n,"FunctionExpression")};K.parseArrowExpression=function(t,e,i,n){var s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(rg(i,!1)|Ww),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};K.parseFunctionBody=function(t,e,i,n){var s=e&&this.type!==h.braceL,r=this.strict,l=!1;if(s)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Kw),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};K.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};K.checkParams=function(t,e){for(var i=Object.create(null),n=0,s=t.params;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,ag,e?null:i)}};K.parseExprList=function(t,e,i,n){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(n),n&&this.type===h.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):l=this.parseMaybeAssign(!1,n),s.push(l)}return s};K.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};K.parseIdent=function(t,e){var i=this.startNode();return this.type===h.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};K.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};K.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};K.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Tv=Ne.prototype;Tv.raise=function(t,e){var i=Yw(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};Tv.raiseRecoverable=Tv.raise;Tv.curPosition=function(){if(this.options.locations)return new yf(this.curLine,this.pos-this.lineStart)};var en=Ne.prototype,S1=o(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");en.enterScope=function(t){this.scopeStack.push(new S1(t))};en.exitScope=function(){this.scopeStack.pop()};en.treatFunctionsAsVarInScope=function(t){return t.flags&Zs||!this.inModule&&t.flags&bf};en.declareName=function(t,e,i){var n=!1;if(e===wi){var s=this.currentScope();n=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&bf&&delete this.undefinedExports[t]}else if(e===zw){var r=this.currentScope();r.lexical.push(t)}else if(e===Gw){var l=this.currentScope();this.treatFunctionsAsVar?n=l.lexical.indexOf(t)>-1:n=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&Hw&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){n=!0;break}if(f.var.push(t),this.inModule&&f.flags&bf&&delete this.undefinedExports[t],f.flags&sg)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};en.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};en.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};en.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&sg)return e}};en.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&sg&&!(e.flags&Ww))return e}};var Sv=o(function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new kv(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),kf=Ne.prototype;kf.startNode=function(){return new Sv(this,this.start,this.startLoc)};kf.startNodeAt=function(t,e){return new Sv(this,t,e)};function Xw(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}o(Xw,"finishNodeAt");kf.finishNode=function(t,e){return Xw.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};kf.finishNodeAt=function(t,e,i,n){return Xw.call(this,t,e,i,n)};kf.copyNode=function(t){var e=new Sv(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var Qw="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Zw=Qw+" Extended_Pictographic",eT=Zw,tT=eT+" EBase EComp EMod EPres ExtPict",C1=tT,E1={9:Qw,10:Zw,11:eT,12:tT,13:C1},Vw="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",iT="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",nT=iT+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",oT=nT+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",sT=oT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",P1=sT+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",N1={9:iT,10:nT,11:oT,12:sT,13:P1},rT={};function A1(t){var e=rT[t]={binary:Gn(E1[t]+" "+Vw),nonBinary:{General_Category:Gn(Vw),Script:Gn(N1[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}o(A1,"buildUnicodeData");for(yv=0,Q0=[9,10,11,12,13];yv<Q0.length;yv+=1)Ow=Q0[yv],A1(Ow);var Ow,yv,Q0,D=Ne.prototype,ki=o(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=rT[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");ki.prototype.reset=o(function(e,i,n){var s=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},"reset");ki.prototype.raise=o(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");ki.prototype.at=o(function(e,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(e>=s)return-1;var r=n.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var l=n.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");ki.prototype.nextIndex=o(function(e,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(e>=s)return s;var r=n.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(l=n.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");ki.prototype.current=o(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");ki.prototype.lookahead=o(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");ki.prototype.advance=o(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");ki.prototype.eat=o(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=0;n<i.length;n++){var s=i.charAt(n);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(s,n+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames.indexOf(n)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return aT(e)?(t.lastIntValue=e,t.advance(),!0):!1};function aT(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}o(aT,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!aT(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Zi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Zi(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),R1(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function R1(t){return Ti(t,!0)||t===36||t===95}o(R1,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),M1(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function M1(t){return Xs(t,!0)||t===36||t===95||t===8204||t===8205}o(M1,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!Cv(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return uT(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function uT(t){return t>=65&&t<=90||t>=97&&t<=122}o(uT,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(n&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&V1(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function V1(t){return t>=0&&t<=1114111}o(V1,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(O1(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function O1(t){return t===100||t===68||t===115||t===83||t===119||t===87}o(O1,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){wf(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";lT(e=t.current());)t.lastStringValue+=Zi(e),t.advance();return t.lastStringValue!==""};function lT(t){return uT(t)||t===95}o(lT,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";B1(e=t.current());)t.lastStringValue+=Zi(e),t.advance();return t.lastStringValue!==""};function B1(t){return lT(t)||Cv(t)}o(B1,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};D.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||pT(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_eatClassControlLetter=function(t){var e=t.current();return Cv(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Cv(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Cv(t){return t>=48&&t<=57}o(Cv,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;cT(i=t.current());)t.lastIntValue=16*t.lastIntValue+dT(i),t.advance();return t.pos!==e};function cT(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(cT,"isHexDigit");function dT(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}o(dT,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return pT(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function pT(t){return t>=48&&t<=55}o(pT,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var s=t.current();if(!cT(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+dT(s),t.advance()}return!0};var lg=o(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new kv(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Q=Ne.prototype;Q.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new lg(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Q.getToken=function(){return this.next(),new lg(this)};typeof Symbol<"u"&&(Q[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});Q.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Q.readToken=function(t){return Ti(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Q.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Q.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=e;(n=Fw(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Q.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Qs(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Q.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Lw.test(String.fromCharCode(t)))++this.pos;else break e}}};Q.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Q.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};Q.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};Q.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(n,i)};Q.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};Q.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};Q.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||xt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};Q.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};Q.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};Q.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};Q.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ti(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Zi(e)+"'")};Q.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Zi(t)+"'")};Q.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Q.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(xt.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new ki(this));p.reset(i,s,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,l)}catch(m){}return this.finishToken(h.regexp,{pattern:s,flags:l,value:f})};Q.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),y=void 0;if(n&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?y=_-97+10:_>=65?y=_-65+10:_>=48&&_<=57?y=_-48:y=1/0,y>=t)break;p=_,l=l*t+y}return n&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function D1(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}o(D1,"stringToNumber");function fT(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}o(fT,"stringToBigInt");Q.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=fT(this.input.slice(e,this.pos)),++this.pos):Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};Q.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var s=fT(this.input.slice(e,this.pos));return++this.pos,Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ti(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=D1(this.input.slice(e,this.pos),i);return this.finishToken(h.num,r)};Q.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Q.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Qs(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var hT={};Q.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===hT)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Q.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw hT;this.raise(t,e)};Q.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Qs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Q.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Q.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Zi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;return this.invalidStringToken(i,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Qs(e)?"":String.fromCharCode(e)}};Q.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Q.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Xs(s,n))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ti:Xs)(l,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Zi(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Q.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=ig[t]),this.finishToken(e,t)};var F1="8.8.1";Ne.acorn={Parser:Ne,version:F1,defaultOptions:eg,Position:yf,SourceLocation:kv,getLineInfo:Yw,Node:Sv,TokenType:se,tokTypes:h,keywordTypes:ig,TokContext:Pt,tokContexts:we,isIdentifierChar:Xs,isIdentifierStart:Ti,Token:lg,isNewLine:Qs,lineBreak:xt,lineBreakG:m1,nonASCIIwhitespace:Lw};function mT(t,e){return Ne.parse(t,e)}o(mT,"parse");var L1=function(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},j1=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Ev,zn=class{constructor(e){Ev.set(this,void 0);let i=mT(e,{ecmaVersion:2020});L1(this,Ev,i.body,"f"),this.visitor=new qs(j1(this,Ev,"f")),this.scope=this.visitor.scope,this.scope.set("print",n=>console.log(...n)),this.visitor.on("console",(n,s)=>{if(n.type==="Identifier")return console;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){let r=s.visitNode(n.callee.property),l=n.arguments.map(f=>s.visitNode(f)),p=console[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(n,s)=>{if(n.type==="Identifier")return Math;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){let r=s.visitNode(n.callee.property),l=n.arguments.map(f=>s.visitNode(f)),p=Math[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(n,s)=>{if(n.type==="Identifier")return String;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){let r=s.visitNode(n.callee.property),l=n.arguments.map(f=>s.visitNode(f)),p=String[r];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",n=>{if(n.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};o(zn,"Jinter");Ev=new WeakMap;function cg(t,e){let i=new zn(t);for(let[n,s]of Object.entries(e))i.scope.set(n,s);return i.interpret()}o(cg,"evaluate");var If,Kn,_T,vT,gT,Pv=class{constructor(e){If.add(this),Kn.set(this,void 0),T(this,Kn,e,"f")}get session(){return u(this,Kn,"f")}stats(e,i,n){return x(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let l of Object.keys(n))s.searchParams.set(l,n[l]);return yield u(this,Kn,"f").http.fetch(s)})}execute(e,i){var n,s;return x(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&u(this,If,"m",gT).call(this,r.browseId)&&!u(this,Kn,"f").logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield u(this,Kn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=d.parseResponse(yield p.json());if(u(this,If,"m",vT).call(this,f)&&((s=(n=f.on_response_received_actions)===null||n===void 0?void 0:n.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(yn);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return u(this,If,"m",_T).call(this,p)})}};o(Pv,"Actions");Kn=new WeakMap,If=new WeakSet,_T=o(function(e){return x(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),vT=o(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),gT=o(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var dg=Pv;var tr,ir,Sf,Cf,At=class{constructor(e,i,n,s){tr.set(this,void 0),ir.set(this,void 0),Sf.set(this,void 0),Cf.set(this,void 0),T(this,tr,n,"f"),T(this,ir,i,"f"),T(this,Sf,e,"f"),T(this,Cf,s,"f")}static create(e,i=V.shim.fetch){return x(this,void 0,void 0,function*(){let n=new URL("/iframe_api",fe.YT_BASE),s=yield i(n);if(s.status!==200)throw new ut("Failed to request player id");let r=yield s.text(),l=tt(r,"player\\/","\\/");if(!l)throw new ut("Failed to get player id");if(e){let k=yield At.fromCache(e,l);if(k)return k}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,fe.YT_BASE),f=yield i(p,{headers:{"user-agent":Hn("desktop")}});if(!f.ok)throw new ut(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),y=this.extractSigSourceCode(m),b=this.extractNSigSourceCode(m);return yield At.fromSource(e,_,y,b,l)})}decipher(e,i,n){if(e=e||i||n,!e)throw new ut("No valid URL to decipher");let s=new URLSearchParams(e),r=new URL(s.get("url")||e);if(i||n){let f=V.shim.eval(u(this,ir,"f"),{sig:s.get("s")});if(typeof f!="string")throw new ut("Failed to decipher signature");let m=s.get("sp");m?r.searchParams.set(m,f):r.searchParams.set("signature",f)}let l=r.searchParams.get("n");if(l){let f=V.shim.eval(u(this,tr,"f"),{nsig:l});if(typeof f!="string")throw new ut("Failed to decipher nsig");f.startsWith("enhanced_except_")&&console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`),r.searchParams.set("n",f)}switch(r.searchParams.get("c")){case"WEB":r.searchParams.set("cver",$.WEB.VERSION);break;case"WEB_REMIX":r.searchParams.set("cver",$.YTMUSIC.VERSION);break;case"WEB_KIDS":r.searchParams.set("cver",$.WEB_KIDS.VERSION);break;case"ANDROID":r.searchParams.set("cver",$.ANDROID.VERSION);break;case"ANDROID_MUSIC":r.searchParams.set("cver",$.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":r.searchParams.set("cver",$.TV_EMBEDDED.VERSION);break}return r.toString()}static fromCache(e,i){return x(this,void 0,void 0,function*(){let n=yield e.get(i);if(!n)return null;let s=new DataView(n);if(s.getUint32(0,!0)!==At.LIBRARY_VERSION)return null;let l=s.getUint32(4,!0),p=s.getUint32(8,!0),f=n.slice(12,12+p),m=n.slice(12+p),_=new TextDecoder,y=_.decode(f),b=_.decode(m);return new At(l,y,b,i)})}static fromSource(e,i,n,s,r){return x(this,void 0,void 0,function*(){let l=new At(i,n,s,r);return yield l.cache(e),l})}cache(e){return x(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,n=i.encode(u(this,ir,"f")),s=i.encode(u(this,tr,"f")),r=new ArrayBuffer(12+n.byteLength+s.byteLength),l=new DataView(r);l.setUint32(0,At.LIBRARY_VERSION,!0),l.setUint32(4,u(this,Sf,"f"),!0),l.setUint32(8,n.byteLength,!0),new Uint8Array(r).set(n,12),new Uint8Array(r).set(s,12+n.byteLength),yield e.set(u(this,Cf,"f"),new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(tt(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,n,s;let r=tt(e,'function(a){a=a.split("")','return a.join("")}'),l=(s=(n=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.replace(";",""))===null||s===void 0?void 0:s.trim(),p=tt(e,`var ${l}={`,"};");return(!p||!r)&&console.warn(new ut("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${tt(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new ut("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${u(this,Cf,"f")}/player_ias.vflset/en_US/base.js`,fe.YT_BASE).toString()}get sts(){return u(this,Sf,"f")}get nsig_sc(){return u(this,tr,"f")}get sig_sc(){return u(this,ir,"f")}static get LIBRARY_VERSION(){return 2}};o(At,"Player");tr=new WeakMap,ir=new WeakMap,Sf=new WeakMap,Cf=new WeakMap;var pg=At;var fg,Rt,nr,Ef,xT,Nv=class{constructor(e,i,n){fg.add(this),Rt.set(this,void 0),nr.set(this,void 0),Ef.set(this,void 0),T(this,Rt,e,"f"),T(this,nr,i,"f"),T(this,Ef,n||V.shim.fetch,"f")}get fetch_function(){return u(this,Ef,"f")}fetch(e,i){return x(this,void 0,void 0,function*(){let n=fe.API.PRODUCTION_1+u(this,Rt,"f").api_version,s=(i==null?void 0:i.baseURL)||n,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),l=(i==null?void 0:i.headers)||(e instanceof V.shim.Request?e.headers:new V.shim.Headers)||new V.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof V.shim.Request?e.body:void 0),f=new V.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",u(this,Rt,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",u(this,Rt,"f").context.client.clientVersion||""),V.shim.server&&(f.set("User-Agent",Hn("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",u(this,Rt,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,y=!1,b=s===n||s===fe.YT_UPLOAD;if(m==="application/json"&&b&&typeof p=="string"){let E=JSON.parse(p),P=Object.assign(Object.assign({},E),{context:JSON.parse(JSON.stringify(u(this,Rt,"f").context))});u(this,fg,"m",xT).call(this,P.context,P.client),f.set("x-youtube-client-version",P.context.client.clientVersion),delete P.client,V.shim.server&&(P.context.client.clientName==="ANDROID"||P.context.client.clientName==="ANDROID_MUSIC")&&f.set("User-Agent",$.ANDROID.USER_AGENT),y=P.context.client.clientName==="WEB_KIDS",_=JSON.stringify(P)}if(u(this,Rt,"f").logged_in&&b&&!y){let E=u(this,Rt,"f").oauth;if(E.validateCredentials()&&(yield E.refreshIfRequired(),f.set("authorization",`Bearer ${E.credentials.access_token}`),r.searchParams.delete("key")),u(this,nr,"f")){let P=tt(u(this,nr,"f"),"PAPISID=",";");P&&(f.set("authorization",yield W0(P)),f.set("x-goog-authuser",u(this,Rt,"f").account_index.toString())),f.set("cookie",u(this,nr,"f"))}}let k=new V.shim.Request(r,e instanceof V.shim.Request?e:i),I=yield u(this,Ef,"f").call(this,k,{body:_,headers:f,credentials:"include",redirect:e instanceof V.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(I.ok)return I;throw new v(`Request to ${I.url} failed with status ${I.status}`,yield I.text())})}};o(Nv,"HTTPClient");Rt=new WeakMap,nr=new WeakMap,Ef=new WeakMap,fg=new WeakSet,xT=o(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=$.ANDROID.SDK_VERSION,e.client.userAgent=$.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"YTMUSIC":e.client.clientVersion=$.YTMUSIC.VERSION,e.client.clientName=$.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=$.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=$.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=$.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=$.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=$.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=$.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=$.TV_EMBEDDED.NAME,e.client.clientVersion=$.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:fe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=$.WEB_KIDS.VERSION,e.client.clientName=$.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var hg=Nv;var Ii,$n,Ce,Te,Av,bT,_g,yT,wT,mg,Rv=class{constructor(e){Ii.add(this),$n.set(this,void 0),Ce.set(this,void 0),Te.set(this,void 0),Av.set(this,5),T(this,Ce,e,"f")}init(e){return x(this,void 0,void 0,function*(){T(this,Te,e,"f"),this.validateCredentials()?this.has_access_token_expired||u(this,Ce,"f").emit("auth",{credentials:u(this,Te,"f"),status:"SUCCESS"}):(yield u(this,Ii,"m",bT).call(this))||(yield u(this,Ii,"m",_g).call(this))})}cacheCredentials(){var e;return x(this,void 0,void 0,function*(){let n=new TextEncoder().encode(JSON.stringify(u(this,Te,"f")));yield(e=u(this,Ce,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",n.buffer)})}removeCache(){var e;return x(this,void 0,void 0,function*(){yield(e=u(this,Ce,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return x(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield u(this,Ii,"m",wT).call(this))})}revokeCredentials(){return x(this,void 0,void 0,function*(){if(!!u(this,Te,"f"))return yield this.removeCache(),u(this,Ce,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(u(this,Te,"f").access_token)}`,fe.YT_BASE),{method:"post"})})}get credentials(){return u(this,Te,"f")}get has_access_token_expired(){let e=u(this,Te,"f")?new Date(u(this,Te,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return u(this,Te,"f")&&Reflect.has(u(this,Te,"f"),"access_token")&&Reflect.has(u(this,Te,"f"),"refresh_token")&&Reflect.has(u(this,Te,"f"),"expires")||!1}};o(Rv,"OAuth");$n=new WeakMap,Ce=new WeakMap,Te=new WeakMap,Av=new WeakMap,Ii=new WeakSet,bT=o(function(){var e;return x(this,void 0,void 0,function*(){let i=yield(e=u(this,Ce,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let n=new TextDecoder,s=JSON.parse(n.decode(i));return T(this,Te,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),u(this,Ce,"f").emit("auth",{credentials:u(this,Te,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),_g=o(function(){return x(this,void 0,void 0,function*(){T(this,$n,yield u(this,Ii,"m",mg).call(this),"f");let e={client_id:u(this,$n,"f").client_id,scope:Ei.SCOPE,device_id:V.shim.uuidv4(),device_model:Ei.MODEL_NAME},n=yield(yield u(this,Ce,"f").http.fetch_function(new URL("/o/oauth2/device/code",fe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();u(this,Ce,"f").emit("auth-pending",n),T(this,Av,n.interval,"f"),u(this,Ii,"m",yT).call(this,n.device_code)})},"_OAuth_getUserCode"),yT=o(function(e){let i=setInterval(()=>x(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},u(this,$n,"f")),{code:e,grant_type:Ei.GRANT_TYPE});try{let r=yield(yield u(this,Ce,"f").http.fetch_function(new URL("/o/oauth2/token",fe.YT_BASE),{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":u(this,Ce,"f").emit("auth-error",new si("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,Ce,"f").emit("auth-error",new si("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),u(this,Ii,"m",_g).call(this);break;default:break}return}let l=new Date(new Date().getTime()+r.expires_in*1e3);T(this,Te,{access_token:r.access_token,refresh_token:r.refresh_token,expires:l},"f"),u(this,Ce,"f").emit("auth",{credentials:u(this,Te,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),u(this,Ce,"f").emit("auth-error",new si("Could not obtain user code.",{status:"FAILED",error:s}))}}),u(this,Av,"f")*1e3)},"_OAuth_startPolling"),wT=o(function(){return x(this,void 0,void 0,function*(){if(!u(this,Te,"f"))return;T(this,$n,yield u(this,Ii,"m",mg).call(this),"f");let e=Object.assign(Object.assign({},u(this,$n,"f")),{refresh_token:u(this,Te,"f").refresh_token,grant_type:"refresh_token"}),n=yield(yield u(this,Ce,"f").http.fetch_function(new URL("/o/oauth2/token",fe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+n.expires_in*1e3);T(this,Te,{access_token:n.access_token,refresh_token:n.refresh_token||u(this,Te,"f").refresh_token,expires:s},"f"),u(this,Ce,"f").emit("update-credentials",{credentials:u(this,Te,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),mg=o(function(){var e;return x(this,void 0,void 0,function*(){let n=yield(yield u(this,Ce,"f").http.fetch_function(new URL("/tv",fe.YT_BASE),{headers:Ei.HEADERS})).text(),s=(e=Ei.REGEX.AUTH_SCRIPT.exec(n))===null||e===void 0?void 0:e[1];if(!s)throw new si("Could not obtain script url.",{status:"FAILED"});let l=(yield(yield u(this,Ce,"f").http.fetch(s,{baseURL:fe.YT_BASE})).text()).replace(/\n/g,"").match(Ei.REGEX.CLIENT_IDENTITY),p=l==null?void 0:l.groups;if(!p)throw new si("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var vg=Rv;var gg,Mv,Vv,qn,Ov,Bv,TT,kT,xg;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(xg||(xg={}));var tn=class extends ef{constructor(e,i,n,s,r,l,p,f){super(),Mv.set(this,void 0),Vv.set(this,void 0),qn.set(this,void 0),Ov.set(this,void 0),Bv.set(this,void 0),T(this,qn,e,"f"),T(this,Ov,s,"f"),T(this,Vv,i,"f"),T(this,Mv,n,"f"),T(this,Bv,r,"f"),this.http=new hg(this,l,p),this.actions=new dg(this),this.oauth=new vg(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return x(this,void 0,void 0,function*(){let{context:i,api_key:n,api_version:s,account_index:r}=yield tn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch);return new tn(i,n,s,r,e.retrieve_player===!1?void 0:yield pg.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",n=0,s="",r=!1,l=!1,p="desktop",f=xg.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=V.shim.fetch){return x(this,void 0,void 0,function*(){let y;return l?y=u(this,gg,"m",kT).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s}):y=yield u(this,gg,"m",TT).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s},_),Object.assign(Object.assign({},y),{account_index:n})})}signIn(e){return x(this,void 0,void 0,function*(){return new Promise((i,n)=>x(this,void 0,void 0,function*(){let s=o(r=>n(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),n(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){n(r)}}))})}signOut(){return x(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return u(this,Vv,"f")}get api_version(){return u(this,Mv,"f")}get client_version(){return u(this,qn,"f").client.clientVersion}get client_name(){return u(this,qn,"f").client.clientName}get account_index(){return u(this,Ov,"f")}get context(){return u(this,qn,"f")}get player(){return u(this,Bv,"f")}get lang(){return u(this,qn,"f").client.hl}};o(tn,"Session");gg=tn,Mv=new WeakMap,Vv=new WeakMap,qn=new WeakMap,Ov=new WeakMap,Bv=new WeakMap,TT=o(function(e,i=V.shim.fetch){return x(this,void 0,void 0,function*(){let n=new URL("/sw.js_data",fe.YT_BASE),s=mt(11);e.visitor_data&&(s=ye.decodeVisitorData(e.visitor_data).id);let r=yield i(n,{headers:{"accept-language":e.lang||"en-US","user-agent":Hn("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new _s(`Failed to retrieve session data: ${r.status}`);let l=yield r.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],m=`v${f[0][0][6]}`,[[_],y]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:fe.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:y,api_version:m}})},"_Session_retrieveSessionData"),kT=o(function(e){let i=mt(11);return e.visitor_data&&(i=ye.decodeVisitorData(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:ye.encodeVisitorData(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:$.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:fe.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:$.WEB.API_KEY,api_version:$.WEB.API_VERSION}},"_Session_generateSessionData");var yg=tn;var wg={};j(wg,{Kids:()=>$v,Music:()=>Qv,Studio:()=>e0});var bg={};j(bg,{Account:()=>Zn,Browse:()=>Fv,BrowseEndpoint:()=>F,Channel:()=>Si,Comment:()=>Yv,GetNotificationMenuEndpoint:()=>Xn,GuideEndpoint:()=>or,Like:()=>Uv,Music:()=>Wv,NextEndpoint:()=>Ie,Notification:()=>Hv,PlayerEndpoint:()=>ze,Playlist:()=>Jv,ResolveURLEndpoint:()=>Qn,SearchEndpoint:()=>lt,Subscription:()=>Gv,Upload:()=>zv});var F={};j(F,{PATH:()=>Y1,build:()=>U1});var Y1="/browse";function U1(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}o(U1,"build");var Xn={};j(Xn,{PATH:()=>W1,build:()=>H1});var W1="/notification/get_notification_menu";function H1(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}o(H1,"build");var or={};j(or,{PATH:()=>J1});var J1="/guide";var Ie={};j(Ie,{PATH:()=>G1,build:()=>z1});var G1="/next";function z1(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}o(z1,"build");var ze={};j(ze,{PATH:()=>K1,build:()=>$1});var K1="/player";function $1(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:"8AEB"})}o($1,"build");var Qn={};j(Qn,{PATH:()=>q1,build:()=>X1});var q1="/navigation/resolve_url";function X1(t){return Object.assign({url:t.url})}o(X1,"build");var lt={};j(lt,{PATH:()=>Q1,build:()=>Z1});var Q1="/search";function Z1(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}o(Z1,"build");var Zn={};j(Zn,{AccountListEndpoint:()=>Dv});var Dv={};j(Dv,{PATH:()=>ek,build:()=>tk});var ek="/account/accounts_list";function tk(){return{client:"ANDROID"}}o(tk,"build");var Fv={};j(Fv,{EditPlaylistEndpoint:()=>Mt});var Mt={};j(Mt,{PATH:()=>ik,build:()=>nk});var ik="/browse/edit_playlist";function nk(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor}))}}o(nk,"build");var Si={};j(Si,{EditDescriptionEndpoint:()=>jv,EditNameEndpoint:()=>Lv});var Lv={};j(Lv,{PATH:()=>ok,build:()=>sk});var ok="/channel/edit_name";function sk(t){return{givenName:t.given_name,client:"ANDROID"}}o(sk,"build");var jv={};j(jv,{PATH:()=>rk,build:()=>ak});var rk="/channel/edit_description";function ak(t){return{givenDescription:t.given_description,client:"ANDROID"}}o(ak,"build");var Yv={};j(Yv,{CreateCommentEndpoint:()=>to,PerformCommentActionEndpoint:()=>eo});var eo={};j(eo,{PATH:()=>uk,build:()=>lk});var uk="/comment/perform_comment_action";function lk(t){return Object.assign({actions:t.actions},{client:t.client})}o(lk,"build");var to={};j(to,{PATH:()=>ck,build:()=>dk});var ck="/comment/create_comment";function dk(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}o(dk,"build");var Uv={};j(Uv,{DislikeEndpoint:()=>no,LikeEndpoint:()=>io,RemoveLikeEndpoint:()=>oo});var io={};j(io,{PATH:()=>pk,build:()=>fk});var pk="/like/like";function fk(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}o(fk,"build");var no={};j(no,{PATH:()=>hk,build:()=>mk});var hk="/like/dislike";function mk(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}o(mk,"build");var oo={};j(oo,{PATH:()=>_k,build:()=>vk});var _k="/like/removelike";function vk(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}o(vk,"build");var Wv={};j(Wv,{GetSearchSuggestionsEndpoint:()=>so});var so={};j(so,{PATH:()=>gk,build:()=>xk});var gk="/music/get_search_suggestions";function xk(t){return{input:t.input,client:"YTMUSIC"}}o(xk,"build");var Hv={};j(Hv,{GetUnseenCountEndpoint:()=>sr,ModifyChannelPreferenceEndpoint:()=>ro});var sr={};j(sr,{PATH:()=>yk});var yk="/notification/get_unseen_count";var ro={};j(ro,{PATH:()=>bk,build:()=>wk});var bk="/notification/modify_channel_preference";function wk(t){return Object.assign({params:t.params},{client:t.client})}o(wk,"build");var Jv={};j(Jv,{CreateEndpoint:()=>ao,DeleteEndpoint:()=>uo});var ao={};j(ao,{PATH:()=>Tk,build:()=>kk});var Tk="/playlist/create";function kk(t){return{title:t.title,ids:t.ids}}o(kk,"build");var uo={};j(uo,{PATH:()=>Ik,build:()=>Sk});var Ik="/playlist/delete";function Sk(t){return{playlistId:t.playlist_id}}o(Sk,"build");var Gv={};j(Gv,{SubscribeEndpoint:()=>lo,UnsubscribeEndpoint:()=>co});var lo={};j(lo,{PATH:()=>Ck,build:()=>Ek});var Ck="/subscription/subscribe";function Ek(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}o(Ek,"build");var co={};j(co,{PATH:()=>Pk,build:()=>Nk});var Pk="/subscription/unsubscribe";function Nk(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}o(Nk,"build");var zv={};j(zv,{CreateVideoEndpoint:()=>po});var po={};j(po,{PATH:()=>Ak,build:()=>Rk});var Ak="/upload/createvideo";function Rk(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}o(Rk,"build");var ct,Kv=class{constructor(e){ct.set(this,void 0),T(this,ct,e,"f")}search(e){return x(this,void 0,void 0,function*(){let i=yield u(this,ct,"f").actions.execute(lt.PATH,lt.build({client:"YTKIDS",query:e}));return new pv(u(this,ct,"f").actions,i)})}getInfo(e){var i;return x(this,void 0,void 0,function*(){let n=ze.build({sts:(i=u(this,ct,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ie.build({video_id:e,client:"YTKIDS"}),r=u(this,ct,"f").actions.execute(ze.PATH,n),l=u(this,ct,"f").actions.execute(Ie.PATH,s),p=yield Promise.all([r,l]),f=mt(16);return new hv(p,u(this,ct,"f").actions,f)})}getChannel(e){return x(this,void 0,void 0,function*(){let i=yield u(this,ct,"f").actions.execute(F.PATH,F.build({browse_id:e,client:"YTKIDS"}));return new lv(u(this,ct,"f").actions,i)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,ct,"f").actions.execute(F.PATH,F.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new cv(u(this,ct,"f").actions,e)})}};o(Kv,"Kids");ct=new WeakMap;var $v=Kv;var qv,Pf,de,IT,ST,Xv=class{constructor(e){qv.add(this),Pf.set(this,void 0),de.set(this,void 0),T(this,Pf,e,"f"),T(this,de,e.actions,"f")}getInfo(e){if(e instanceof Ro)return u(this,qv,"m",ST).call(this,e);if(typeof e=="string")return u(this,qv,"m",IT).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return x(this,void 0,void 0,function*(){oe({query:e});let n=yield u(this,de,"f").execute(lt.PATH,lt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?ye.encodeMusicSearchFilters(i):void 0}));return new av(n,u(this,de,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new nv(e,u(this,de,"f"))})}getExplore(){return x(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new iv(e)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new ov(e,u(this,de,"f"))})}getArtist(e){return x(this,void 0,void 0,function*(){if(oe({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new ev(i,u(this,de,"f"))})}getAlbum(e){return x(this,void 0,void 0,function*(){if(oe({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new X_(i)})}getPlaylist(e){return x(this,void 0,void 0,function*(){oe({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new cs(i,u(this,de,"f"))})}getUpNext(e,i=!0){var n,s,r;return x(this,void 0,void 0,function*(){oe({video_id:e});let p=(n=(yield u(this,de,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||n===void 0?void 0:n.getType(ve),f=p==null?void 0:p.first();if(!f)throw new v("Could not find target tab.");let m=(s=f.content)===null||s===void 0?void 0:s.as(Mo);if(!m||!m.content)throw new v("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(Zt);if(!_.playlist_id&&i){let y=_.contents.firstOfType(Mi);if(!y)throw new v("Automix item not found");let b=yield(r=y.playlist_video)===null||r===void 0?void 0:r.endpoint.call(u(this,de,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!b||!b.contents_memo)throw new v("Could not fetch automix");return b.contents_memo.getType(Zt).first()}return _})}getRelated(e){var i;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield u(this,de,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ve),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new v("Could not find target tab.");let l=yield r.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);return l.contents.item().as(Z).contents.as(Se,mn)})}getLyrics(e){var i;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=(i=(yield u(this,de,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ve),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new v("Could not find target tab.");let l=yield r.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);if(l.contents.item().key("type").string()==="Message")throw new v(l.contents.item().as(Fe).text.toString(),e);return l.contents.item().as(Z).contents.firstOfType(mn)})}getRecap(){return x(this,void 0,void 0,function*(){let e=yield u(this,de,"f").execute(F.PATH,F.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new rv(e,u(this,de,"f"))})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){let i=yield u(this,de,"f").execute(so.PATH,Object.assign(Object.assign({},so.build({input:e})),{parse:!0}));if(!i.contents_memo)throw new v("Unexpected response",i);return i.contents_memo.getType(t_).first().contents})}};o(Xv,"Music");Pf=new WeakMap,de=new WeakMap,qv=new WeakSet,IT=o(function(e){var i;return x(this,void 0,void 0,function*(){let n=ze.build({video_id:e,sts:(i=u(this,Pf,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ie.build({video_id:e,client:"YTMUSIC"}),r=u(this,de,"f").execute(ze.PATH,n),l=u(this,de,"f").execute(Ie.PATH,s),p=yield Promise.all([r,l]),f=mt(16);return new _f(p,u(this,de,"f"),f)})},"_Music_fetchInfoFromVideoId"),ST=o(function(e){var i;return x(this,void 0,void 0,function*(){if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let n=e.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=u(this,Pf,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(u(this,de,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=mt(16),l=yield Promise.all([n,s]);return new _f(l,u(this,de,"f"),r)})},"_Music_fetchInfoFromListItem");var Qv=Xv;var Nf,Vt,CT,ET,PT,Zv=class{constructor(e){Nf.add(this),Vt.set(this,void 0),T(this,Vt,e,"f")}setThumbnail(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Vt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new Wn("One or more parameters are missing.");let n=ye.encodeCustomThumbnailPayload(e,i);return yield u(this,Vt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:n})})}updateVideoMetadata(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Vt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let n=ye.encodeVideoMetadataPayload(e,i);return yield u(this,Vt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:n})})}upload(e,i={}){return x(this,void 0,void 0,function*(){if(!u(this,Vt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let n=yield u(this,Nf,"m",CT).call(this),s=yield u(this,Nf,"m",ET).call(this,n.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield u(this,Nf,"m",PT).call(this,n,s,i)})}};o(Zv,"Studio");Vt=new WeakMap,Nf=new WeakSet,CT=o(function(){return x(this,void 0,void 0,function*(){let e=`innertube_android:${V.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${V.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},n=yield u(this,Vt,"f").http.fetch("/upload/youtubei",{baseURL:fe.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!n.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:n.headers.get("x-guploader-uploadid"),upload_url:n.headers.get("x-goog-upload-url"),scotty_resource_id:n.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:n.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),ET=o(function(e,i){return x(this,void 0,void 0,function*(){let n=yield u(this,Vt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!n.ok)throw new v("Could not upload video");return yield n.json()})},"_Studio_uploadVideo"),PT=o(function(e,i,n){return x(this,void 0,void 0,function*(){return yield u(this,Vt,"f").actions.execute(po.PATH,po.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:n.title||new Date().toDateString()},description:{new_description:n.description||"",should_segment:!0},privacy:{new_privacy:n.privacy||"PRIVATE"},draft_state:{is_draft:n.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var e0=Zv;var Tg={};j(Tg,{AccountManager:()=>i0,InteractionManager:()=>r0,PlaylistManager:()=>o0});var dt,t0=class{constructor(e){dt.set(this,void 0),T(this,dt,e,"f"),this.channel={editName:i=>{if(!u(this,dt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return u(this,dt,"f").execute(Si.EditNameEndpoint.PATH,Si.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!u(this,dt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return u(this,dt,"f").execute(Si.EditDescriptionEndpoint.PATH,Si.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return x(this,void 0,void 0,function*(){if(!u(this,dt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield u(this,dt,"f").execute(Zn.AccountListEndpoint.PATH,Zn.AccountListEndpoint.build());return new b_(e)})}getTimeWatched(){return x(this,void 0,void 0,function*(){let e=yield u(this,dt,"f").execute(F.PATH,F.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new z_(e)})}getSettings(){return x(this,void 0,void 0,function*(){let e=yield u(this,dt,"f").execute(F.PATH,F.build({browse_id:"SPaccount_overview"}));return new J_(u(this,dt,"f"),e)})}getAnalytics(){var e;return x(this,void 0,void 0,function*(){let i=yield this.getInfo(),n=yield u(this,dt,"f").execute(F.PATH,F.build({browse_id:"FEanalytics_screen",params:ye.encodeChannelAnalyticsParams((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new T_(n)})}};o(t0,"AccountManager");dt=new WeakMap;var i0=t0;var De,n0=class{constructor(e){De.set(this,void 0),T(this,De,e,"f")}create(e,i){return x(this,void 0,void 0,function*(){if(oe({title:e,video_ids:i}),!u(this,De,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let n=yield u(this,De,"f").execute(ao.PATH,ao.build({ids:i,title:e}));return{success:n.success,status_code:n.status_code,playlist_id:n.data.playlistId,data:n.data}})}delete(e){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e}),!u(this,De,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield u(this,De,"f").execute(uo.PATH,uo.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!u(this,De,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let n=yield u(this,De,"f").execute(Mt.PATH,Mt.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:n.data.actions}})}removeVideos(e,i){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!u(this,De,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let n=yield u(this,De,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),s=new _i(u(this,De,"f"),n,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=o(f=>x(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(s),!r.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield u(this,De,"f").execute(Mt.PATH,Mt.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,n){return x(this,void 0,void 0,function*(){if(oe({playlist_id:e,moved_video_id:i,predecessor_video_id:n}),!u(this,De,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let s=yield u(this,De,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),r=new _i(u(this,De,"f"),s,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,m=o(y=>x(this,void 0,void 0,function*(){let b=y.videos.find(I=>i===I.key("id").string()),k=y.videos.find(I=>n===I.key("id").string());if(p=p||(b==null?void 0:b.key("set_video_id").string()),f=f||(k==null?void 0:k.key("set_video_id").string()),!p||!f){let I=yield y.getContinuation();return m(I)}}),"getSetVideoIds");yield m(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield u(this,De,"f").execute(Mt.PATH,Mt.build(l));return{playlist_id:e,action_result:_.data.actions}})}};o(n0,"PlaylistManager");De=new WeakMap;var o0=n0;var Ve,s0=class{constructor(e){Ve.set(this,void 0),T(this,Ve,e,"f")}like(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(io.PATH,io.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(no.PATH,no.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return x(this,void 0,void 0,function*(){if(oe({video_id:e}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(oo.PATH,oo.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return x(this,void 0,void 0,function*(){if(oe({channel_id:e}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(lo.PATH,lo.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return x(this,void 0,void 0,function*(){if(oe({channel_id:e}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(co.PATH,co.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return x(this,void 0,void 0,function*(){if(oe({video_id:e,text:i}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ve,"f").execute(to.PATH,to.build({comment_text:i,create_comment_params:ye.encodeCommentParams(e),client:"ANDROID"}))})}translate(e,i,n={}){return x(this,void 0,void 0,function*(){oe({text:e,target_language:i});let s=ye.encodeCommentActionParams(22,Object.assign({text:e,target_language:i},n)),r=yield u(this,Ve,"f").execute(eo.PATH,eo.build({client:"ANDROID",actions:[s]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return x(this,void 0,void 0,function*(){if(oe({channel_id:e,type:i}),!u(this,Ve,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let n={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(n).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield u(this,Ve,"f").execute(ro.PATH,ro.build({client:"WEB",params:ye.encodeNotificationPref(e,n[i.toUpperCase()])}))})}};o(s0,"InteractionManager");Ve=new WeakMap;var r0=s0;var Ue,rr=class{constructor(e){Ue.set(this,void 0),T(this,Ue,e,"f")}static create(e={}){return x(this,void 0,void 0,function*(){return new rr(yield yg.create(e))})}getInfo(e,i){var n,s,r,l,p;return x(this,void 0,void 0,function*(){oe({target:e});let f;if(e instanceof g)f=Ie.build({video_id:(n=e.payload)===null||n===void 0?void 0:n.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ie.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let m=ze.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=u(this,Ue,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(ze.PATH,m),y=this.actions.execute(Ie.PATH,f),b=yield Promise.all([_,y]),k=mt(16);return new cf(b,this.actions,k)})}getBasicInfo(e,i){var n;return x(this,void 0,void 0,function*(){oe({video_id:e});let s=yield this.actions.execute(ze.PATH,ze.build({video_id:e,client:i,sts:(n=u(this,Ue,"f").player)===null||n===void 0?void 0:n.sts})),r=mt(16);return new cf([s],this.actions,r)})}search(e,i={}){return x(this,void 0,void 0,function*(){oe({query:e});let n=yield this.actions.execute(lt.PATH,lt.build({query:e,params:i?ye.encodeSearchFilters(i):void 0}));return new H_(this.actions,n)})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){oe({query:e});let i=new URL(`${fe.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",u(this,Ue,"f").context.client.hl),i.searchParams.set("gl",u(this,Ue,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield u(this,Ue,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return x(this,void 0,void 0,function*(){oe({video_id:e});let n=yield this.actions.execute(Ie.PATH,Ie.build({continuation:ye.encodeCommentsSectionParams(e,{sort_by:i||"TOP_COMMENTS"})}));return new I_(this.actions,n.data)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEwhat_to_watch"}));return new Ct(this.actions,e)})}getGuide(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(or.PATH);return new C_(e.data)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FElibrary"}));return new V_(this.actions,e)})}getHistory(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhistory"}));return new $o(this.actions,e)})}getTrending(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEtrending"})),{parse:!0}));return new Wo(this.actions,e)})}getSubscriptionsFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new he(this.actions,e)})}getChannel(e){return x(this,void 0,void 0,function*(){oe({id:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new Pe(this.actions,i)})}getNotifications(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(Xn.PATH,Xn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new W_(this.actions,e)})}getUnseenNotificationsCount(){var e,i,n,s;return x(this,void 0,void 0,function*(){let r=yield this.actions.execute(sr.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(n=(i=r.data)===null||i===void 0?void 0:i.actions)===null||n===void 0?void 0:n[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return x(this,void 0,void 0,function*(){oe({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new _i(this.actions,i)})}getHashtag(e){return x(this,void 0,void 0,function*(){oe({hashtag:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhashtag",params:ye.encodeHashtag(e)}));return new ii(this.actions,i)})}getStreamingData(e,i={}){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return x(this,void 0,void 0,function*(){return(yield this.actions.execute(Qn.PATH,Object.assign(Object.assign({},Qn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Qv(u(this,Ue,"f"))}get studio(){return new e0(u(this,Ue,"f"))}get kids(){return new $v(u(this,Ue,"f"))}get account(){return new i0(u(this,Ue,"f").actions)}get playlist(){return new o0(u(this,Ue,"f").actions)}get interact(){return new r0(u(this,Ue,"f").actions)}get actions(){return u(this,Ue,"f").actions}get session(){return u(this,Ue,"f")}};o(rr,"Innertube");Ue=new WeakMap;var kg=rr;var NT={};var fo,a0=class{constructor(e,i){fo.set(this,void 0),T(this,fo,new V.shim.Cache(e,i),"f")}get cache_dir(){return u(this,fo,"f").cache_dir}get(e){return u(this,fo,"f").get(e)}set(e,i){return u(this,fo,"f").set(e,i)}remove(e){return u(this,fo,"f").remove(e)}};o(a0,"UniversalCache");fo=new WeakMap;var Mk=a0;var AT=kg;var Af,u0,l0,c0,d0=class{constructor(e=!1,i){Af.add(this),u0.set(this,void 0),l0.set(this,void 0),T(this,u0,i||"","f"),T(this,l0,e,"f")}get cache_dir(){return u(this,l0,"f")?u(this,u0,"f"):""}get(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Af,"m",c0).call(this);if(!!i)return new Promise((n,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;n(p?p.buffer:void 0)}})})}set(e,i){return x(this,void 0,void 0,function*(){let n=yield u(this,Af,"m",c0).call(this);if(!!n)return new Promise((s,r)=>{let l=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>s()})})}remove(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Af,"m",c0).call(this);if(!!i)return new Promise((n,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>n()})})}};o(d0,"Cache");u0=new WeakMap,l0=new WeakMap,Af=new WeakSet,c0=o(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){n("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");V.load({runtime:"browser",server:!1,info:{version:gv.version,bugs_url:gv.bugs.url,repo_url:gv.homepage.split("#")[0]},Cache:d0,sha1Hash:J0,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:cg,DOMParser:globalThis.DOMParser,serializeDOM(t){return new XMLSerializer().serializeToString(t)},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var __e=AT;export{dg as Actions,zp as AppendContinuationItemsAction,xg as ClientType,wg as Clients,ot as Constants,Yo as Continuation,bg as Endpoints,ef as EventEmitter,uf as FormatUtils,S0 as Generator,Tn as GridContinuation,hg as HTTPClient,h0 as Helpers,kg as Innertube,xn as ItemSectionContinuation,kn as LiveChatContinuation,Tg as Managers,Y0 as Misc,B0 as Mixins,wn as MusicPlaylistShelfContinuation,mi as MusicShelfContinuation,yn as NavigateAction,vg as OAuth,d as Parser,V as Platform,pg as Player,Kp as PlaylistPanelContinuation,ye as Proto,bn as ReloadContinuationItemsCommand,st as SectionListContinuation,yg as Session,NT as Types,Mk as UniversalCache,H0 as Utils,D0 as YT,j0 as YTKids,L0 as YTMusic,Gp as YTNodes,__e as default};
//# sourceMappingURL=browser.min.js.map
